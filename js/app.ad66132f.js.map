{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/interaction-designer/block-types/Core_SetGroupMembershipBlock.vue","webpack:///./src/store/flow/block-types/Core_SetGroupMembershipStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_SetGroupMembershipBlock.vue?e376","webpack:///./src/components/interaction-designer/block-types/Core_SetGroupMembershipBlock.vue?cf29","webpack:///./src/components/interaction-designer/block-types/Core_SetGroupMembershipBlock.vue?c49a","webpack:///./src/store/flow/utils/resourceHelpers.ts","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?2bca","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?0d2b","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectManyResponseBlock.vue?8cc9","webpack:///./src/lib/custom-icons/index.ts","webpack:///./src/font-awesome-icon.ts","webpack:///./src/components/interaction-designer/toolbar/TreeBuilderToolbar.vue?a52f","webpack:///./src/components/common/AudioLibrarySearchField.vue?a292","webpack:///./node_modules/@floip/flow-runner/dist/resources/validationSchema sync ^\\.\\/.*\\/I.*Block\\.json$","webpack:///./src/store/flow/utils/vuexBlockAndFlowHelpers.ts","webpack:///./src/lib/flow/flow-2.0.0.js","webpack:///./src/components/interaction-designer/block-types/SmartDevices_PhotoResponseBlock.vue","webpack:///./src/store/flow/block-types/SmartDevices_PhotoResponseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/SmartDevices_PhotoResponseBlock.vue?4ba6","webpack:///./src/components/interaction-designer/block-types/SmartDevices_PhotoResponseBlock.vue?00a5","webpack:///./src/components/interaction-designer/block-types/SmartDevices_PhotoResponseBlock.vue?0a6a","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_NumericResponseBlock.vue","webpack:///./src/store/flow/block-types/MobilePrimitives_NumericResponseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_NumericResponseBlock.vue?0820","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_NumericResponseBlock.vue?7b55","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_NumericResponseBlock.vue?ee39","webpack:///./src/components/interaction-designer/block-editors/TagSelector.vue?2edd","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditorCell.vue?4403","webpack:///./node_modules/@floip/flow-runner/dist/resources/validationSchema sync ^\\.\\/.*\\/flowSpecJsonSchema\\.json$","webpack:///./src/components/interaction-designer/block-editors/BlockEditor.vue?55a3","webpack:///./src/components/interaction-designer/block-types/BaseBlock.vue","webpack:///./src/components/interaction-designer/block-types/BaseBlock.vue?6ed8","webpack:///./src/components/interaction-designer/block-types/BaseBlock.vue?b2e7","webpack:///./src/components/interaction-designer/block-types/BaseBlock.vue?c8fb","webpack:///./src/store/flow/block-types/BaseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_LogBlock.vue","webpack:///./src/store/flow/block-types/Core_LogBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_LogBlock.vue?eb84","webpack:///./src/components/interaction-designer/block-types/Core_LogBlock.vue?3fbc","webpack:///./src/components/interaction-designer/block-types/Core_LogBlock.vue?8659","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/lib/filters/lang.ts","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?282a","webpack:///./src/components/interaction-designer/flow-editors/import/TechErrorNotifications.vue","webpack:///src/components/interaction-designer/flow-editors/import/TechErrorNotifications.vue","webpack:///./src/components/interaction-designer/flow-editors/import/TechErrorNotifications.vue?2993","webpack:///./src/components/interaction-designer/flow-editors/import/TechErrorNotifications.vue?894e","webpack:///./src/components/common/AudioLibrarySelection.vue?1cb7","webpack:///./src/store/flow/flow.ts","webpack:///./src/store/undoRedo/deeplink/block-create.ts","webpack:///./src/store/undoRedo/deeplink/block-change.ts","webpack:///./src/store/undoRedo/deeplink/resource-change.ts","webpack:///./src/store/undoRedo/deeplink/flow-change.ts","webpack:///./src/store/undoRedo/deeplink/index.ts","webpack:///./src/utils/type-utils.ts","webpack:///./src/store/undoRedo/getChangedKeys.ts","webpack:///./src/store/undoRedo/index.ts","webpack:///./src/components/interaction-designer/block-editors/SimplifiedNameEditor.vue?6978","webpack:///./src/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/SmartDevices_LocationResponseBlock.vue","webpack:///./src/store/flow/block-types/SmartDevices_LocationResponseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/SmartDevices_LocationResponseBlock.vue?a3cb","webpack:///./src/components/interaction-designer/block-types/SmartDevices_LocationResponseBlock.vue?9ab9","webpack:///./src/components/interaction-designer/block-types/SmartDevices_LocationResponseBlock.vue?6897","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?aba0","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?d1ad","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_SelectOneResponseBlock.vue?e807","webpack:///./src/components/interaction-designer/block-types/Core_OutputBlock.vue","webpack:///./src/store/flow/block-types/Core_OutputBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_OutputBlock.vue?978d","webpack:///./src/components/interaction-designer/block-types/Core_OutputBlock.vue?1359","webpack:///./src/components/interaction-designer/block-types/Core_OutputBlock.vue?4c2e","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue?1338","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceKeyPressSelector.vue?e95e","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditor.vue?388e","webpack:///./src/components/interaction-designer/BuilderCanvas.vue?5d6a","webpack:///./src/components/interaction-designer/block/Block.vue?2423","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_OpenResponseBlock.vue","webpack:///./src/store/flow/block-types/MobilePrimitives_OpenResponseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_OpenResponseBlock.vue?6ad4","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_OpenResponseBlock.vue?55a4","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_OpenResponseBlock.vue?9daf","webpack:///./src/components/interaction-designer/resource-viewer/ResourceViewerBlock.vue?e0a7","webpack:///./src/utils/string-utils.ts","webpack:///./src/store/flow/block/set-contact-property.ts","webpack:///./src/store/flow/block.ts","webpack:///./src/components/interaction-designer/flow-editors/import/ImportMatcher.vue?a74a","webpack:///./src/store/flow/block-types/Core_RunFlowBlockStore.ts","webpack:///./src/components/interaction-designer/block-editors/GroupMembershipEditor.vue?5dae","webpack:///./src/components/common/KeypadDigitsSelector.vue?90df","webpack:///./src/components/interaction-designer/toolbar/ErrorNotifications.vue?ac03","webpack:///./src/components/interaction-designer/block-types/Core_SetContactPropertyBlock.vue","webpack:///./src/store/flow/block-types/Core_SetContactPropertyStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_SetContactPropertyBlock.vue?815e","webpack:///./src/components/interaction-designer/block-types/Core_SetContactPropertyBlock.vue?4081","webpack:///./src/components/interaction-designer/block-types/Core_SetContactPropertyBlock.vue?a98d","webpack:///./src/store/flow/block/choice.ts","webpack:///./src/components/interaction-designer/flow-editors/import/ImportMatcher.vue","webpack:///./src/components/interaction-designer/flow-editors/import/ImportMatcher.vue?baa1","webpack:///./src/components/interaction-designer/flow-editors/import/ImportMatcher.vue?364b","webpack:///./src/components/interaction-designer/flow-editors/import/ImportMatcher.vue?dd3c","webpack:///./src/components/interaction-designer/flow-editors/import/ErrorHandlerV2.vue","webpack:///src/components/interaction-designer/flow-editors/import/ErrorHandlerV2.vue","webpack:///./src/components/interaction-designer/flow-editors/import/ErrorHandlerV2.vue?34a3","webpack:///./src/components/interaction-designer/flow-editors/import/ErrorHandlerV2.vue?9a8f","webpack:///./src/store/flow/utils/importHelpers.ts","webpack:///./src/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue?4985","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model.ts","webpack:///./node_modules/@floip/flow-runner/node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./node_modules/@floip/expression-evaluator/node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/interaction-designer/toolbar/BlockErrorsExpandable.vue?2351","webpack:///./src/components/notification/InProgressAction.vue","webpack:///src/components/notification/InProgressAction.vue","webpack:///./src/components/notification/InProgressAction.vue?e88b","webpack:///./src/components/notification/InProgressAction.vue?ce54","webpack:///./src/store/builder/index.ts","webpack:///./node_modules/@floip/flow-runner/dist/resources/validationSchema sync ^\\.\\/.*\\/.*\\.json$","webpack:///./src/components/interaction-designer/block-editors/choices/expressionTransformers.ts","webpack:///./src/components/interaction-designer/block/BlockExit.vue?d709","webpack:///./src/router/helpers.ts","webpack:///./src/components/interaction-designer/Connection.vue?5e5e","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_MessageBlock.vue","webpack:///./src/store/flow/block-types/MobilePrimitives_MessageBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_MessageBlock.vue?51c6","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_MessageBlock.vue?4f37","webpack:///./src/components/interaction-designer/block-types/MobilePrimitives_MessageBlock.vue?3623","webpack:///./src/components/interaction-designer/block-types/Core_RunFlowBlock.vue","webpack:///./src/components/interaction-designer/block-types/Core_RunFlowBlock.vue?9d04","webpack:///./src/components/interaction-designer/block-types/Core_RunFlowBlock.vue?9249","webpack:///./src/components/interaction-designer/block-types/Core_RunFlowBlock.vue?3bfb","webpack:///./src/components/common/AudioLibrarySearchField.vue","webpack:///./src/components/common/AudioLibrarySearchField.vue?cab7","webpack:///./src/components/common/AudioLibrarySearchField.vue?5578","webpack:///./src/components/common/AudioLibrarySearchField.vue?4723","webpack:///./src/components/common/AudioLibrarySelection.vue","webpack:///./src/lib/filters/moment.ts","webpack:///./src/components/common/AudioLibrarySelection.vue?b063","webpack:///./src/components/common/AudioLibrarySelection.vue?96f7","webpack:///./src/components/common/AudioLibrarySelection.vue?79dd","webpack:///./src/components/common/AudioLibrarySelector.vue","webpack:///src/components/common/AudioLibrarySelector.vue","webpack:///./src/components/common/AudioLibrarySelector.vue?7032","webpack:///./src/components/common/AudioLibrarySelector.vue?271d","webpack:///./src/components/common/ExpressionInput.vue","webpack:///./src/lib/suggestions/getBlockSuggestions.ts","webpack:///./src/lib/suggestions/getContactSuggestions.ts","webpack:///./src/lib/suggestions/getFlowIdentifiersSuggestions.ts","webpack:///./src/lib/suggestions/getMethodSuggestions.ts","webpack:///./src/lib/suggestions/suggestionHelpers.ts","webpack:///./src/lib/suggestions/getResultsSuggestions.ts","webpack:///./src/lib/suggestions/getRunSuggestions.ts","webpack:///./src/lib/suggestions/index.ts","webpack:///./src/components/common/ExpressionInput.vue?d994","webpack:///./src/components/common/ExpressionInput.vue?c9d9","webpack:///./src/components/common/ExpressionInput.vue?639c","webpack:///./src/components/common/FloatEditor.vue","webpack:///./src/components/common/FloatEditor.vue?5d4c","webpack:///./src/components/common/FloatEditor.vue?27fe","webpack:///./src/components/common/FloatEditor.vue?eae9","webpack:///./src/components/common/KeypadDigitsSelector.vue","webpack:///./src/components/common/KeypadDigitsSelector.vue?7715","webpack:///./src/components/common/KeypadDigitsSelector.vue?798a","webpack:///./src/components/common/KeypadDigitsSelector.vue?356d","webpack:///./src/components/common/MarkdownView.vue","webpack:///./src/lib/markdown.ts","webpack:///./src/components/common/MarkdownView.vue?3728","webpack:///./src/components/common/MarkdownView.vue?0680","webpack:///./src/components/common/MarkdownView.vue?a984","webpack:///./src/components/common/NumericEditor.vue","webpack:///./src/components/common/NumericEditor.vue?3f94","webpack:///./src/components/common/NumericEditor.vue?c3c8","webpack:///./src/components/common/NumericEditor.vue?478e","webpack:///./src/components/common/PlainDraggable.vue","webpack:///./src/components/common/PlainDraggable.vue?8a46","webpack:///./src/components/common/PlainDraggable.vue?0166","webpack:///./src/components/common/PlainDraggable.vue?84e6","webpack:///./src/components/common/TextEditor.vue","webpack:///./src/components/common/TextEditor.vue?f8ea","webpack:///./src/components/common/TextEditor.vue?f2b0","webpack:///./src/components/common/TextEditor.vue?1ba7","webpack:///./src/components/common/ValidationMessage.vue","webpack:///./src/components/common/ValidationMessage.vue?166b","webpack:///./src/components/common/ValidationMessage.vue?959c","webpack:///./src/components/common/ValidationMessage.vue?5807","webpack:///./src/components/interaction-designer/BuilderCanvas.vue","webpack:///./src/components/interaction-designer/BuilderCanvas.vue?92b1","webpack:///./src/components/interaction-designer/BuilderCanvas.vue?7371","webpack:///./src/components/interaction-designer/BuilderCanvas.vue?953b","webpack:///./src/components/interaction-designer/Connection.vue","webpack:///./src/components/interaction-designer/block/Block.vue","webpack:///./src/components/interaction-designer/block/Block.vue?86ab","webpack:///./src/components/interaction-designer/block/Block.vue?ce74","webpack:///./src/components/interaction-designer/block/Block.vue?efce","webpack:///./src/components/interaction-designer/Connection.vue?8bc5","webpack:///./src/components/interaction-designer/Connection.vue?5af6","webpack:///./src/components/interaction-designer/Connection.vue?44d8","webpack:///./src/components/interaction-designer/ResourceViewer.vue","webpack:///./src/components/interaction-designer/ResourceViewer.vue?670a","webpack:///./src/components/interaction-designer/block-editors/choices/mixins/CommonVoiceChoiceConfig.vue","webpack:///./src/components/interaction-designer/ResourceViewer.vue?395c","webpack:///./src/components/interaction-designer/ResourceViewer.vue?bf60","webpack:///./src/components/interaction-designer/block-editors/choices/ChoicesBuilder.vue","webpack:///./src/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingTable.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingRow.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceKeyPressSelector.vue","webpack:///src/components/interaction-designer/block-editors/choices/mixins/CommonVoiceChoiceConfig.vue","webpack:///./src/components/interaction-designer/block-editors/choices/mixins/CommonVoiceChoiceConfig.vue?1e9d","webpack:///src/components/interaction-designer/block-editors/choices/VoiceKeyPressSelector.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceKeyPressSelector.vue?0a40","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceKeyPressSelector.vue?dcdf","webpack:///src/components/interaction-designer/block-editors/choices/VoiceMappingRow.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingRow.vue?2237","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingRow.vue?4b54","webpack:///src/components/interaction-designer/block-editors/choices/VoiceMappingTable.vue","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingTable.vue?13d7","webpack:///./src/components/interaction-designer/block-editors/choices/VoiceMappingTable.vue?16ec","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingTable.vue","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingRow.vue","webpack:///./src/components/interaction-designer/block-editors/choices/TextSynonymsEditor.vue","webpack:///src/components/interaction-designer/block-editors/choices/TextSynonymsEditor.vue","webpack:///./src/components/interaction-designer/block-editors/choices/TextSynonymsEditor.vue?7f2b","webpack:///./src/components/interaction-designer/block-editors/choices/TextSynonymsEditor.vue?5ce2","webpack:///src/components/interaction-designer/block-editors/choices/TextMappingRow.vue","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingRow.vue?f735","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingRow.vue?ef68","webpack:///src/components/interaction-designer/block-editors/choices/TextMappingTable.vue","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingTable.vue?25b9","webpack:///./src/components/interaction-designer/block-editors/choices/TextMappingTable.vue?a24e","webpack:///src/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue","webpack:///./src/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue?26f4","webpack:///./src/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue?c09e","webpack:///./src/components/interaction-designer/block-editors/choices/ChoicesBuilder.vue?62c7","webpack:///./src/components/interaction-designer/block-editors/choices/ChoicesBuilder.vue?2767","webpack:///./src/components/interaction-designer/block-editors/choices/ChoicesBuilder.vue?a88e","webpack:///./src/components/interaction-designer/block-editors/choices/SelectOneResponseBlockContactPropertyEditor.vue","webpack:///src/components/interaction-designer/block-editors/choices/SelectOneResponseBlockContactPropertyEditor.vue","webpack:///./src/components/interaction-designer/block-editors/choices/SelectOneResponseBlockContactPropertyEditor.vue?e6af","webpack:///./src/components/interaction-designer/block-editors/choices/SelectOneResponseBlockContactPropertyEditor.vue?916a","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitEditor.vue","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitEditor.vue?c965","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitEditor.vue?3234","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitEditor.vue?c7e1","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitsBuilder.vue","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitsBuilder.vue?530c","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitsBuilder.vue?ff59","webpack:///./src/components/interaction-designer/block-editors/AdvancedExitsBuilder.vue?377d","webpack:///./src/components/interaction-designer/block-editors/BlockEditor.vue","webpack:///./src/components/interaction-designer/block-editors/BlockEditor.vue?e173","webpack:///./src/components/interaction-designer/block-editors/BlockEditor.vue?a2a2","webpack:///./src/components/interaction-designer/block-editors/BlockEditor.vue?7112","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?5db4","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?f1fb","webpack:///./src/components/interaction-designer/block-editors/BlockId.vue?aaf3","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingExplanations.vue","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingExplanations.vue?0fad","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingExplanations.vue?8f48","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingExplanations.vue?fb4d","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue?b2b5","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue?a0b7","webpack:///./src/components/interaction-designer/block-editors/BlockOutputBranchingConfig.vue?4d5c","webpack:///./src/components/interaction-designer/block-editors/Categorization.vue","webpack:///./src/components/interaction-designer/block-editors/Categorization.vue?8719","webpack:///./src/components/interaction-designer/block-editors/Categorization.vue?d88d","webpack:///./src/components/interaction-designer/block-editors/Categorization.vue?e906","webpack:///./src/components/interaction-designer/block-editors/ContactPropertyEditor.vue","webpack:///./src/components/interaction-designer/block-editors/ContactPropertyEditor.vue?6a5c","webpack:///./src/components/interaction-designer/block-editors/ContactPropertyEditor.vue?ef06","webpack:///./src/components/interaction-designer/block-editors/ContactPropertyEditor.vue?e7f6","webpack:///./src/components/interaction-designer/block-editors/EndRecordingDigitsEditor.vue","webpack:///./src/components/interaction-designer/block-editors/EndRecordingDigitsEditor.vue?01ca","webpack:///./src/components/interaction-designer/block-editors/EndRecordingDigitsEditor.vue?5240","webpack:///./src/components/interaction-designer/block-editors/EndRecordingDigitsEditor.vue?4a79","webpack:///./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue?88cc","webpack:///./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue?e2a1","webpack:///./src/components/interaction-designer/block-editors/ExitSemanticLabelEditor.vue?f01f","webpack:///./src/components/interaction-designer/block-editors/GenericContactPropertyEditor.vue","webpack:///./src/components/interaction-designer/block-editors/GenericContactPropertyEditor.vue?3bf1","webpack:///./src/components/interaction-designer/block-editors/GenericContactPropertyEditor.vue?14e1","webpack:///./src/components/interaction-designer/block-editors/GenericContactPropertyEditor.vue?2a08","webpack:///./src/components/interaction-designer/block-editors/GroupMembershipEditor.vue","webpack:///./src/components/interaction-designer/block-editors/GroupMembershipEditor.vue?8070","webpack:///./src/components/interaction-designer/block-editors/GroupMembershipEditor.vue?3f56","webpack:///./src/components/interaction-designer/block-editors/GroupMembershipEditor.vue?d342","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?6558","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?c4e5","webpack:///./src/components/interaction-designer/block-editors/LabelEditor.vue?6aab","webpack:///./src/components/interaction-designer/block-editors/MaxDigitEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MaxDigitEditor.vue?d12c","webpack:///./src/components/interaction-designer/block-editors/MaxDigitEditor.vue?699c","webpack:///./src/components/interaction-designer/block-editors/MaxDigitEditor.vue?791d","webpack:///./src/components/interaction-designer/block-editors/MaxDurationSecondsEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MaxDurationSecondsEditor.vue?669a","webpack:///./src/components/interaction-designer/block-editors/MaxDurationSecondsEditor.vue?1799","webpack:///./src/components/interaction-designer/block-editors/MaxDurationSecondsEditor.vue?5f8f","webpack:///./src/components/interaction-designer/block-editors/MaximumChoicesEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MaximumChoicesEditor.vue?fc2f","webpack:///./src/components/interaction-designer/block-editors/MaximumChoicesEditor.vue?fb4d","webpack:///./src/components/interaction-designer/block-editors/MaximumChoicesEditor.vue?fa28","webpack:///./src/components/interaction-designer/block-editors/MaximumNumericEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MaximumNumericEditor.vue?a2be","webpack:///./src/components/interaction-designer/block-editors/MaximumNumericEditor.vue?5660","webpack:///./src/components/interaction-designer/block-editors/MaximumNumericEditor.vue?6c2d","webpack:///./src/components/interaction-designer/block-editors/MinimumChoicesEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MinimumChoicesEditor.vue?17d0","webpack:///./src/components/interaction-designer/block-editors/MinimumChoicesEditor.vue?d63e","webpack:///./src/components/interaction-designer/block-editors/MinimumChoicesEditor.vue?ba57","webpack:///./src/components/interaction-designer/block-editors/MinimumNumericEditor.vue","webpack:///./src/components/interaction-designer/block-editors/MinimumNumericEditor.vue?2215","webpack:///./src/components/interaction-designer/block-editors/MinimumNumericEditor.vue?54b5","webpack:///./src/components/interaction-designer/block-editors/MinimumNumericEditor.vue?018f","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?fcca","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?8b95","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?aa96","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?fa1d","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?7de7","webpack:///./src/components/interaction-designer/block-editors/PhoneRecorder.vue?75a5","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?1a32","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?86b5","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?839c","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?3a49","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?b00d","webpack:///./src/components/interaction-designer/block-editors/SemanticLabelEditor.vue?2244","webpack:///./src/components/interaction-designer/block-editors/SimplifiedNameEditor.vue","webpack:///./src/components/interaction-designer/block-editors/SimplifiedNameEditor.vue?d427","webpack:///./src/components/interaction-designer/block-editors/SimplifiedNameEditor.vue?edc7","webpack:///./src/components/interaction-designer/block-editors/SimplifiedNameEditor.vue?588f","webpack:///./src/components/interaction-designer/block-editors/TagSelector.vue","webpack:///./src/components/interaction-designer/block-editors/TagSelector.vue?8a58","webpack:///./src/components/interaction-designer/block-editors/TagSelector.vue?fa10","webpack:///./src/components/interaction-designer/block-editors/TagSelector.vue?87a1","webpack:///./src/components/interaction-designer/block-editors/ThresholdEditor.vue","webpack:///./src/components/interaction-designer/block-editors/ThresholdEditor.vue?4cd3","webpack:///./src/components/interaction-designer/block-editors/ThresholdEditor.vue?2f51","webpack:///./src/components/interaction-designer/block-editors/ThresholdEditor.vue?a158","webpack:///./src/components/interaction-designer/block-editors/TimeoutEditor.vue","webpack:///./src/components/interaction-designer/block-editors/TimeoutEditor.vue?1c85","webpack:///./src/components/interaction-designer/block-editors/TimeoutEditor.vue?85d2","webpack:///./src/components/interaction-designer/block-editors/TimeoutEditor.vue?8e0b","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue","webpack:///./src/store/trees/multimediaUpload.js","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?fa00","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?784b","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?1f99","webpack:///./src/components/interaction-designer/flow-editors/ExitBlockEditorToggle.vue","webpack:///./src/components/interaction-designer/flow-editors/ExitBlockEditorToggle.vue?d69a","webpack:///./src/components/interaction-designer/flow-editors/ExitBlockEditorToggle.vue?3120","webpack:///./src/components/interaction-designer/flow-editors/ExitBlockEditorToggle.vue?c7ef","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?7f7b","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?cabd","webpack:///./src/components/interaction-designer/flow-editors/FirstBlockEditorButton.vue?ff44","webpack:///./src/components/interaction-designer/flow-editors/FlowEditor.vue","webpack:///./src/components/interaction-designer/flow-editors/FlowEditor.vue?b1c1","webpack:///./src/components/interaction-designer/flow-editors/FlowEditor.vue?0291","webpack:///./src/components/interaction-designer/flow-editors/FlowEditor.vue?e7eb","webpack:///./src/components/interaction-designer/flow-editors/InteractionTimeoutEditor.vue","webpack:///./src/components/interaction-designer/flow-editors/InteractionTimeoutEditor.vue?99db","webpack:///./src/components/interaction-designer/flow-editors/InteractionTimeoutEditor.vue?bf0b","webpack:///./src/components/interaction-designer/flow-editors/InteractionTimeoutEditor.vue?6cc8","webpack:///./src/components/interaction-designer/flow-editors/FlowLabelEditor.vue","webpack:///./src/components/interaction-designer/flow-editors/FlowLabelEditor.vue?7164","webpack:///./src/components/interaction-designer/flow-editors/FlowLabelEditor.vue?6d9e","webpack:///./src/components/interaction-designer/flow-editors/FlowLabelEditor.vue?5e66","webpack:///./src/components/interaction-designer/flow-editors/LanguagesEditor.vue","webpack:///./src/components/interaction-designer/flow-editors/LanguagesEditor.vue?dd27","webpack:///./src/components/interaction-designer/flow-editors/LanguagesEditor.vue?4a29","webpack:///./src/components/interaction-designer/flow-editors/LanguagesEditor.vue?acc0","webpack:///./src/components/interaction-designer/flow-editors/ModesEditor.vue","webpack:///./src/components/interaction-designer/flow-editors/ModesEditor.vue?7c4c","webpack:///./src/components/interaction-designer/flow-editors/ModesEditor.vue?91fe","webpack:///./src/components/interaction-designer/flow-editors/ModesEditor.vue?fbd9","webpack:///./src/components/interaction-designer/flow-editors/import/LanguageAdder.vue","webpack:///./src/components/interaction-designer/flow-editors/import/LanguageAdder.vue?e36c","webpack:///./src/components/interaction-designer/flow-editors/import/LanguageAdder.vue?bf0c","webpack:///./src/components/interaction-designer/flow-editors/import/LanguageAdder.vue?dad7","webpack:///./src/components/interaction-designer/toolbar/BlockErrorsExpandable.vue","webpack:///./src/components/interaction-designer/toolbar/BlockErrorsExpandable.vue?5c80","webpack:///./src/components/interaction-designer/toolbar/BlockErrorsExpandable.vue?2690","webpack:///./src/components/interaction-designer/toolbar/BlockErrorsExpandable.vue?5a9c","webpack:///./src/components/interaction-designer/toolbar/ErrorNotifications.vue","webpack:///./src/components/interaction-designer/toolbar/ErrorNotifications.vue?dc89","webpack:///./src/components/interaction-designer/toolbar/ErrorNotifications.vue?4fef","webpack:///./src/components/interaction-designer/toolbar/ErrorNotifications.vue?ad42","webpack:///./src/components/interaction-designer/toolbar/SelectionBanner.vue","webpack:///./src/components/interaction-designer/toolbar/SelectionBanner.vue?1118","webpack:///./src/components/interaction-designer/toolbar/SelectionBanner.vue?ca23","webpack:///./src/components/interaction-designer/toolbar/SelectionBanner.vue?26f4","webpack:///./src/components/interaction-designer/toolbar/TreeBuilderToolbar.vue","webpack:///./src/lib/mixins/Permissions.ts","webpack:///./src/lib/plugins/vuex-undo-redo-plugin.ts","webpack:///./src/components/interaction-designer/toolbar/TreeBuilderToolbar.vue?b796","webpack:///./src/components/interaction-designer/toolbar/TreeBuilderToolbar.vue?e28f","webpack:///./src/components/interaction-designer/toolbar/TreeBuilderToolbar.vue?f8ff","webpack:///./src/components/interaction-designer/toolbar/UndoRedoButtonGroup.vue","webpack:///./src/store/useStore.ts","webpack:///./src/components/interaction-designer/toolbar/UndoRedoButtonGroup.vue?f83e","webpack:///./src/components/interaction-designer/toolbar/UndoRedoButtonGroup.vue?6e74","webpack:///./src/components/interaction-designer/toolbar/UndoRedoButtonGroup.vue?2a6f","webpack:///./src/components/interaction-designer/block/BlockExit.vue","webpack:///./src/components/interaction-designer/block/BlockExit.vue?82ca","webpack:///./src/components/interaction-designer/block/BlockExit.vue?3468","webpack:///./src/components/interaction-designer/block/BlockExit.vue?9145","webpack:///./src/components/interaction-designer/block/BlockToolbar.vue","webpack:///./src/components/interaction-designer/block/BlockToolbar.vue?a730","webpack:///./src/components/interaction-designer/block/BlockToolbar.vue?f2ba","webpack:///./src/components/interaction-designer/block/BlockToolbar.vue?5b2e","webpack:///./src/components/interaction-designer/block/BlockTitle.vue","webpack:///./src/components/interaction-designer/block/BlockTitle.vue?e5d0","webpack:///./src/components/interaction-designer/block/BlockTitle.vue?0481","webpack:///./src/components/interaction-designer/block/BlockTitle.vue?9448","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditorCell.vue","webpack:///./src/lib/mixins/FlowUploader.ts","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditorCell.vue?11de","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditorCell.vue?5e6b","webpack:///./src/components/interaction-designer/resource-editors/ResourceEditorCell.vue?bd77","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditorRow.vue","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditorRow.vue?1cdd","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditorRow.vue?b072","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditorRow.vue?5299","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditorRow.vue","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditorRow.vue?d903","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditorRow.vue?5578","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditorRow.vue?066f","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditor.vue","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditor.vue?65d4","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditor.vue?eb26","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditor.vue?c949","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditor.vue","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditor.vue?1f24","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditor.vue?44a9","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditor.vue?28d6","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?6880","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?3753","webpack:///./src/components/interaction-designer/resource-editors/ResourceVariantTextEditor.vue?65ff","webpack:///./src/components/interaction-designer/resource-viewer/ResourceViewerBlock.vue","webpack:///./src/components/interaction-designer/resource-viewer/ResourceViewerBlock.vue?474c","webpack:///./src/components/interaction-designer/resource-viewer/ResourceViewerBlock.vue?76e1","webpack:///./src/components/interaction-designer/resource-viewer/ResourceViewerBlock.vue?f394","webpack:///./src/common-imports.ts","webpack:///./src/router/trees.js","webpack:///./src/router/index.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?3aa8","webpack:///./src/main.ts","webpack:///./src/components/interaction-designer/block-types/Core_CaseBlock.vue","webpack:///./src/store/flow/block-types/Core_CaseBlockStore.ts","webpack:///./src/components/interaction-designer/block-types/Core_CaseBlock.vue?7c73","webpack:///./src/components/interaction-designer/block-types/Core_CaseBlock.vue?820f","webpack:///./src/components/interaction-designer/block-types/Core_CaseBlock.vue?a32c","webpack:///./src/lib/mixins/Routes.ts","webpack:///./src/store/validation/validationHelpers.ts","webpack:///./src/store/validation/index.ts","webpack:///./src/components/interaction-designer/block-editors/NameEditor.vue?afc9","webpack:///./src/components/interaction-designer/block-types/Core_SetGroupMembershipBlock.vue?d6f8","webpack:///./src/components/interaction-designer/resource-editors/PerModeResourceEditor.vue?bf9a","webpack:///./src/components/interaction-designer/block-editors/UploadMonitor.vue?cd47","webpack:///./src/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore.ts","webpack:///./src/components/interaction-designer/resource-editors/PerLanguageResourceEditorRow.vue?ee04","webpack:///./src/components/interaction-designer/ResourceViewer.vue?2254","webpack:///./src/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue?9a2c","webpack:///./src/components/interaction-designer/flow-editors/import/FullImportMatcher.vue","webpack:///src/components/interaction-designer/flow-editors/import/FullImportMatcher.vue","webpack:///./src/components/interaction-designer/flow-editors/import/FullImportMatcher.vue?8f07","webpack:///./src/components/interaction-designer/flow-editors/import/FullImportMatcher.vue?3435"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","block","usesDefaultContactPropsEditor","usesDefaultBranchingEditor","on","$event","handleBranchingTypeChangedToUnified","_t","finalGroupOptions","hasGroupsLoading","staticRenderFns","ADD_KEY","BLOCK_TYPE","actions","baseActions","getters","dispatch","props","config","is_member","groups","clear","createWith","action","commit","rootGetters","activeBlock","isMember","id","blockId","uuid","path","root","_ctx","debug","errors","Core_SetGroupMembershipStore","cloneDeep","BaseBlockStore","blockVuexNamespace","namespace","Core_SetGroupMembershipBlock","mixins","Lang","availableGroups","groupsFromUiConfig","map","group_key","group_name","__decorate","Prop","default","Action","State","trees","ui","Component","install","createDefaultBlockTypeInstallerFor","SetGroupMembershipStore","component","findResourceWith","resources","resource","find","ValidationException","findResourceVariantOverModesWith","filter","flow","findResourceVariantOverModesOn","keysForComparison","without","keys","filterWithComparatorKeys","pick","variant","values","v","isEqual","difference","modes","JSON","stringify","findIndexForResourceVariant","findIndex","findOrGenerateStubbedVariantOn","assign","discoverContentTypesFor","TEXT","AUDIO","IMAGE","VIDEO","SupportedContentType","defaultModeMappings","SupportedMode","IVR","SMS","USSD","OFFLINE","RICH_MESSAGING","contentTypeOverrides","reduce","resourceMode","content_type","cleanupFlowBeforePersisting","container","choiceMimeType","flows","structuredClone","forEach","mime_type","hasAllowedMode","supported_modes","some","includes","hasSupportedLanguage","languages","lang","language_id","isEmpty","Boolean","blocks","vendor_metadata","floip","ui_metadata","user_added_groups","findBlockRelatedResourcesUuids","prompt","choices","choice","isBlockUsingResource","resourceUuid","isInPrompt","isInChoices","handleChoiceChanged","reflowExitsWhenSwitchingToBranchingTypeNotUnified","builderVuexNamespace","MobilePrimitives_SelectManyResponseBlock","SelectOneResponseBlock","Getter","SelectManyResponseStore","audio","prefix","iconName","icon","enter","recordAudio","settings","upload","ussd","copy","expand","minimize","singleExit","advancedExit","oneExitPerChoice","home","content","contact","branching","weather","developer","text","library","add","faCheck","faCheckCircle","faChevronDown","faChevronUp","faCircle","faClone","faCommentDots","faDotCircle","faEdit","faEnvelope","faMobileAlt","faSpinner","faTimesCircle","faSolidTimesCircle","faTrashAlt","faInfoCircle","faExclamationTriangle","faAngleDown","faAngleUp","faRedo","faUndo","CustomIcons","Vue","FontAwesomeIcon","webpackContext","req","webpackContextResolve","makePath","rawPath","toPath","pointer","set","updateBlockValueByPath","state","base","findBlockOnActiveFlowWith","updateBlockExitValueByPath","exitId","findBlockExitWith","removeBlockExitValueByPath","delete","deleteChoiceValueByPath","removeBlockValueByPath","updateFlowValueByPath","flowId","findFlowWith","removeFlowValueByPath","Flow","opts","version","support","File","Blob","FileList","webkitSlice","mozSlice","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","prioritizeFirstAndLastChunk","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","events","$","onDrop","stopPropagation","preventDefault","dataTransfer","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","FlowChunk","fileObj","offset","fileObjSize","tested","retries","pendingRetry","preprocessState","loaded","total","startByte","endByte","Math","min","xhr","progressHandler","lengthComputable","chunkEvent","testHandler","status","uploadNextChunk","send","doneHandler","abort","retryInterval","dst","each","arguments","obj","callback","context","toLowerCase","fire","args","Array","queue","readSuccess","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","readEntries","decrement","substring","fileError","item","getAsFile","custom","replace","preventEvents","found","outstanding","isComplete","assignBrowse","domNodes","domNode","input","tagName","style","display","position","overflow","verticalAlign","top","right","fontFamily","fontSize","margin","padding","opacity","cursor","addEventListener","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","started","num","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","ret","getSize","measureSpeed","smoothingFactor","timeSpan","uploaded","sizeUploaded","max","reset","retry","round","ceil","floor","bytesLoaded","percent","timeRemaining","getType","split","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","indexOf","join","test","XMLHttpRequest","prepareXhrRequest","preprocessFinished","func","bytes","readyState","responseText","paramsMethod","blob","k","encodeURIComponent","FormData","append","open","setRequestHeader","blankMessageResource","SmartDevices_PhotoResponseBlockStore","SmartDevices_PhotoResponseBlock","PhotoStore","updateValidationMin","updateValidationMax","hasVoiceMode","updateMaxDigits","valueAsNumberOrUnset","max_digits","blankResource","validation_minimum","validation_maximum","maxDigits","hasMaxDigits","normalizeNumericConfigProperty","ivr","validationMax","hasMax","validationMin","hasMin","hasMinAndMax","isMinGreaterThanMax","hasMinOnly","CONFIG_VALIDATION_MINIMUM","CONFIG_VALIDATION_MAXIMUM","CONFIG_MAX_DIGITS","maxValue","normalizedValue","hasValue","parseInt","MobilePrimitives_NumericResponseBlockStore","flowVuexNamespace","MobilePrimitives_NumericResponseBlock","setValidationMinimum","setValidationMaximum","setMaxDigits","NumericStore","_v","_s","trans","isEditable","showSemanticLabel","_e","BaseBlock","$emit","primaryExitTest","_blockProps","mutations","vendorMetadata","defaultProps","label","semantic_label","tags","branching_type","should_auto_update_name","mainProps","defaultsDeep","exits","blockType","async","exit","schemaVersion","validateBlockWithJsonSchema","validationStatus","dataPaths","Set","ajvErrors","dataPath","validationResults","suffix","has","isValid","thisBlock","oldBlock","newBlock","namespaced","scopedSlots","_u","fn","_f","commitMessageChange","Core_LogBlockStore","Core_LogBlock","editMessage","LogStore","thisGlobal","global","proxy","createProxy","translation","interpolations","transIf","condition","filters","_l","validationErrors","ajvError","required","stateFactory","isCreated","savedAt","specification_version","container_uuid","first_flow_id","nested_flow_block_interaction_id_stack","selectedBlocks","activeFlow","getActiveFlowFrom","blockUuidsOnActiveFlow","isActiveFlowValid","rootState","flowValidationResult","validation","validationStatuses","every","currentValidation","isActiveFlowConsideredValidOnCreationForm","activeFlowContainer","description","hasTextMode","hasOfflineMode","currentFlowsState","flow_resetStates","flow_setFlowContainer","flowContainer","isFromSaveAction","persistedState","toISOString","flow_resetFlowState","flowState","flow_updateCreatedState","createdState","flow_setActiveFlowId","flow_addBlock","first_block_id","flow_removeBlock","blockIndex","flow_setExitBlockId","findBlockWith","exit_block_id","flow_setFirstBlockId","flow_setNameFromLabel","flow_setLabel","flow_setInteractionTimeout","interaction_timeout","flow_setSupportedMode","castArray","flow_setLanguages","flow_updateVendorMetadataByPath","flow_removeVendorMetadataByPath","flow_updateBlockCoordinates","coordinates","canvas_coordinates","persistRoute","mergeFlowContainer","restVerb","oldCreatedState","info","createdContainer","axios","omit","keyword","response","fetchRoute","IdGeneratorUuidV4","generate","exitsTowardUs","destination_block","resourceUuids","orphanResourceUuidsOnActiveFlow","languageIds","language","languageId","contentType","variantsToRemove","hasUnusedLanguage","hasUnusedModes","intersection","resourceId","variants","resourceValue","warn","last_modified","moment","appWideInteractionTimeout","defaultModes","duplicatedBlock","merge","computeBlockCanvasCoordinates","oldResource","resourcesByUuidOnActiveFlow","newResource","removeBlock_actions","duplicateBlockActions","newBlocks","newBlockUuids","newModes","supportedModes","supportedLanguages","newLanguages","oldLanguages","clone","addedLanguageIds","removedLanguageIds","orderLanguages","sortBy","orderModes","order","BLOCK_CREATE_REGEX","parseBlockCreateParams","exec","flowIndex","Number","BLOCK_CHANGE_REGEX","parseBlockChangeParams","fieldPath","RESOURCE_CHANGE_REGEX","parseResourceChangeParams","resourceIndex","FLOW_CHANGE_REGEX","getDeepLink","changedKeys","routeName","routeParams","field","ensureObject","isObjectOrUndefined","getChangedKeys","a","b","aVal","bVal","MAX_HISTORY_LENGTH","pack","timestamp","getTime","unpack","snapshot","getChangedModulesKeys","snapshotA","snapshotB","modulesA","modulesB","shouldAlwaysTriggerSnapshot","snapshots","currentSnapshot","previousSnapshot","futureSnapshot","hasCurrentSnapshot","_state","hasPreviousSnapshot","hasFutureSnapshot","previouslyChangedKeys","addSnapshot","patchSnapshot","resetSnapshots","undo","redo","currentModules","newModules","isNewSnapshotFromPersistenceAction","currentSavedAt","newSavedAt","builder","activeMainComponent","newSnapshot","differentKeys","union","store","baseGetters","setMinChoices","isNumber","metadata","UNIFIED","OutputBranchingType","setMaxChoices","blankPromptResource","minimum_choices","maximum_choices","EXIT_PER_CHOICE","MobilePrimitives_SelectManyResponseBlockStore","MobilePrimitives_SelectOneResponseBlockStore","updateThreshold","updateTimeout","accuracy_threshold_meters","accuracy_timeout_seconds","SmartDevices_LocationResponseBlockStore","SmartDevices_LocationResponseBlock","setAccuracyThreshold","setAccuracyTimeout","LocationStore","MobilePrimitives_SelectOneResponseBlock","constructor","ADVANCED","reflowExitsFromChoices","isEnteringChoiceOrAdvancedBranchingType","SelectOneStore","expressionEditorRows","commitExpressionChange","Core_OutputBlockStore","Core_OutputBlock","editOutputExpression","OutputStore","setMaxDurationSeconds","setEndRecordingDigits","duration","endRecordingDigits","MobilePrimitives_OpenResponseBlockStore","MobilePrimitives_OpenResponseBlock","OpenResponseStore","snakeCaseOnSpaces","char","replaceAll","block_getContactPropertyOnIndex","index","set_contact_property","block_getContactPropertyValueByKey","property_key","property_value","block_addContactProperty","findBlock","block_removeContactProperty","block_changeContactProperty","newValue","oldValue","block_makeSureSetContactPropertyExistsAsArray","block_setContactPropertyOnIndex","propertyKey","propertyValue","block_setContactPropertyKeyOnIndex","block_setContactPropertyValueOnIndex","block_setContactPropertyByKey","block_deleteContactPropertyByKey","block_updateContactPropertyAfterChoicesChange","propertyValueMapping","property_value_mapping","choicesToExpression","block_updateContactPropertyMetadataAfterNewChoiceAdded","block_resetContactPropertyMetadata","SetContactPropertyModule","block_classesConfig","_getters","blockClasses","block_shouldHave2Exits","blockDefinition","primaryExitName","primary","defaultExitName","block_setName","block_setLabel","block_setSemanticLabel","block_setTags","block_addTag","isArray","block_setExitName","block_setExitTest","block_setExitSemanticLabel","block_addExit","shouldAppend","block_removeExit","block_updateExitVendorMetadata","block_updateExitVendorMetadataByPath","block_removeExitVendorMetadataByPath","block_updateConfig","newConfig","block_updateConfigByKey","currentConfig","block_removeConfigByKey","block_updateConfigByPath","block_updateUIMetadataByPath","block_setBlockExitDestinationBlockId","destinationBlockId","isNil","block_updateVendorMetadataByPath","block_removeVendorMetadataByPath","block_exitClearDestinationBlockFor","_","blockExit","lockAutoUpdate","block_notifyOtherBlocksAboutBlockChange","blockToNotify","block_resetName","defaultBranchingType","default_branching_type","primaryExitProps","last","block_updateBlocksAfterLanguagesChange","SelectOneBlockType","SelectManyBlockType","text_tests","langId","test_expression","escapeQuotes","isBlockInteractive","otherFlows","newDestinationFlowId","flow_id","Core_RunFlowBlockStore","Core_SetContactPropertyStore","Core_SetContactPropertyBlock","SetContactPropertyStore","BLOCK_RESPONSE_EXPRESSION","choice_findChoice","choice_deleteByPath","choice_create","choice_change","choice_updateName","previousName","choice_updateIvrTestExpression","ivr_test","choice_updateFirstSynonymForActiveLanguages","existingValue","synonym","isNew","hasValueToMatch","hasMatchingValues","choiceToTestExpression","shouldUpdateValue","choice_setSynonymForLanguage","POSITIVE_INFINITY","expressionValue","testIndex","languageIndex","text_test","choice_removeTextTestsExpressionOnIndex","choice_updateByPath","choiceIndex","matchNotFoundText","missingMatches","missingMatch","getIdentifier","getLabel","updateMappings","domProps","mappingsEmpty","existingOptionsWithoutMatch","option","handleMatch","isFeatureAddLanguageOnImportEnabled","onLanguageAddition","importVuexNamespace","ImportMatcher","mappings","typeLabel","typeId","matchingJson","newMatch","parse","tryToFixLanguages","hasSomethingToImport","isSafeToImport","hasWarnings","containerImportValidationTrueErrors","containerImportValidationWarningErrors","components","TechErrorNotifications","FullImportMatcher","computed","updateResourcesForLanguageMatch","oldId","newId","existingFlowContainer","newFlowContainer","clonedExistingFlowContainer","newFlows","newFlow","existingFlowIndex","createContainerFlowStack","jsonData","visitedFlows","flowStack","processFlowForCreatingFlowStack","RUN_FLOW_BLOCK_TYPE","childFlow","createContainerFlowStackAndReturnLastItem","lastItem","pop","detectedLanguageChanges","oldFlowContainer","detectedPropertyChanges","newPropertyBlocks","oldPropertyBlocks","detectedGroupChanges","newGroupBlocks","oldGroupBlocks","getPropertyBlocks","getGroupBlocks","textContent","SAVING_ANIMATION_DURATION","OperationKind","activeBlockId","hasFlowChanges","activeConnectionsContext","operations","CONNECTION_CREATE","kind","BLOCK_RELOCATE","draggableForExitsByUuid","isBlockEditorOpen","interactionDesignerHeaderBoundingClientRect","isConnectionCreationInProgress","blocksById","_rootState","keyBy","nodeLabelsById","mapValues","exitLabelsById","flatMap","isBuilderCanvasEnabled","isResourceViewerCanvasEnabled","resetBuilderState","builderState","activateBlock","activateConnection","connectionContext","setActiveMainComponent","mainComponent","deactivateConnection","deactivateConnectionFromExitUuid","exitUuid","setIsConnectionCreationInProgress","setOperation","operation","setIsEditable","setHasFlowChanges","initDraggableForExitsByUuid","setIsBlockEditorOpen","setInteractionDesignerHeaderBoundingClientRect","removeConnectionFrom","initializeConnectionCreateWith","source","targetId","setConnectionCreateTargetBlock","setConnectionCreateTargetBlockToNullFrom","applyConnectionCreate","boolVal","isFeatureTreeSaveEnabled","inProgress","$toast","InProgressAction","closeButton","persistFlowAndReturnNewContainer","routeFrom","routes","keepAnimatingIfPersistWasTooFast","success","hideProgressBar","dismiss","setBlockPositionTo","x","y","storeForBlockType","$store","hasModule","registerModule","generateConnectionLayoutKeyFor","xDelta","yDelta","xPosition","yPosition","viewPortCenter","getViewportCenter","builderCanvasElement","getElementsByClassName","sideBarElement","rect","getBoundingClientRect","sidebarAdjustment","clientWidth","abs","left","innerWidth","innerHeight","unescapeQuotes","individualLines","choicePrompt","choiceValue","choiceName","testExpressionToChoice","expression","regex","parsedGroups","scrollBehavior","to","anchor","domElement","getElementById","scrollIntoView","behavior","scrollBlockIntoView","blockElement","querySelector","inline","MobilePrimitives_MessageBlockStore","MobilePrimitives_MessageBlock","MessageStore","model","destinationFlowId","$$v","Core_RunAnotherFlowBlock","setDestinationFlowId","RunAnotherFlowStore","directives","rawName","rawQuery","isEntireLibraryModeEnabled","activate","deactivate","composing","resetPagination","class","active","toggleAudioLibrary","isAudioLibraryEmpty","search","limit","audio_uuid","select","hasPrevious","hasNext","disabled","decrementPage","incrementPage","AudioLibrarySearchField","VueFocus","mixin","isActive","cache","trim","audioFiles","Fuse","fieldNormWeight","selectable","_m","audioFileUrl","audioFileDescription","formatDate","date","format","utc","fromNow","withoutSuffix","formatDuration","unit","withSuffix","currentLocale","locale","humanize","formatDurationLocalized","Moment","AudioLibrarySelection","audioFile","uri","selectedAudioUri","selectedFile","clearSelection","selectAudioFile","AudioLibrarySelector","methods","labelClass","prependText","ref","isInvalid","rows","placeholder","handleClick","getBlockSuggestions","trigger","defaultContactPropertyFields","getContactSuggestions","subscriberPropertyFields","contactSuggestions","contactPropertiesSuggestions","subscriberPropertyFieldsSuggestions","getFlowIdentifiersSuggestions","blockIdentifiers","flat","getEvaluatorMethods","Map","handler","MethodNodeEvaluatorFactory","defaultHandlers","handles","upperTrigger","toUpperCase","upperMethod","getMethodSuggestions","from","focusText","validateValuePrefixes","startsWith","stringValue","assert","suggestions","uniq","getBlockNames","getResultSuggestionsForBlockNames","blockNames","getResultsSuggestions","getRunSuggestionsWithPrefix","getRunSuggestions","getSuggestions","flowNamespace","ExpressionInput","suggest","dropdown","$refs","validState","currentExpression","expressionIdentifier","identifier","portAutoSuggestContent","autoSuggestDropdown","refAutoSuggestElement","debounce_portAutoSuggestContent","$nextTick","disabledAutoComplete","mounted","refInputElement","AutoSuggest","caseSensitive","onChange","dispatchEvent","Event","updated","focus","String","step","filterFloat","FloatEditor","RegExp","regexFloatFiltering","invalid","options","modelValue","KEYS","KeypadDigitsSelector","VueMultiselect","html","SIMPLE_TYPOGRAPHY","markdownToHtml","markdown","ALLOWED_TAGS","DOMPurify","marked","MarkdownView","defineComponent","tooltipHint","modifiers","subTitle","filterNumeric","NumericEditor","regexNumericFiltering","PlainDraggable","draggable","onToggleEditable","PlainDraggableLib","$el","plainDraggableLibOptions","handleInitialized","setOptions","handle","dragHandleId","querySelectorAll","containment","autoScroll","leftTop","onDrag","handleDragged","onDragStart","handleDragStarted","onDragEnd","handleDragEnded","startX","startY","destroyed","remove","Watch","TextEditor","messageKey","shouldHideValidation","errorMessage","validationVuexNamespace","ValidationMessage","flattenErrorMessages","messageText","messageOverrides","overrides","lookupKey","replaceKey","BAlert","minWidth","canvasWidth","minHeight","canvasHeight","MARGIN_HEIGHT_CORRECTION_PX","MARGIN_WIDTH_CORRECTION_PX","DEBOUNCE_SCROLL_TIMER_MS","BuilderCanvas","debounceVerticalScroll","debounce","scrollTo","debounceHorizontalScroll","onCanvasHeightChanged","onCanvasWidthChanged","blockElementRef","blockAtTheLowestPosition","temporaryDummyHeight","offsetHeight","blockAtTheFurthestRightPosition","temporaryDummyWidth","offsetWidth","maxBy","screen","availHeight","availWidth","windowHeight","scrollHeight","windowWidth","widthAdjustment","scrollWidth","blockWidth","visibleBlockEditorWidth","blockEditorWidth","repositionHook","selectBlock","setIsMouseOnBlock","hasLayout","isBlockActivated","isAssociatedWithActiveConnectionAsSourceBlock","isAssociatedWithActiveConnectionAsTargetBlock","isWaitingForConnection","isBlockSelected","shouldShowBlockEditorForCurrentBlock","hasExitsShown","hasMultipleExitsShown","numberOfExitsShown","category","onMoved","handleDraggableEndedForBlock","handleDraggableDestroyedForBlock","nativeOn","isConnectionCreateActive","activateBlockAsDropZone","deactivateBlockAsDropZone","maxWidth","labelContainerMaxWidth","setIsConnectionSource","builderNamespace","LABEL_CONTAINER_MAX_WIDTH","BLOCK_RESET_CONNECTIONS","Block","isConnectionSource","isMouseOnBlock","created","updateLabelContainerMaxWidth","onBlockExitsLengthChanged","sourceId","isAssociatedWithActiveConnection","blockExitsLength","isRemoving","blockExitElement","isExitActivatedForCreate","shouldBlockEditorBeVisible","routerName","$router","Mutation","colorStates","ON_HOVER","CONNECTING","DEFAULT","Connection","line","isPermanentlyActive","startPlug","color","startSocket","endSocket","endPlugSize","repaintCacheKeyGenerator","reposition","blockPaddingOffset","start","sourceElementId","end","targetElementId","LeaderLine","pointAnchor","connectionElement","clickHandler","clickAwayHandler","mouseOverHandler","mouseOutHandler","resetActiveConnection","beforeDestroy","hasDestination","onHoverOptions","isClickInside","contains","Function","visibleBlocks","debounce_persistFlow","DEBOUNCE_FLOW_PERSIST_MS","mapGetters","$route","mapActions","persistFlowAndHandleUiState","choiceResourcesOrderedByResourcesList","refInFor","toString","handleExistingResourceVariantChangedFor","draftResource","addDraftResourceToChoices","handleNewChoiceChange","showModal","shouldHaveTabs","textLanguages","currentChoice","shouldUseExpression","_i","$$a","$$el","$$c","checked","$$i","concat","updateCurrentExpression","keypress","$$selectedVal","selected","val","_value","multiple","currentExpressionWithoutSpaces","isKeyPressIdentifiable","estimatedKeyPress","extends","KeyPressSelector","VoiceMappingRow","synonymsForLanguage","synonymIndex","visible_expression","globalIndex","draftExpression","addNewExpression","choiceTests","TextSynonymsEditor","TextMappingRow","BModal","VoiceMappingTable","TextMappingTable","editFlowModal","hideModal","ChoicesBuilder","intersectionWith","generateDraftResource","resource_createWith","resource_add","addChoiceByResourceIdTo","focusInputElFor","editor","isLast","hasEmptyValue","deleteLastAndPreviousChoicesIfEmpty","draftChoice","deleteChoiceByResourceIdFrom","flow_removeResourcesAndRelatedValidationsOnActiveFlow","ChoiceMappingModal","onSetContactPropertyToggle","resetMapping","onShouldUseCurrentBlockResponseUpdate","slot","isMultipleChoiceProperty","isTextProperty","getChoiceValue","setChoiceValue","isNumberProperty","isBooleanProperty","getBooleanChoiceValueOption","booleanChoiceValueOptions","setBooleanChoiceValueOption","getChoiceValueOption","choiceValueOptions","setChoiceValueOption","NO_VALUE","SelectOneResponseBlockContactPropertyEditor","contactPropertyName","contactProperty","removeMapping","AdvancedExitEditor","handleDeleteExit","addDraftExitToBlock","AdvancedExitsBuilder","block_createBlockExitWith","exitEditors","node","$props","topPosition","BlockEditor","correction","height","_setup","_defineComponent","__name","setup","__props","__sfc","hasExitPerChoice","isBranchingTypeExitPerChoice","selectedBranchingType","hasUnifiedExit","isBranchingTypeUnified","isBranchingTypeAdvanced","definitions","definition","title","BlockOutputBranchingExplanations","branchingType","blockClass","explanatoryTexts","explanatory_texts","show_for_branching_types","BlockOutputBranchingConfig","Categorization","propertyAction","PROPERTY_ACTION","SET","_q","CLEAR","updatePropertyValue","NULL_STRING_EXPRESSION","EMPTY_STRING_EXPRESSION","ContactPropertyEditor","first","firstProperty","hasIvr","EndRecordingDigitsEditor","end_recording_digits","semanticLabel","ExitSemanticLabelEditor","shouldSetContactProperty","toggleSetContactProperty","hasSubscriberPropertyFields","subscriberPropertyFieldsForSelector","flowSelectedContactPropertyField","updateFirstContactPropertyKey","disableExpressionInput","propertyValueAction","PROPERTY_VALUE_ACTION","FROM_CURRENT_BLOCK_RESPONSE","OPEN_EXPRESSION","shouldUseOpenExpression","updateFirstContactPropertyValue","GenericContactPropertyEditor","isInteractive","hasNoExpressionInput","selectedOption","data_type","shouldDisable","subscriberPropertyFieldDataTypesMapping","$isDisabled","availableMembershipActions","membershipAction","isGroupListVisible","groupOptions","onSearchChange","onGroupAdd","selectedGroups","MEMBERSHIP_ACTION","GroupMembershipEditor","unionWith","userAddedGroups","ADD","REMOVE","updateBlockConfig","newGroup","blockLabel","emitGearClickedEvent","LabelEditor","_n","MaxDigitEditor","MaxDurationSecondsEditor","defaultMaxDuration","maxChoices","MaximumChoicesEditor","MaximumNumericEditor","minChoices","MinimumChoicesEditor","minValue","MinimumNumericEditor","editBlockName","filterName","blockName","handleCompleteEditing","NameEditor","is_block_name_editable","mapMutations","match","isFeatureCallToRecordEnabled","isRecorderSelectorVisible","handleRecorderSelectionChanged","callConfig","PhoneRecorder","isVisible","recorder","recordingKey","finally","recording","isModalVisible","handleModalClosed","handleModalCancelled","recorders","selectedRecorder","setSelectedRecorder","phone","draft","selectNewRecorder","$set","PhoneRecordingRecorderSelector","SemanticLabelEditor","activateEditing","SimplifiedNameEditor","noLabel","availableTagOptions","taggable","addTag","selectedTags","clearAll","TagSelector","stringListToOptions","blockTags","list","newTag","threshold","ThresholdEditor","defaultValue","TimeoutEditor","hasProgress","isFailure","Statuses","UPLOADING","UNINITIALIZED","SUCCESS","FAILURE","uploadProgressByKey","errorMessageByKey","uploadsById","uploadIdsByKey","setErrorMessage","setUploadProgress","uploadProgress","setUploadStatusFor","fileWithRefs","lodash","uploadFile","uploadUrl","formDataFields","onSuccess","onError","formData","onUploadProgress","progressEvent","post","catch","uploadFiles","uploader","json","status_description","multimediaUploadNamespace","UploadMonitor","uploadKey","UploadStatuses","moduleName","multimediaUpload","BProgress","hasClipboard","isExitBlock","toggleExitBlock","ExitBlockEditorToggle","isStartBlock","setStartBlock","FirstBlockEditorButton","flowHeader","isOnSmallContainer","firstRowClass","didUserSubmit","hasDefaultInteractionTimeout","otherRowsClass","FlowEditor","interactionTimeout","InteractionTimeoutEditor","FlowLabelEditor","allLanguages","selectedLanguages","LanguagesEditor","availableLanguages","flow_updateLanguages","allModes","selectedModes","ModesEditor","availableModes","flow_updateModes","showAddLanguageModal","handleCreateLanguage","newLanguage","iso_639_3Tags","customLanguageLabel","iso_639_3","filterVariant","iso_3166_1Locales","customLocaleLabel","iso_3166_1","bcp_47","countries","require","registerLocale","LanguageAdder","Routes","selected_iso_639_3","selected_iso_3166_1","iso6393","resetLanguage","validation_removeNewLanguageValidation","languageModal","show","country","countriesByLocaleCode","getNames","localeCode","selection","updateBCP47","keyCode","lastCharacter","route","valid","validateAndAddOrgLanguage","hide","errorsToShow","isListLong","toggleList","isExpanded","DEFAULT_LIST_SIZE","BlockErrorsExpandable","allErrors","blockValidationStatusesForCurrentBlock","resourceValidationStatusesForCurrentBlock","backendBlockValidationStatusesForCurrentBlock","backendResourceValidationStatusesForCurrentBlock","choiceResourceUuids","currentBlockResourceUuids","getAjvErrorsFor","flowValidationErrors","fixFlowError","numberOfBlocksWithErrors","block_count","invalidBlocksInActiveFlow","fixBlockError","ErrorNotifications","frontendFlowKey","backendFlowKey","blocksMap","pickBy","hasBlockValidationErrors","frontendValidationStatuses","blockValidationStatuses","backendValidationStatuses","hasResourceValidationErrors","uuidOrUuids","uuids","doesBelongToActiveFlow","isBlockInvalid","countSelectedBlocks","deleting","handleMultipleDuplicate","flow_clearMultiSelection","confirmMultipleDeletion","SelectionBanner","flow_removeAllSelectedBlocks","duplicateBlockUuids","flow_duplicateAllSelectedBlocks","isExportVisible","hasToolbarFlowTitle","hasToolbarHomeButton","hasToolbarNewFlowButton","showOrHideEditFlowModal","isResourceViewerEnabled","isTreeSaving","treeUrl","handleFlowViewMenu","resourceUrl","handleResourceViewMenu","isEditableLocked","viewModeUrl","handlePersistFlow","editModeUrl","hasSimulator","setSimulatorActive","hasToolbarExportButton","toggleExportVisibility","isSavingDisabled","saveButtonText","blockClassesForContentCategory","openDropdownMenu","classDetails","className","shouldDisplayDividerBefore","isBlockAvailableByBlockClass","handleAddBlockByTypeSelected","translateTreeClassName","blockClassesForContactCategory","blockClassesForBranchingCategory","blockClassesForDeveloperCategory","handleHeightChangeFromDOM","can","userPermissions","permissionOrPermissions","requireAll","requestedPermission","Permissions","permission","permissions","VuexUndoRedoPlugin","handleStateChangeDebounced","storeChangeHandler","mutation","subscribe","use","BootstrapVue","BTooltip","clipboardVuexNamespace","TreeBuilderToolbar","undoRedoModule","routeMeta","meta","onMetaChanged","$on","isFlowEditorShown","editTreeRoute","hasClassDetail","hasMenuCategory","isFeatureViewResultsEnabled","isFeatureSimulatorEnabled","flow_addBlankBlockByType","toggle","targetElement","hasAttribute","click","removeNilValues","attribute","menu_category","shouldShowDividerBeforeBlock","_pickBy","identity","elementRef","childNodes","sum","child","immediate","deep","tree","undoTooltip","handleUndo","redoTooltip","handleRedo","useStore","inject","router","useRouter","postMessage","navigateToDeepLink","tooltip","componentKey","updateCursorPosition","handleRemoveConnection","exitNameClass","isHovered","handleDraggableInitializedFor","onCreateExitDragStarted","onCreateExitDragged","onCreateExitDragEnded","handleDraggableDestroyedFor","livePosition","connectionColorAtSourceDragged","connectionColorForKnowDestination","setIsLineHovered","setIsLineClicked","emits","emit","ICON_SIZE","isDragged","isLineHovered","isLinePermanentlyActive","cursorPosition","forceRender","clientX","scrollX","clientY","scrollY","coords","adjustDraggablePosition","dx","dy","nextTick","block_deselect","block_select","isDeleting","isActivatedByConnection","handleDeleteBlock","handleDuplicateBlock","BlockToolbar","flow_duplicateBlock","duplicateBlockUuid","resourceVariant","availableAudioFiles","isFeatureAudioUploadEnabled","token","accept","handleFileErrorFor","handleFileSuccessFor","handleFilesSubmittedFor","triggerRecordViaPhoneFor","el","bubbles","cancelable","FlowUploader","binding","upload_token","chain","children","_even","_event","ResourceEditorCell","audio_file_id","created_at","duration_seconds","extension","uploadedAudio","original_extension","resource_setOrCreateValueModeSpecific","blur","pushAudioIntoLibrary","iconsMap","PerLanguageResourceEditorRow","PerModeResourceEditorRow","TabsPlugin","PerLanguageResourceEditor","modeIndex","updateIsPanelExpanded","isPanelExpanded","PerModeResourceEditor","expandedPanels","expandedPanelsOverridden","openResources","overrideOpenResources","hasOpenPanelsOverridden","defaultPlaceholder","isSms","isUssd","smsCharInfo","contentLengthInfo","ResourceVariantTextEditor","charCount","isUnicode","characterSet","smsPagesCount","parts","charInfo","pagesInfo","mimeType","SplitSms","hasContent","registerCustomComponents","extra","Components","commonComponents","interactionDesignerComponents","blockEditorsComponents","blockEditorsChoicesComponents","blockTypesComponents","flowEditorsComponents","flowImportComponents","toolbarComponents","blockComponents","blockResourceEditorsComponents","resourceViewerComponents","isBlockEditorShown","redirect","VueRouter","treesRoutes","process","Vuex","VUE_TOAST_GENERAL_OPTIONS","POSITION","TOP_RIGHT","draggablePercent","closeOnClick","Toast","productionTip","Store","main","provide","h","App","$mount","Cypress","Core_CaseBlockStore","Core_CaseBlock","CaseStore","PATH_PARAM_DISCOVERER","raiseFor","interpolateRouteWith","isPathComplete","captured","isOptional","param","absent","routeKey","DEV_ERROR_KEYWORDS","validators","createDefaultJsonSchemaValidatorFactoryFor","jsonSchema","subSchema","ajv","Ajv","ajvFormat","addFormat","validate","floipExpressionParser","compile","getSchema","addSchema","debugValidationStatus","customMessage","getErrorMessageLocalizationKeyForProperty","keyPrefix","ajvErrorObject","entity","missingProperty","getErrorMessageLocalizationKey","isFormatError","isExpressionFormat","getLocalizedErrorMessage","hasKeyword","hasMessage","localizationKey","localizedMessage","_match","_g1","hasTranslation","schemaPath","getLocalizedAjvErrors","getLocalizedBackendErrors","blockErrors","errorWithRightSchema","flatValidationStatuses","accumulator","getOrCreateFlowValidator","validationType","flowJsonSchema","IFlow","additionalProperties","properties","getOrCreateContainerImportValidator","getOrCreateLanguageValidator","getOrCreateResourceValidator","customBlockJsonSchema","blockTypeWithoutNameSpace","blockJsonSchema","extractResourceVariantIndex","errorDataPath","indexAsString","isNotUndefined","validationGetters","forIn","isOrphanResource","validationMutations","removeValidationStatusesFor","resetValidationStatuses","pushAjvErrorToValidationStatuses","validationActions","frontendAjvErrors","backendErrorsList","validation_results","orphanResourceUuids","currentUuid","backendKey","frontendKey","currentBackendErrors","currentFrontendValidationStatuses","frontendDataPathList","finalErrors","uniqBy","newBackendValidation","currentBlock","invalidCounterBy","resourcesWithSupportedValues","resourceWithNewValues","hasSupportedLang","isChoiceResource","hasSupportedMode","hasContentType","currentResource","invalidCounterByMode","invalidCounterByLang","flowLanguageIds","flowModes","invalidVariantIndex","invalidVariant","update","count","validationStore","ChoiceModule","baseMutations","existingChoiceByResource","allChoices","newChoices","exitsForChoices","checkExist","block_setChoiceIvrExpressionOnIndex","choiceValidationKey","allIvrTestExpressions","duplicates","allChoiceNames","duplicatedChoiceNames","languagesMissing","existingLanguagesWithoutMatch","missingLanguages","handleMatchLanguage","propertiesMissing","existingPropertiesWithoutMatch","missingProperties","handleMatchProperty","groupsMissing","existingGroupsWithoutMatch","missingGroups","handleMatchGroup","oldLanguage","matchingNewLanguage","oldProperty","matchingNewProperty","oldGroup","matchingNewGroup"],"mappings":"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","file":"js/app.ad66132f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"chunk-builder\":\"chunk-builder\"}[chunkId]||chunkId) + \".\" + {\"chunk-builder\":\"2c2ba559\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-builder\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"chunk-builder\":\"chunk-builder\"}[chunkId]||chunkId) + \".\" + {\"chunk-builder\":\"8b03a072\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/flow-builder/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-set-group-membership-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('group-membership-editor',{attrs:{\"block\":_vm.block,\"available-groups\":_vm.finalGroupOptions,\"has-groups-loading\":_vm.hasGroupsLoading}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {ISetContactPropertyBlock, ISetGroupMembershipBlockConfig} from '@floip/flow-runner'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\nimport {ValidationResults} from '@/lib/validations'\n\nexport interface IGroupOption {\n  id: string,\n  name: string,\n}\n\nexport const ADD_KEY = 'add'\nexport const REMOVE_KEY = 'remove'\n\nexport const BLOCK_TYPE = 'Core.SetGroupMembership'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<ISetGroupMembershipBlockConfig> }) {\n    props.type = BLOCK_TYPE\n    props.config = {\n      is_member: true,\n      groups: [],\n      clear: false,\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n\n  async setIsMember({commit, rootGetters}, action) {\n    const activeBlock = rootGetters['builder/activeBlock']\n    let isMember = false\n    if (action === true) {\n      isMember = action.id === ADD_KEY\n    }\n    commit('flow/block_updateConfigByPath', {\n      blockId: activeBlock.uuid,\n      path: 'is_member',\n      value: isMember,\n    }, {root: true})\n  },\n\n  async validateWithProgrammaticLogic(\n    _ctx: unknown,\n    {block}: {block: ISetContactPropertyBlock},\n  ): Promise<ValidationResults> {\n    console.debug('floip/SetGroupMembership/validateWithProgrammaticLogic()', `${block.type}`)\n    const errors: ValidationResults = []\n\n    const {groups, is_member} = block.config\n\n    if (is_member !== undefined && groups?.length === 0) {\n      errors.push(['/config/groups', 'set-group-membership-groups-required'])\n    }\n    return errors\n  },\n}\n\nconst Core_SetGroupMembershipStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default Core_SetGroupMembershipStore\n","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {namespace, State} from 'vuex-class'\n\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport SetGroupMembershipStore, {ADD_KEY, BLOCK_TYPE, IGroupOption, REMOVE_KEY} from '@/store/flow/block-types/Core_SetGroupMembershipStore'\nimport {IBlock, IFlow, IGroupMembership} from '@floip/flow-runner'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({})\nexport class Core_SetGroupMembershipBlock extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n /**\n  * The availableGroups and hasGroupsLoading are forwarded to group-membership-editor as is.\n  * @see group-membership-editor for details of use\n  */\n  @Prop() readonly availableGroups?: IGroupMembership[]\n  @Prop() readonly hasGroupsLoading?: boolean\n\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n  @State(({trees: {ui: {groups}}}) => groups) groupsFromUiConfig!: IGroupOption[]\n\n  /**\n   * If availableGroups is not provided, use the groups from the ui config\n   * In general, we specify the availableGroups at the consumer level to customize this component\n   */\n  get finalGroupOptions(): IGroupMembership[] {\n    return this.availableGroups || this.groupsFromUiConfig.map(({id, name}) => ({group_key: id, group_name: name}))\n  }\n}\n\nexport default Core_SetGroupMembershipBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SetGroupMembershipStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_SetGroupMembershipBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_SetGroupMembershipBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_SetGroupMembershipBlock.vue?vue&type=template&id=7f8c8bb5&scoped=true&\"\nimport script from \"./Core_SetGroupMembershipBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_SetGroupMembershipBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Core_SetGroupMembershipBlock.vue?vue&type=style&index=0&id=7f8c8bb5&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f8c8bb5\",\n  null\n  \n)\n\nexport default component.exports","import {\n  IBlock,\n  IChoice,\n  IContext,\n  IFlow,\n  IResource,\n  IResourceValue,\n  IResourceValue as IResourceDefinitionVariantOverModes,\n  SupportedContentType,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport {cloneDeep, difference, find, isEmpty, isEqual, map, pick, without} from 'lodash'\nimport {ValidationException} from '@floip/flow-runner/src/domain/exceptions/ValidationException'\nimport structuredClone from '@ungap/structured-clone'\n\nexport type IResourceDefinitionVariantOverModesFilter = Partial<IResourceDefinitionVariantOverModes>\nexport type IResourceDefinitionVariantOverModesFilterAsKey = Omit<IResourceDefinitionVariantOverModes, 'value'>\n\nexport function findResourceWith(uuid: string, {resources}: IFlow): IResource {\n  const resource = find(resources, {uuid})\n  if (resource == null) {\n    throw new ValidationException(`Unable to find resource on context: ${uuid} in ${map(resources, 'uuid')}`)\n  }\n\n  return resource\n}\n\nexport function findResourceVariantOverModesWith(\n  uuid: IResource['uuid'],\n  filter: IResourceDefinitionVariantOverModesFilter,\n  flow: IFlow,\n): IResourceDefinitionVariantOverModes {\n  return findResourceVariantOverModesOn(\n    findResourceWith(uuid, flow),\n    filter,\n  )\n}\n\nexport function findResourceVariantOverModesOn(\n  resource: IResource,\n  filter: IResourceDefinitionVariantOverModesFilter,\n): IResourceValue {\n  // b/c we do explicit partial matching on modes\n  // why do we do partial matching on modes?\n\n  // todo: is there a way that we could do an inclusive+additive search here?\n  // todo: the goal here would be to be able to do something like:\n  //       resource: {values: [\n  //             {modes: [...flow.modes], contentType: contentType, ...}\n  //       ]}\n  //      the equivalent of the above This would provide us the ability to then toggle\n\n  const keysForComparison = without(Object.keys(filter), 'modes')\n  const filterWithComparatorKeys = pick(filter, keysForComparison)\n  const variant = find<IResourceDefinitionVariantOverModes>(\n    resource.values,\n    (v) => isEqual(filterWithComparatorKeys, pick(v, keysForComparison))\n      && difference(filter.modes, v.modes).length === 0,\n  )\n\n  if (variant == null) {\n    throw new ValidationException(`Unable to find resource variant (over modes) on context: (\n      ${resource.uuid},\n      ${JSON.stringify(filter)}) in\n        ${JSON.stringify(map(resource.values, (v) => pick(v, keysForComparison)))}`)\n  }\n\n  return variant\n}\n\n/** @returns resource variant's index in the resource.values array, -1 if not found */\nexport function findIndexForResourceVariant(\n  resource: IResource,\n  filter: IResourceDefinitionVariantOverModesFilter,\n): number {\n  const keysForComparison = without(Object.keys(filter), 'modes')\n  const filterWithComparatorKeys = pick(filter, keysForComparison)\n  return resource.values.findIndex(v =>\n    isEqual(filterWithComparatorKeys, pick(v, keysForComparison))\n    && difference(filter.modes, v.modes).length === 0)\n}\n\nexport function findOrGenerateStubbedVariantFor(\n  resourceId: IResource['uuid'],\n  filter: IResourceDefinitionVariantOverModesFilterAsKey,\n  flow: IFlow,\n): IResourceDefinitionVariantOverModes {\n  return findOrGenerateStubbedVariantOn(\n    findResourceWith(resourceId, flow),\n    filter,\n  )\n}\n\nexport function findOrGenerateStubbedVariantOn(\n  resource: IResource,\n  filter: IResourceDefinitionVariantOverModesFilterAsKey,\n): IResourceDefinitionVariantOverModes {\n  try {\n    return findResourceVariantOverModesOn(resource, filter)\n  } catch (e) {\n    if (!(e instanceof ValidationException)) {\n      throw e\n    }\n\n    return Object.assign(cloneDeep(filter), {value: ''})\n  }\n}\n\nexport function discoverContentTypesFor(mode: SupportedMode, resource?: IResource): SupportedContentType[] | undefined {\n  const {TEXT, AUDIO, IMAGE, VIDEO} = SupportedContentType\n\n  // @note -- contentType order inadvertently determines render order on UI.\n  const defaultModeMappings: { [key in SupportedMode]?: SupportedContentType[] } = {\n    // voice\n    [SupportedMode.IVR]: [AUDIO],\n    [SupportedMode.SMS]: [TEXT],\n    [SupportedMode.TEXT]: [TEXT],\n    [SupportedMode.USSD]: [TEXT],\n    // clipboard\n    [SupportedMode.OFFLINE]: [TEXT, IMAGE, VIDEO],\n    // social\n    [SupportedMode.RICH_MESSAGING]: [TEXT, IMAGE, VIDEO],\n  }\n\n  if (!resource || !resource.values.length) {\n    return defaultModeMappings[mode]\n  }\n  let contentTypeOverrides: { [key in SupportedMode]?: string[] } = {}\n  // TODO - think harder about this - what happens when a mode has a non standard content type - e.g. ivr on a log block\n  // What happens in a future localised resource world on things like LogBlock? Do we need a log resource value for every language?\n  contentTypeOverrides = resource.values.reduce((contentTypeOverrides, value) => {\n    value.modes.reduce((contentTypeOverrides, resourceMode) => {\n      if (!contentTypeOverrides[resourceMode]) {\n        contentTypeOverrides[resourceMode] = []\n      }\n      contentTypeOverrides[resourceMode]!.push(value.content_type)\n      return contentTypeOverrides\n    }, contentTypeOverrides)\n    return contentTypeOverrides\n  }, contentTypeOverrides)\n  return Object.assign(defaultModeMappings, contentTypeOverrides)[mode]\n}\n\nexport function cleanupFlowBeforePersisting(container: IContext, choiceMimeType: string): IContext {\n  const flows = structuredClone(container.flows)\n\n  flows.forEach((flow) => {\n    // Cleanup resources\n    flow.resources\n      .map((resource) => {\n        resource.values = resource.values.filter((value) => {\n          if (value.mime_type === choiceMimeType) {\n            return true\n          }\n\n          const hasAllowedMode = flow.supported_modes.some(mode => value.modes.includes(mode))\n          const hasSupportedLanguage = flow.languages.some(lang => value.language_id === lang.id)\n\n          return hasAllowedMode && hasSupportedLanguage\n        })\n\n        return isEmpty(resource.values) ? null : resource\n      })\n      .filter(Boolean)\n\n    // Cleanup blocks\n    flow.blocks.forEach((block) => {\n      if (block.type === 'Core.SetGroupMembership') {\n        delete block.vendor_metadata?.floip.ui_metadata.user_added_groups\n      }\n    })\n  })\n\n  return {\n    ...container,\n    flows,\n  }\n}\n\nexport function findBlockRelatedResourcesUuids({block}: {block: IBlock}): IResource['uuid'][] {\n  const resources: IResource['uuid'][] = []\n  // Get uuid from block config prompt\n  if (block.config?.prompt !== undefined) {\n    resources.push((block.config.prompt as IBlock['uuid']))\n  }\n\n  // Get uuid from block config choices\n  block.config?.choices?.forEach((choice: IChoice) => {\n    resources.push(choice.prompt)\n  })\n\n  return resources\n}\n\nexport function isBlockUsingResource(block: IBlock, resourceUuid: string): boolean {\n  const isInPrompt = block.config.prompt === resourceUuid\n\n  const isInChoices = block.config.choices !== undefined\n    && (block.config.choices as IChoice[]).some(choice => choice.prompt === resourceUuid)\n\n  return isInPrompt || isInChoices\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-primitive-select-many-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('choices-builder',{attrs:{\"block\":_vm.block},on:{\"choiceChanged\":_vm.handleChoiceChanged}}),_c('hr'),_c('minimum-choices-editor',{attrs:{\"block\":_vm.block}}),_c('maximum-choices-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",function(){return [_c('block-output-branching-config',{attrs:{\"block\":_vm.block,\"has-exit-per-choice\":false,\"label-class\":''},on:{\"branchingTypeChanged\":function($event){return _vm.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}})]},{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component} from 'vue-property-decorator'\nimport SelectManyResponseStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore'\nimport {namespace} from 'vuex-class'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {IBlock} from '@floip/flow-runner'\nimport SelectOneResponseBlock from './MobilePrimitives_SelectOneResponseBlock.vue'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class MobilePrimitives_SelectManyResponseBlock extends SelectOneResponseBlock {\n  //Important: Even we extends from SelectOneResponseBlock, to avoid conflict\n  // we SHOULD re-declare @blockVuexNamespace based getter, state, action, mutation\n  @builderVuexNamespace.Getter declare isEditable: boolean\n  @blockVuexNamespace.Action declare handleBranchingTypeChangedToUnified: ({block}: {block: IBlock}) => void\n}\n\nexport default MobilePrimitives_SelectManyResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SelectManyResponseStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=template&id=648c2f31&\"\nimport script from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_SelectManyResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  IconDefinition,\n  IconName,\n  IconPrefix,\n} from '@fortawesome/fontawesome-common-types'\n\n/**\n * Note for devs:\n * in case merged paths don't work correctly (eg: icons became filled), we can try to :\n * - re-import SVG in https://icomoon.io/app/,\n * - then re-download it\n * - copy paths into one single path\n */\n\nconst audio: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'audio' as IconName,\n  icon: [\n    14,\n    14,\n    [],\n    'e001',\n    // eslint-disable-next-line max-len\n    'M4.96802 2.635C5.24464 2.23831 5.71033 2.00004 6.20901 2.00004H7.0313C7.85503 2.00004 8.52279 2.63844 8.52279 3.42596V11.5741C8.52279 12.3616 7.85503 13 7.0313 13H6.95819C6.56262 13 6.18326 12.8498 5.90355 12.5824L3.84596 10.6152C3.80601 10.577 3.75181 10.5556 3.6953 10.5556H1.49149C0.667762 10.5556 0 9.91716 0 9.12964V5.87039C0 5.08288 0.667762 4.44447 1.49149 4.44447H3.5922C3.66344 4.44447 3.72997 4.41043 3.76948 4.35376L4.96802 2.635ZM6.20901 3.22226C6.13777 3.22226 6.07124 3.25629 6.03173 3.31296L4.83319 5.03173C4.55657 5.42842 4.09088 5.66669 3.5922 5.66669H1.49149C1.37381 5.66669 1.27842 5.75789 1.27842 5.87039V9.12964C1.27842 9.24214 1.37381 9.33334 1.49149 9.33334H3.6953C4.09087 9.33334 4.47023 9.48357 4.74994 9.75099L6.80753 11.7181C6.84748 11.7563 6.90168 11.7778 6.95819 11.7778H7.0313C7.14898 11.7778 7.24437 11.6866 7.24437 11.5741V3.42596C7.24437 3.31346 7.14898 3.22226 7.0313 3.22226H6.20901Z M10.3337 4.71804C10.5287 4.43669 10.9253 4.35973 11.2196 4.54615C11.9644 5.01793 12.8617 5.9752 13.1309 7.14458C13.2692 7.74562 13.2409 8.40541 12.9334 9.06324C12.6278 9.71697 12.0676 10.3241 11.2196 10.8613C10.9253 11.0477 10.5287 10.9707 10.3337 10.6894C10.1387 10.408 10.2192 10.0288 10.5135 9.84242C11.2091 9.40181 11.5814 8.9599 11.7662 8.56456C11.9491 8.17332 11.9691 7.78404 11.8823 7.4073C11.7013 6.62113 11.055 5.90804 10.5135 5.56501C10.2192 5.37859 10.1387 4.99939 10.3337 4.71804Z M13.0384 2.12334C13.3202 1.92004 13.721 1.97363 13.9336 2.24304C14.6116 3.10201 15.6372 4.7263 15.9236 6.65002C16.2158 8.61342 15.7293 10.8603 13.4249 12.8431C13.1625 13.0689 12.7583 13.0486 12.5221 12.7977C12.286 12.5468 12.3073 12.1604 12.5697 11.9347C14.5266 10.2508 14.8963 8.42364 14.6579 6.82224C14.4136 5.18115 13.5215 3.7499 12.9132 2.97925C12.7005 2.70984 12.7566 2.32664 13.0384 2.12334Z',\n  ],\n}\n\nconst enter: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'enter' as IconName,\n  icon: [\n    17,\n    20,\n    [],\n    'e002',\n    // eslint-disable-next-line max-len\n    'M1 9C0.447715 9 0 9.44772 0 10C0 10.5523 0.447715 11 1 11V9ZM11 11H12V9H11V11ZM7.99929 4.62347C7.63354 4.20965 7.00157 4.17068 6.58775 4.53643C6.17393 4.90218 6.13497 5.53414 6.50071 5.94796L7.99929 4.62347ZM11.4167 10L12.166 10.6622L12.7513 10L12.166 9.33775L11.4167 10ZM6.50071 14.052C6.13497 14.4659 6.17393 15.0978 6.58775 15.4636C7.00157 15.8293 7.63354 15.7904 7.99929 15.3765L6.50071 14.052ZM3.33333 3.14286C3.33333 3.69514 3.78105 4.14286 4.33333 4.14286C4.88562 4.14286 5.33333 3.69514 5.33333 3.14286H3.33333ZM5.33333 16.8571C5.33333 16.3049 4.88562 15.8571 4.33333 15.8571C3.78105 15.8571 3.33333 16.3049 3.33333 16.8571H5.33333ZM1 11H11V9H1V11ZM5.33333 3.14286V2H3.33333V3.14286H5.33333ZM5.33333 2H15V0H5.33333V2ZM15 2V18H17V2H15ZM15 18H5.33333V20H15V18ZM5.33333 18V16.8571H3.33333V18H5.33333ZM10.6674 9.33775L8.58405 11.6949L10.0826 13.0194L12.166 10.6622L10.6674 9.33775ZM8.58405 11.6949L6.50071 14.052L7.99929 15.3765L10.0826 13.0194L8.58405 11.6949ZM6.50071 5.94796L8.58405 8.3051L10.0826 6.98061L7.99929 4.62347L6.50071 5.94796ZM8.58405 8.3051L10.6674 10.6622L12.166 9.33775L10.0826 6.98061L8.58405 8.3051ZM5.33333 18H5.33333H3.33333C3.33333 19.1046 4.22877 20 5.33333 20V18ZM15 18V20C16.1046 20 17 19.1046 17 18H15ZM15 2H15H17C17 0.89543 16.1046 0 15 0V2ZM5.33333 2L5.33333 2V0C4.22876 0 3.33333 0.895431 3.33333 2H5.33333Z',\n  ],\n}\n\nconst recordAudio: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'record-audio' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e003',\n    // eslint-disable-next-line max-len\n    'M7.99805 13.9376C7.9636 13.3864 7.48883 12.9675 6.93762 13.0019C6.38641 13.0364 5.9675 13.5112 6.00195 14.0624L7.99805 13.9376ZM25.9981 14.0624C26.0325 13.5112 25.6136 13.0364 25.0624 13.0019C24.5112 12.9675 24.0364 13.3864 24.0019 13.9376L25.9981 14.0624ZM15 28C15 28.5523 15.4477 29 16 29C16.5523 29 17 28.5523 17 28H15ZM8 27C7.44772 27 7 27.4477 7 28C7 28.5523 7.44772 29 8 29V27ZM24 29C24.5523 29 25 28.5523 25 28C25 27.4477 24.5523 27 24 27V29ZM20 8V13H22V8H20ZM12 13V8H10V13H12ZM16 17C13.7909 17 12 15.2091 12 13H10C10 16.3137 12.6863 19 16 19V17ZM20 13C20 15.2091 18.2091 17 16 17V19C19.3137 19 22 16.3137 22 13H20ZM16 4C18.2091 4 20 5.79086 20 8H22C22 4.68629 19.3137 2 16 2V4ZM16 2C12.6863 2 10 4.68629 10 8H12C12 5.79086 13.7909 4 16 4V2ZM6.00195 14.0624C6.09611 15.5689 6.7059 17.7811 8.24207 19.6375C9.81064 21.5331 12.3011 23 16 23V21C12.8989 21 10.9727 19.8003 9.78293 18.3625C8.56077 16.8855 8.07056 15.0977 7.99805 13.9376L6.00195 14.0624ZM16 23C19.6989 23 22.1894 21.5331 23.7579 19.6375C25.2941 17.7811 25.9039 15.5689 25.9981 14.0624L24.0019 13.9376C23.9294 15.0977 23.4392 16.8855 22.2171 18.3625C21.0273 19.8003 19.1011 21 16 21V23ZM17 28V22H15V28H17ZM8 29H24V27H8V29Z',\n  ],\n}\n\nconst settings: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'settings' as IconName,\n  icon: [\n    16,\n    16,\n    [],\n    'e004',\n    // eslint-disable-next-line max-len\n    'M14.9757 7.00154L13.2241 5.81525L13.6254 3.73557C13.7015 3.34893 13.5785 2.95057 13.3002 2.66938C13.019 2.39111 12.6207 2.26809 12.2399 2.34424L10.1632 2.74553L8.97979 0.990993C8.53749 0.3378 7.45958 0.3378 7.01728 0.990993L5.83392 2.74553L3.76011 2.34424C3.37053 2.27102 2.9751 2.39111 2.69684 2.67231C2.41857 2.9535 2.29555 3.34893 2.3717 3.73557L2.77299 5.81525L1.02138 7.00154C0.693322 7.22415 0.5 7.59029 0.5 7.98572C0.5 8.38115 0.696251 8.74729 1.02138 8.96697L2.77299 10.1533L2.3717 12.2329C2.29555 12.6196 2.41857 13.0179 2.69684 13.2962C2.9751 13.5745 3.3676 13.6975 3.76011 13.6213L5.83392 13.2201L7.01728 14.9746C7.23697 15.3027 7.60603 15.4989 7.99854 15.4989C8.39104 15.4989 8.76011 15.3027 8.97979 14.9775L10.1632 13.223L12.2399 13.6243C12.6324 13.7034 13.0249 13.5774 13.3032 13.2991C13.5814 13.0209 13.7015 12.6225 13.6283 12.2359L13.227 10.1562L14.9786 8.9699C15.3037 8.75022 15.5 8.38115 15.5 7.98865C15.4971 7.59029 15.3037 7.22415 14.9757 7.00154ZM11.6687 9.50886L12.1842 12.1802L9.51875 11.6647L7.99854 13.9172L6.47832 11.6618L3.81576 12.1773L4.33128 9.50593L2.08172 7.98279L4.33128 6.45965L3.81576 3.7883L6.48125 4.30382L7.99854 2.05426L9.51875 4.30675L12.1842 3.79123L11.6687 6.45965L13.9183 7.98279L11.6687 9.50886ZM7.99854 4.95409C6.32015 4.95409 4.95226 6.32198 4.95226 8.00037C4.95226 9.67875 6.32015 11.0466 7.99854 11.0466C9.67692 11.0466 11.0448 9.67875 11.0448 8.00037C11.0448 6.32198 9.67692 4.95409 7.99854 4.95409ZM7.99854 9.64067C7.09344 9.64067 6.35823 8.90546 6.35823 8.00037C6.35823 7.09527 7.09344 6.36006 7.99854 6.36006C8.90363 6.36006 9.63884 7.09527 9.63884 8.00037C9.63884 8.90546 8.90363 9.64067 7.99854 9.64067Z',\n  ],\n}\n\nconst upload: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'upload' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e005',\n    // eslint-disable-next-line max-len\n    'M15.3415 5.24742C15.7185 4.91753 16.2815 4.91753 16.6585 5.24742L24.6585 12.2474C25.0741 12.6111 25.1163 13.2429 24.7526 13.6585C24.3889 14.0741 23.7571 14.1163 23.3415 13.7526L17 8.20377V19C17 19.5523 16.5523 20 16 20C15.4477 20 15 19.5523 15 19V8.20377L8.6585 13.7526C8.24287 14.1163 7.61111 14.0741 7.24742 13.6585C6.88374 13.2429 6.92586 12.6111 7.3415 12.2474L15.3415 5.24742ZM7 20C7.55228 20 8 20.4477 8 21V26H24V21C24 20.4477 24.4477 20 25 20C25.5523 20 26 20.4477 26 21V27C26 27.5523 25.5523 28 25 28H7C6.44772 28 6 27.5523 6 27V21C6 20.4477 6.44772 20 7 20Z',\n  ],\n}\n\nconst ussd: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'ussd' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e006',\n    // eslint-disable-next-line max-len\n    'M18 23h11v-20h-26v20h9.541l0.607 3.639 4.852-3.639zM11.79 31.408c-0.36 0.27-0.878 0.062-0.952-0.381l-0.838-5.026h-8c-1.105 0-2-0.895-2-2v-22c0-1.105 0.895-2 2-2h28c1.105 0 2 0.895 2 2v22c0 1.105-0.895 2-2 2h-11l-7.21 5.408z M11.052 10l-0.331 3.077 3.014-0.872 0.265 2.103-2.749 0.205 1.805 2.479-1.838 1.009-1.259-2.615-1.11 2.598-1.905-0.991 1.789-2.479-2.733-0.222 0.315-2.085 2.948 0.872-0.331-3.077h2.12z M24.193 13.377l-0.306 1.268h1.674v1.133h-1.927l-0.505 2.222h-1.422l0.505-2.222h-1.262l-0.492 2.222h-1.395l0.478-2.222h-1.542v-1.133h1.794l0.306-1.268h-1.634v-1.144h1.874l0.505-2.233h1.422l-0.505 2.233h1.289l0.505-2.233h1.395l-0.505 2.233h1.555v1.144h-1.807zM21.203 14.645h1.276l0.306-1.268h-1.276l-0.306 1.268z',\n  ],\n}\n\nconst copy: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'copy' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e007',\n    // eslint-disable-next-line max-len\n    'M14.667 13.333c-.737 0-1.334.597-1.334 1.334v12c0 .736.597 1.333 1.334 1.333h12c.736 0 1.333-.597 1.333-1.333v-12c0-.737-.597-1.334-1.333-1.334h-12zm-4 1.334a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-12a4 4 0 0 1-4-4v-12z M5.333 4A1.333 1.333 0 0 0 4 5.333v12a1.333 1.333 0 0 0 1.333 1.334h1.334a1.333 1.333 0 1 1 0 2.666H5.333a4 4 0 0 1-4-4v-12a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v1.334a1.333 1.333 0 1 1-2.666 0V5.333A1.334 1.334 0 0 0 17.333 4h-12z',\n  ],\n}\n\nconst expand: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'expand' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e008',\n    // eslint-disable-next-line max-len\n    'M13.432 27.9a1.333 1.333 0 0 1-1.304 1.36l-7.998.172a1.333 1.333 0 0 1-1.362-1.304l-.171-7.999a1.333 1.333 0 0 1 2.666-.057l.142 6.665 6.666-.142a1.333 1.333 0 0 1 1.361 1.304zM28.201 13.123a1.333 1.333 0 0 1-1.39-1.273l-.294-6.66-6.66.293a1.333 1.333 0 1 1-.118-2.664l7.992-.352a1.333 1.333 0 0 1 1.39 1.273l.353 7.992a1.333 1.333 0 0 1-1.273 1.391z M17.977 14.518a1.333 1.333 0 0 1-.084-1.884L26.806 2.9a1.333 1.333 0 0 1 1.967 1.8l-8.913 9.736c-.497.543-1.34.58-1.883.083zM3.179 29.062a1.333 1.333 0 0 1-.04-1.886l9.13-9.53a1.333 1.333 0 0 1 1.926 1.844l-9.131 9.531c-.51.532-1.354.55-1.885.04z',\n  ],\n}\n\nconst minimize: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'minimize' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e009',\n    // eslint-disable-next-line max-len\n    'M4 18.667c0-.737.597-1.334 1.333-1.334h8c.737 0 1.334.597 1.334 1.334v8a1.333 1.333 0 0 1-2.667 0V20H5.333A1.333 1.333 0 0 1 4 18.667zM18.667 4C19.403 4 20 4.597 20 5.333V12h6.667a1.333 1.333 0 1 1 0 2.667h-8a1.333 1.333 0 0 1-1.334-1.334v-8c0-.736.597-1.333 1.334-1.333z M28.943 3.057c.52.52.52 1.365 0 1.886l-9.334 9.333a1.333 1.333 0 1 1-1.885-1.886l9.333-9.333c.52-.52 1.365-.52 1.886 0zM14.276 17.724c.52.52.52 1.365 0 1.886l-9.333 9.333a1.333 1.333 0 0 1-1.886-1.886l9.333-9.333c.521-.52 1.365-.52 1.886 0z',\n  ],\n}\n\nconst singleExit: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'single-exit' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e010',\n    'M21 8H11V14H21V8ZM10 7V15H15.5V19H12V25H20V19H16.5V15H22V7H10ZM13 20H19V24H13V20Z',\n  ],\n}\n\nconst advancedExit: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'advanced-exit' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e011',\n    // eslint-disable-next-line max-len\n    'M11 8H21V14H11V8ZM10 7H22V15H16.5V19H25V25H7V19H15.5V15H10V7ZM24 20H8V24H24V20ZM13 22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22C11 21.4477 11.4477 21 12 21C12.5523 21 13 21.4477 13 22ZM16 23C16.5523 23 17 22.5523 17 22C17 21.4477 16.5523 21 16 21C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23ZM21 22C21 22.5523 20.5523 23 20 23C19.4477 23 19 22.5523 19 22C19 21.4477 19.4477 21 20 21C20.5523 21 21 21.4477 21 22Z',\n  ],\n}\n\nconst oneExitPerChoice: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'one-exit-per-choice' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e012',\n    // eslint-disable-next-line max-len\n    'M21 8H11V14H21V8ZM10 7V15H15.5V18.5H11.5V21H9V25H14V21H12.5V19.5H19.5V21H18V25H23V21H20.5V18.5H16.5V15H22V7H10ZM10 24V22H13V24H10ZM22 24V22H19V24H22Z',\n  ],\n}\n\nconst home: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'home' as IconName,\n  icon: [\n    24,\n    24,\n    [],\n    'e013',\n    // eslint-disable-next-line max-len\n    'M9.38843 22.559V15.3539H14.6058V22.559C14.6058 23.3515 15.1927 24 15.9101 24H19.8231C20.5405 24 21.1275 23.3515 21.1275 22.559V12.4719H23.3448C23.9448 12.4719 24.2318 11.6506 23.7753 11.2183L12.871 0.367457C12.3754 -0.122486 11.6188 -0.122486 11.1232 0.367457L0.218936 11.2183C-0.224539 11.6506 0.0493717 12.4719 0.649367 12.4719H2.86674V22.559C2.86674 23.3515 3.45369 24 4.17108 24H8.08409C8.80148 24 9.38843 23.3515 9.38843 22.559Z',\n  ],\n}\n\nconst content: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'content' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e014',\n    // eslint-disable-next-line max-len\n    'M23 4v0c0.552 0 1 0.448 1 1v23c0 0.552-0.448 1-1 1h-14c-0.552 0-1-0.448-1-1v-23c0-0.552 0.448-1 1-1h14zM9 3c-1.105 0-2 0.895-2 2v0 23c0 1.105 0.895 2 2 2v0h14c1.105 0 2-0.895 2-2v0-23c0-1.105-0.895-2-2-2v0h-14z M19.7 7v0c0.552 0 1 0.448 1 1v13c0 0.552-0.448 1-1 1h-7.2c-0.552 0-1-0.448-1-1v-13c0-0.552 0.448-1 1-1h7.2zM12.5 6c-1.105 0-2 0.895-2 2v0 13c0 1.105 0.895 2 2 2v0h7.2c1.105 0 2-0.895 2-2v0-13c0-1.105-0.895-2-2-2v0h-7.2zM16 27v0c-0.552 0-1-0.448-1-1s0.448-1 1-1v0c0.552 0 1 0.448 1 1s-0.448 1-1 1zM16 28c1.105 0 2-0.895 2-2s-0.895-2-2-2v0c-1.105 0-2 0.895-2 2s0.895 2 2 2v0z',\n  ],\n}\n\nconst contact: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'contact' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e015',\n    // eslint-disable-next-line max-len\n    'M16 13v0c-2.761 0-5-2.239-5-5s2.239-5 5-5v0c2.761 0 5 2.239 5 5s-2.239 5-5 5zM16 14c3.314 0 6-2.686 6-6s-2.686-6-6-6v0c-3.314 0-6 2.686-6 6s2.686 6 6 6v0zM9 15.89h14c1.105 0 2 0.895 2 2v10.443h-18v-10.444c0-1.105 0.895-2 2-2zM26 17.889c0-1.657-1.343-3-3-3v0h-14c-1.657 0-3 1.343-3 3v0 11.444h20v-11.443z',\n  ],\n}\n\nconst branching: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'branching' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e016',\n    // eslint-disable-next-line max-len\n    'M12 4v4h-10v-4h10zM2 3c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM26 4v4h-10v-4h10zM16 3c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM20 14v4h-10v-4h10zM10 13c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10zM30 24v4h-10v-4h10zM20 23c-0.552 0-1 0.448-1 1v0 4c0 0.552 0.448 1 1 1v0h10c0.552 0 1-0.448 1-1v0-4c0-0.552-0.448-1-1-1v0h-10z M15 6.5h-2.5v-1h2.5v1zM28.5 6.5h-2v-1h3v11.5h-8.5v-1h7.5v-9.5zM14.5 19h1v7h3.5v1h-4.5v-8z',\n  ],\n}\n\nconst weather: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'weather' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e017',\n    // eslint-disable-next-line max-len\n    'M9.294 7.97c-2.196-0.082-4.117 1.822-4.194 4.36-0.002 0.053-0.003 0.116-0.003 0.179 0 1.041 0.329 2.005 0.889 2.793l-0.010-0.015-0.812 0.578c-0.668-0.936-1.068-2.103-1.068-3.364 0-0.073 0.001-0.146 0.004-0.219l-0 0.010c0.092-2.998 2.39-5.429 5.225-5.323 1.29 0.048 2.444 0.618 3.304 1.505l-0.715 0.694c-0.696-0.717-1.611-1.162-2.62-1.2z M10 16.1c0-3.415 2.506-6.1 5.5-6.1 2.21 0 4.146 1.454 5.017 3.597l0.205 0.504 0.485-0.247c0.699-0.356 1.475-0.554 2.293-0.554 2.994 0 5.5 2.685 5.5 6.1s-2.506 6.1-5.5 6.1h-14.721l-0.219-0.027c-1.965-0.239-3.56-2.093-3.56-4.423 0-2.504 1.835-4.45 4-4.45h0c0.155 0 0.308 0.010 0.44 0.027l0.561 0.068-0.001-0.595zM9.016 15.6h-0.016c-2.805 0-5 2.486-5 5.45 0 2.603 1.688 4.831 4 5.341v0.109h15.5c3.634 0 6.5-3.225 6.5-7.1s-2.866-7.1-6.5-7.1c-0.799 0-1.564 0.157-2.27 0.445-1.088-2.212-3.23-3.745-5.73-3.745-3.476 0-6.25 2.951-6.484 6.6zM13.928 5.91l-1 1.65-0.856-0.52 1-1.65 0.856 0.52zM7.488 3.89l0.5 2.2-0.976 0.22-0.5-2.2 0.976-0.22zM2.24 8.511l2 1.1-0.482 0.876-2-1.1 0.482-0.876zM2.129 16.863l1.5-1.65 0.74 0.672-1.5 1.65-0.74-0.672z',\n  ],\n}\n\nconst developer: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'developer' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e018',\n    // eslint-disable-next-line max-len\n    'M11.052 12.934c0-0 0-0 0-0 0-0.25-0.202-0.452-0.452-0.452-0.061 0-0.12 0.012-0.173 0.034l0.003-0.001-7.958 3.23c-0.279 0.116-0.471 0.386-0.471 0.701s0.192 0.585 0.466 0.699l0.005 0.002 7.958 3.23c0.050 0.021 0.108 0.033 0.169 0.033 0.25 0 0.452-0.203 0.452-0.452 0-0.189-0.116-0.351-0.28-0.418l-0.003-0.001-7.746-3.092 7.746-3.093c0.168-0.069 0.284-0.23 0.284-0.42 0-0 0-0 0-0v0zM12.319 25.385c-0.017 0.046-0.026 0.098-0.026 0.153 0 0.255 0.207 0.462 0.462 0.462 0.2 0 0.371-0.128 0.435-0.306l0.001-0.003 6.704-19.076c0.017-0.046 0.026-0.098 0.026-0.153 0-0.255-0.207-0.462-0.462-0.462-0.2 0-0.371 0.128-0.435 0.306l-0.001 0.003-6.704 19.076zM21.57 12.515c-0.053-0.024-0.116-0.038-0.181-0.038-0.25 0-0.452 0.202-0.452 0.452 0 0.193 0.122 0.358 0.292 0.423l0.003 0.001 7.746 3.093-7.746 3.092c-0.174 0.066-0.296 0.231-0.296 0.424 0 0.25 0.202 0.452 0.452 0.452 0.066 0 0.128-0.014 0.184-0.039l-0.003 0.001 7.958-3.229c0.279-0.116 0.471-0.386 0.471-0.701s-0.192-0.585-0.466-0.699l-0.005-0.002-7.958-3.23z',\n  ],\n}\n\nconst text: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'text' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e019',\n    // eslint-disable-next-line max-len\n    'M3.5 6.115a1.5 1.5 0 0 0-1.5 1.5v15.87a1.5 1.5 0 0 0 1.5 1.5h7.112l1.588 3.177c.622 1.245 2.459 1.044 2.796-.307l.718-2.87h8.594a1.5 1.5 0 0 0 1.5-1.5V7.115h-.588v-1H5.469v2h18.34v14.87h-8.486a1.5 1.5 0 0 0-1.455 1.137l-.484 1.936-1.122-2.243a1.5 1.5 0 0 0-1.341-.83H4V8.115h1.469v-2H3.5z M5.469 13.698c0-.454.368-.822.823-.822h7.818a.823.823 0 1 1 0 1.646H6.292a.823.823 0 0 1-.823-.824zM5.469 18.636c0-.454.368-.823.823-.823h11.933a.823.823 0 1 1 0 1.646H6.292a.823.823 0 0 1-.823-.823z M29.335 9.584a6.584 6.584 0 1 1-13.168 0 6.584 6.584 0 0 1 13.168 0z M22.751 14.521a4.938 4.938 0 1 0 0-9.875 4.938 4.938 0 0 0 0 9.875zm0 1.646a6.584 6.584 0 1 0 0-13.167 6.584 6.584 0 0 0 0 13.167z M23.74 12.298a.578.578 0 0 1-1.155 0V8.13h-.972a.508.508 0 0 1 0-1.017h3.099a.508.508 0 1 1 0 1.017h-.972v4.167z',\n  ],\n}\n\nconst message: IconDefinition = {\n  prefix: 'fac' as IconPrefix,\n  iconName: 'message' as IconName,\n  icon: [\n    32,\n    32,\n    [],\n    'e020',\n    // eslint-disable-next-line max-len\n    'M28 7h-24c-0.552 0-1 0.448-1 1v16c0 0.552 0.448 1 1 1h24c0.552 0 1-0.448 1-1v-16c0-0.552-0.448-1-1-1zM4 4h24c2.209 0 4 1.791 4 4v16c0 2.209-1.791 4-4 4h-24c-2.209 0-4-1.791-4-4v-16c0-2.209 1.791-4 4-4z M13.722 22.023l-12.698-10.884 1.952-2.278 12.698 10.884c0.187 0.16 0.464 0.16 0.651 0l12.698-10.884 1.952 2.278-12.698 10.884c-1.311 1.124-3.245 1.124-4.556 0z',\n  ],\n}\n\nexport default [\n  audio,\n  enter,\n  recordAudio,\n  settings,\n  upload,\n  ussd,\n  copy,\n  expand,\n  minimize,\n  singleExit,\n  advancedExit,\n  oneExitPerChoice,\n  home,\n  content,\n  contact,\n  branching,\n  weather,\n  developer,\n  text,\n  message,\n]\n","import Vue from 'vue'\n\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {library} from '@fortawesome/fontawesome-svg-core'\n\nimport {\n  faCheck,\n  faChevronDown,\n  faChevronUp,\n  faInfoCircle,\n  faMobileAlt,\n  faSpinner,\n  faExclamationTriangle,\n  faAngleDown,\n  faAngleUp,\n  faTimesCircle as faSolidTimesCircle,\n  faRedo,\n  faUndo,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport {\n  faCheckCircle,\n  faCircle,\n  faClone,\n  faCommentDots,\n  faDotCircle,\n  faEdit,\n  faEnvelope,\n  faTimesCircle,\n  faTrashAlt,\n} from '@fortawesome/free-regular-svg-icons'\n\n/**\n * Enable needed icons\n * Vue way for Fontawesome\n * more details: https://www.npmjs.com/package/@fortawesome/vue-fontawesome#the-icon-property\n *\n */\nimport CustomIcons from './lib/custom-icons/index'\n\nlibrary.add(\n  faCheck,\n  faCheckCircle,\n  faChevronDown,\n  faChevronUp,\n  faCircle,\n  faClone,\n  faCommentDots,\n  faDotCircle,\n  faEdit,\n  faEnvelope,\n  faMobileAlt,\n  faSpinner,\n  faTimesCircle,\n  faSolidTimesCircle,\n  faTrashAlt,\n  faInfoCircle,\n  faExclamationTriangle,\n  faAngleDown,\n  faAngleUp,\n  faRedo,\n  faUndo,\n  ...CustomIcons,\n)\n\nVue.component('FontAwesomeIcon', FontAwesomeIcon)\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeBuilderToolbar.vue?vue&type=style&index=0&id=079bde86&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=style&index=0&id=01cc8d75&prod&lang=scss&scoped=true&\"","var map = {\n\t\"./1.0.0-rc1/IAdvancedSelectOneBlock.json\": \"467b\",\n\t\"./1.0.0-rc1/ICaseBlock.json\": \"24dc\",\n\t\"./1.0.0-rc1/ILocationResponseBlock.json\": \"b194\",\n\t\"./1.0.0-rc1/ILogBlock.json\": \"7074\",\n\t\"./1.0.0-rc1/IMessageBlock.json\": \"aa41\",\n\t\"./1.0.0-rc1/INumericResponseBlock.json\": \"e0ae\",\n\t\"./1.0.0-rc1/IOpenResponseBlock.json\": \"5831\",\n\t\"./1.0.0-rc1/IOutputBlock.json\": \"5663\",\n\t\"./1.0.0-rc1/IPhotoResponseBlock.json\": \"a0ef\",\n\t\"./1.0.0-rc1/IPrintBlock.json\": \"79a9\",\n\t\"./1.0.0-rc1/IReadBlock.json\": \"27e7\",\n\t\"./1.0.0-rc1/IRunFlowBlock.json\": \"bf9a\",\n\t\"./1.0.0-rc1/ISelectManyResponseBlock.json\": \"44db\",\n\t\"./1.0.0-rc1/ISelectOneResponseBlock.json\": \"5149\",\n\t\"./1.0.0-rc1/ISetContactPropertyBlock.json\": \"f37b\",\n\t\"./1.0.0-rc1/ISetGroupMembershipBlock.json\": \"45d5\",\n\t\"./1.0.0-rc2/IAdvancedSelectOneBlock.json\": \"5c3b\",\n\t\"./1.0.0-rc2/ICaseBlock.json\": \"fabe\",\n\t\"./1.0.0-rc2/ILocationResponseBlock.json\": \"24e6\",\n\t\"./1.0.0-rc2/ILogBlock.json\": \"025b\",\n\t\"./1.0.0-rc2/IMessageBlock.json\": \"5402\",\n\t\"./1.0.0-rc2/INumericResponseBlock.json\": \"0999\",\n\t\"./1.0.0-rc2/IOpenResponseBlock.json\": \"6612\",\n\t\"./1.0.0-rc2/IOutputBlock.json\": \"c3a9\",\n\t\"./1.0.0-rc2/IPhotoResponseBlock.json\": \"42f5\",\n\t\"./1.0.0-rc2/IPrintBlock.json\": \"3d43\",\n\t\"./1.0.0-rc2/IReadBlock.json\": \"56d3\",\n\t\"./1.0.0-rc2/IRunFlowBlock.json\": \"4377\",\n\t\"./1.0.0-rc2/ISelectManyResponseBlock.json\": \"468a\",\n\t\"./1.0.0-rc2/ISelectOneResponseBlock.json\": \"897a\",\n\t\"./1.0.0-rc2/ISetContactPropertyBlock.json\": \"9744\",\n\t\"./1.0.0-rc2/ISetGroupMembershipBlock.json\": \"f2ae\",\n\t\"./1.0.0-rc3/IAdvancedSelectOneBlock.json\": \"ebe9\",\n\t\"./1.0.0-rc3/ICaseBlock.json\": \"df71\",\n\t\"./1.0.0-rc3/ILocationResponseBlock.json\": \"4b5a\",\n\t\"./1.0.0-rc3/ILogBlock.json\": \"5c92\",\n\t\"./1.0.0-rc3/IMessageBlock.json\": \"9f75\",\n\t\"./1.0.0-rc3/INumericResponseBlock.json\": \"ca51\",\n\t\"./1.0.0-rc3/IOpenResponseBlock.json\": \"284f\",\n\t\"./1.0.0-rc3/IOutputBlock.json\": \"bf9b\",\n\t\"./1.0.0-rc3/IPhotoResponseBlock.json\": \"3da6\",\n\t\"./1.0.0-rc3/IPrintBlock.json\": \"b781\",\n\t\"./1.0.0-rc3/IReadBlock.json\": \"5bbb\",\n\t\"./1.0.0-rc3/IRunFlowBlock.json\": \"84e0\",\n\t\"./1.0.0-rc3/ISelectManyResponseBlock.json\": \"347b\",\n\t\"./1.0.0-rc3/ISelectOneResponseBlock.json\": \"8832\",\n\t\"./1.0.0-rc3/ISetContactPropertyBlock.json\": \"9b07\",\n\t\"./1.0.0-rc3/ISetGroupMembershipBlock.json\": \"e4a3\",\n\t\"./1.0.0-rc4/IAdvancedSelectOneBlock.json\": \"171d\",\n\t\"./1.0.0-rc4/ICaseBlock.json\": \"35a7\",\n\t\"./1.0.0-rc4/ILocationResponseBlock.json\": \"c6df\",\n\t\"./1.0.0-rc4/ILogBlock.json\": \"0468\",\n\t\"./1.0.0-rc4/IMessageBlock.json\": \"6faa\",\n\t\"./1.0.0-rc4/INumericResponseBlock.json\": \"d6b7\",\n\t\"./1.0.0-rc4/IOpenResponseBlock.json\": \"6897\",\n\t\"./1.0.0-rc4/IOutputBlock.json\": \"ee9c\",\n\t\"./1.0.0-rc4/IPhotoResponseBlock.json\": \"fdc7\",\n\t\"./1.0.0-rc4/IPrintBlock.json\": \"3897\",\n\t\"./1.0.0-rc4/IReadBlock.json\": \"74af\",\n\t\"./1.0.0-rc4/IRunFlowBlock.json\": \"a629\",\n\t\"./1.0.0-rc4/ISelectManyResponseBlock.json\": \"bcf6\",\n\t\"./1.0.0-rc4/ISelectOneResponseBlock.json\": \"fea9\",\n\t\"./1.0.0-rc4/ISetContactPropertyBlock.json\": \"7464\",\n\t\"./1.0.0-rc4/ISetGroupMembershipBlock.json\": \"f47e\",\n\t\"./current/IAdvancedSelectOneBlock.json\": \"9e25\",\n\t\"./current/ICaseBlock.json\": \"0e0e\",\n\t\"./current/ILocationResponseBlock.json\": \"24e9\",\n\t\"./current/ILogBlock.json\": \"8b9f\",\n\t\"./current/IMessageBlock.json\": \"1010\",\n\t\"./current/INumericResponseBlock.json\": \"5cb6\",\n\t\"./current/IOpenResponseBlock.json\": \"30f6\",\n\t\"./current/IOutputBlock.json\": \"858c\",\n\t\"./current/IPhotoResponseBlock.json\": \"768e\",\n\t\"./current/IPrintBlock.json\": \"7cfe\",\n\t\"./current/IReadBlock.json\": \"65d3\",\n\t\"./current/IRunFlowBlock.json\": \"2ced\",\n\t\"./current/ISelectManyResponseBlock.json\": \"d713\",\n\t\"./current/ISelectOneResponseBlock.json\": \"d76c\",\n\t\"./current/ISetContactPropertyBlock.json\": \"41c5\",\n\t\"./current/ISetGroupMembershipBlock.json\": \"44b3\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"0de0\";","import Vue from 'vue'\nimport {toPath} from 'lodash'\nimport {IContext, findBlockOnActiveFlowWith, IBlock, IChoice, findFlowWith, IFlow, IBlockExit, findBlockExitWith} from '@floip/flow-runner'\n\nexport type ConfigFieldType = object | string | number | boolean | undefined | null\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction makePath(block: any, rawPath: string): [object, string] {\n  const path = toPath(rawPath)\n\n  let pointer = block\n  while (path.length !== 1) {\n    const name = path.shift()!\n\n    if (typeof pointer[name] === 'undefined') {\n      Vue.set(pointer, name, {})\n    }\n    pointer = pointer[name]\n  }\n\n  return [pointer, path.shift()!]\n}\n\nexport function updateBlockValueByPath(\n  state: unknown,\n  blockId: IBlock['uuid'],\n  path: string,\n  value: ConfigFieldType,\n): void {\n  const base = findBlockOnActiveFlowWith(blockId, state as IContext)\n  const [pointer, key] = makePath(base, path)\n  Vue.set(pointer, key, value)\n}\n\nexport function updateBlockExitValueByPath(\n  state: unknown,\n  blockId: IBlock['uuid'],\n  exitId: IBlockExit['uuid'],\n  path: string,\n  value: ConfigFieldType,\n): void {\n  const block = findBlockOnActiveFlowWith(blockId, state as IContext)\n  const base = findBlockExitWith(exitId, block)\n  const [pointer, key] = makePath(base, path)\n  Vue.set(pointer, key, value)\n}\n\nexport function removeBlockExitValueByPath(\n  state: unknown,\n  blockId: IBlock['uuid'],\n  exitId: IBlockExit['uuid'],\n  path: string,\n): void {\n  const block = findBlockOnActiveFlowWith(blockId, state as IContext)\n  const base = findBlockExitWith(exitId, block)\n  const [pointer, key] = makePath(base, path)\n  Vue.delete(pointer, key)\n}\n\nexport function deleteChoiceValueByPath(\n  state: unknown,\n  choice: IChoice,\n  path: string,\n): void {\n  const [pointer, key] = makePath(choice, path)\n  Vue.delete(pointer, key)\n}\n\nexport function removeBlockValueByPath(\n  state: unknown,\n  blockId: IBlock['uuid'],\n  path: string,\n): void {\n  const base = findBlockOnActiveFlowWith(blockId, state as IContext)\n  const [pointer, key] = makePath(base, path)\n\n  Vue.delete(pointer, key)\n}\n\nexport function updateFlowValueByPath(\n  state: unknown,\n  flowId: IFlow['uuid'],\n  path: string,\n  value: ConfigFieldType,\n): void {\n  const base = findFlowWith(flowId, state as IContext)\n  const [pointer, key] = makePath(base, path)\n  Vue.set(pointer, key, value)\n}\n\nexport function removeFlowValueByPath(\n  state: unknown,\n  flowId: IFlow['uuid'],\n  path: string,\n): void {\n  const base = findFlowWith(flowId, state as IContext)\n  const [pointer, key] = makePath(base, path)\n\n  Vue.delete(pointer, key)\n}\n","/**\n * @license MIT\n */\n(function (window, document, undefined) {\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @name\n   * @param [opts]\n   * @param {number} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {string} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Library version\n     * @type {string}\n     */\n    this.version = '2.0.0-beta2'\n\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support = (\n      typeof File !== 'undefined'\n      && typeof Blob !== 'undefined'\n      && typeof FileList !== 'undefined'\n      && (\n        !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice\n        || false\n      ) // slicing files support\n    )\n\n    if (!this.support) {\n      return\n    }\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = []\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      method: 'multipart',\n      prioritizeFirstAndLastChunk: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 415, 500, 501],\n    }\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {}\n\n    /**\n     * List of events:\n     *  even indexes stand for event names\n     *  odd indexes stands for event callbacks\n     * @type {Array}\n     */\n    this.events = []\n\n    const $ = this\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      event.stopPropagation()\n      event.preventDefault()\n      const dataTransfer = event.dataTransfer\n      if (dataTransfer.items && dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event)\n      } else {\n        $.addFiles(dataTransfer.files, event)\n      }\n    }\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault()\n    }\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {})\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRetry(file), fileError(file, message), complete(),\n     * progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on(event, callback) {\n      this.events.push(event.toLowerCase(), callback)\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire(event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments)\n      // Find event listeners, and support pseudo-event `catchAll`\n      event = event.toLowerCase()\n      let preventDefault = false\n      for (let i = 0; i <= this.events.length; i += 2) {\n        if (this.events[i] === event) {\n          preventDefault = this.events[i + 1].apply(this, args.slice(1)) === false || preventDefault\n        }\n        if (this.events[i] === 'catchall') {\n          preventDefault = this.events[i + 1].apply(null, args) === false || preventDefault\n        }\n      }\n      return !preventDefault\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer(event) {\n      const $ = this\n      let queue = event.dataTransfer.items.length\n      const files = []\n      each(event.dataTransfer.items, (item) => {\n        const entry = item.webkitGetAsEntry()\n        if (!entry) {\n          return\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath)\n        } else {\n          entry.createReader()\n            .readEntries(readSuccess, readError)\n        }\n      })\n\n      function readSuccess(entries) {\n        queue += entries.length\n        each(entries, (entry) => {\n          if (entry.isFile) {\n            const fullPath = entry.fullPath\n            entry.file((file) => {\n              fileReadSuccess(file, fullPath)\n            }, readError)\n          } else if (entry.isDirectory) {\n            entry.createReader()\n              .readEntries(readSuccess, readError)\n          }\n        })\n        decrement()\n      }\n\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1)\n        files.push(file)\n        decrement()\n      }\n\n      function readError(fileError) {\n        throw fileError\n      }\n\n      function decrement() {\n        if (--queue == 0) {\n          $.addFiles(files, event)\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier(file) {\n      const custom = this.opts.generateUniqueIdentifier\n      if (typeof custom === 'function') {\n        return custom(file)\n      }\n      // Some confusion in different versions of Firefox\n      const relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name\n      return `${file.size}-${relativePath.replace(/[^0-9a-zA-Z_-]/img, '')}`\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk(preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      let found = false\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, (file) => {\n          if (!file.paused && file.chunks.length\n            && file.chunks[0].status() === 'pending'\n            && file.chunks[0].preprocessState === 0) {\n            file.chunks[0].send()\n            found = true\n            return false\n          }\n          if (!file.paused && file.chunks.length > 1\n            && file.chunks[file.chunks.length - 1].status() === 'pending'\n            && file.chunks[0].preprocessState === 0) {\n            file.chunks[file.chunks.length - 1].send()\n            found = true\n            return false\n          }\n        })\n        if (found) {\n          return found\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, (file) => {\n        if (!file.paused) {\n          each(file.chunks, (chunk) => {\n            if (chunk.status() === 'pending' && chunk.preprocessState === 0) {\n              chunk.send()\n              found = true\n              return false\n            }\n          })\n        }\n        if (found) {\n          return false\n        }\n      })\n      if (found) {\n        return true\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      let outstanding = false\n      each(this.files, (file) => {\n        if (!file.isComplete()) {\n          outstanding = true\n          return false\n        }\n      })\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        this.fire('complete')\n      }\n      return false\n    },\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * be selected (Chrome only).\n     */\n    assignBrowse(domNodes, isDirectory, singleFile) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes]\n      }\n\n      // We will create an <input> and overlay it on the domNode\n      // (crappy, but since HTML5 doesn't have a cross-browser.browse() method\n      // we haven't a choice. FF4+ allows click() for this though:\n      // https://developer.mozilla.org/en/using_files_from_web_applications)\n      each(domNodes, function (domNode) {\n        let input\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n          input = domNode\n        } else {\n          input = document.createElement('input')\n          input.setAttribute('type', 'file')\n          // input fill entire dom node\n          extend(domNode.style, {\n            // eslint-disable-next-line line-comment-position\n            display: 'block', // EDITED BY SEAN, from inline-block to block, since we're using this in a Bootstrap button dropdown\n            position: 'relative',\n            overflow: 'hidden',\n            verticalAlign: 'top',\n          })\n          // in Opera only 'browse' button\n          // is clickable and it is located at\n          // the right side of the input\n          extend(input.style, {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            fontFamily: 'Arial',\n            // 4 persons reported this, the max values that worked for them were 243, 236, 236, 118\n            fontSize: '118px',\n            margin: 0,\n            padding: 0,\n            opacity: 0,\n            cursor: 'pointer',\n          })\n          domNode.appendChild(input)\n        }\n        if (!this.opts.singleFile && !singleFile) {\n          input.setAttribute('multiple', 'multiple')\n        }\n        if (isDirectory) {\n          input.setAttribute('webkitdirectory', 'webkitdirectory')\n        }\n        // When new files are added, simply append them to the overall list\n        const $ = this\n        input.addEventListener('change', (e) => {\n          $.addFiles(e.target.files, e)\n          e.target.value = ''\n        }, false)\n      }, this)\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes]\n      }\n      each(domNodes, function (domNode) {\n        domNode.addEventListener('dragover', this.preventEvent, false)\n        domNode.addEventListener('dragenter', this.preventEvent, false)\n        domNode.addEventListener('drop', this.onDrop, false)\n      }, this)\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes]\n      }\n      each(domNodes, function (domNode) {\n        domNode.removeEventListener('dragover', this.preventEvent)\n        domNode.removeEventListener('dragenter', this.preventEvent)\n        domNode.removeEventListener('drop', this.onDrop)\n      }, this)\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false\n      each(this.files, (file) => {\n        if (file.isUploading()) {\n          uploading = true\n          return false\n        }\n      })\n      return uploading\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload() {\n      // Make sure we don't start too many uploads at once\n      if (this.isUploading()) {\n        return\n      }\n      // Kick off the queue\n      this.fire('uploadStart')\n      let started = false\n      for (let num = 1; num <= this.opts.simultaneousUploads; num++) {\n        started = this.uploadNextChunk(true) || started\n      }\n      if (!started) {\n        this.fire('complete')\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume() {\n      each(this.files, (file) => {\n        file.resume()\n      })\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause() {\n      each(this.files, (file) => {\n        file.pause()\n      })\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel() {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel()\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      let totalDone = 0\n      let totalSize = 0\n      // Resume all chunks currently being uploaded\n      each(this.files, (file) => {\n        totalDone += file.progress() * file.size\n        totalSize += file.size\n      })\n      return totalSize > 0 ? totalDone / totalSize : 0\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile(file, event) {\n      this.addFiles([file], event)\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles(fileList, event) {\n      const files = []\n      each(fileList, function (file) {\n        // Directories have size `0` and name `.`\n        // Ignore already added files\n        if (!(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.'))\n          && !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file))) {\n          const f = new FlowFile(this, file)\n          if (this.fire('fileAdded', f, event)) {\n            files.push(f)\n          }\n        }\n      }, this)\n      if (this.fire('filesAdded', files, event)) {\n        each(files, function (file) {\n          if (this.opts.singleFile && this.files.length > 0) {\n            this.removeFile(this.files[0])\n          }\n          this.files.push(file)\n        }, this)\n      }\n      this.fire('filesSubmitted', files, event)\n    },\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile(file) {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1)\n          file.abort()\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier(uniqueIdentifier) {\n      let ret = false\n      each(this.files, (file) => {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file\n        }\n      })\n      return ret\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize() {\n      let totalSize = 0\n      each(this.files, (file) => {\n        totalSize += file.size\n      })\n      return totalSize\n    },\n  }\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @constructor\n   */\n  function FlowFile(flowObj, file) {\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file)\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = []\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now()\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0\n\n    this.bootstrap()\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed() {\n      const smoothingFactor = this.flowObj.opts.speedSmoothingFactor\n      const timeSpan = Date.now() - this._lastProgressCallback\n      const uploaded = this.sizeUploaded()\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0)\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed\n      this._prevUploadedSize = uploaded\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} message\n     */\n    chunkEvent(event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback\n            < this.flowObj.opts.progressCallbacksInterval) {\n            break\n          }\n          this.measureSpeed()\n          this.flowObj.fire('fileProgress', this)\n          this.flowObj.fire('progress')\n          this._lastProgressCallback = Date.now()\n          break\n        case 'error':\n          this.error = true\n          this.abort(true)\n          this.flowObj.fire('fileError', this, message)\n          this.flowObj.fire('error', message, this)\n          break\n        case 'success':\n          if (this.error) {\n            return\n          }\n          this.flowObj.fire('fileProgress', this)\n          this.flowObj.fire('progress')\n          if (this.isComplete()) {\n            this.flowObj.fire('fileSuccess', this, message)\n          }\n          break\n        case 'retry':\n          this.flowObj.fire('fileRetry', this)\n          break\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause() {\n      this.paused = true\n      this.abort()\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume() {\n      this.paused = false\n      this.flowObj.upload()\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort(reset) {\n      this.currentSpeed = 0\n      this.averageSpeed = 0\n      const chunks = this.chunks\n      if (reset) {\n        this.chunks = []\n      }\n      each(chunks, function (c) {\n        if (c.status() === 'uploading') {\n          c.abort()\n          this.flowObj.uploadNextChunk()\n        }\n      }, this)\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel() {\n      this.flowObj.removeFile(this)\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry() {\n      this.bootstrap()\n      this.flowObj.upload()\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap() {\n      this.abort(true)\n      this.error = false\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0\n      const round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor\n      const chunks = Math.max(\n        round(this.file.size / this.flowObj.opts.chunkSize), 1,\n      )\n      for (let offset = 0; offset < chunks; offset++) {\n        this.chunks.push(\n          new FlowChunk(this.flowObj, this, offset),\n        )\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress() {\n      if (this.error) {\n        return 1\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress())\n        return this._prevProgress\n      }\n      // Sum up progress across everything\n      let bytesLoaded = 0\n      each(this.chunks, (c) => {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte)\n      })\n      const percent = bytesLoaded / this.size\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.999 ? 1 : percent)\n      return this._prevProgress\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false\n      each(this.chunks, (chunk) => {\n        if (chunk.status() === 'uploading') {\n          uploading = true\n          return false\n        }\n      })\n      return uploading\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete() {\n      let outstanding = false\n      each(this.chunks, (chunk) => {\n        const status = chunk.status()\n        if (status === 'pending' || status === 'uploading' || chunk.preprocessState === 1) {\n          outstanding = true\n          return false\n        }\n      })\n      return !outstanding\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0\n      each(this.chunks, (chunk) => {\n        // can't sum only chunk.loaded values, because it is bigger than chunk size\n        if (chunk.status() === 'success') {\n          size += chunk.endByte - chunk.startByte\n        } else {\n          size += chunk.loaded\n        }\n      })\n      return size\n    },\n\n    /**\n     * Time remaining in seconds\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      if (!this.averageSpeed) {\n        return 0\n      }\n      return Math.floor(Math.max(this.size - this.sizeUploaded(), 0) / this.averageSpeed)\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType() {\n      return this.file.type && this.file.type.split('/')[1]\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension() {\n      return this.name.substr((~-this.name.lastIndexOf('.') >>> 0) + 2)\n        .toLowerCase()\n    },\n  }\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.fileObjSize = fileObj.size\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    const chunkSize = this.flowObj.opts.chunkSize\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * chunkSize\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = Math.min(this.fileObjSize, (this.offset + 1) * chunkSize)\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null\n\n    if (this.fileObjSize - this.endByte < chunkSize\n      && !this.flowObj.opts.forceChunkSize) {\n      // The last chunk will be bigger than the chunk size,\n      // but less than 2*chunkSize\n      this.endByte = this.fileObjSize\n    }\n\n    const $ = this\n\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function (event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded\n        $.total = event.total\n      }\n      $.fileObj.chunkEvent('progress')\n    }\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function (event) {\n      const status = $.status()\n      if (status === 'success') {\n        $.tested = true\n        $.fileObj.chunkEvent(status, $.message())\n        $.flowObj.uploadNextChunk()\n      } else if (!$.fileObj.paused) { // Error might be caused by file pause method\n        $.tested = true\n        $.send()\n      }\n    }\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function (event) {\n      const status = $.status()\n      if (status === 'success' || status === 'error') {\n        $.fileObj.chunkEvent(status, $.message())\n        $.flowObj.uploadNextChunk()\n      } else {\n        $.fileObj.chunkEvent('retry', $.message())\n        $.pendingRetry = true\n        $.abort()\n        $.retries++\n        const retryInterval = $.flowObj.opts.chunkRetryInterval\n        if (retryInterval !== null) {\n          setTimeout(() => {\n            $.send()\n          }, retryInterval)\n        } else {\n          $.send()\n        }\n      }\n    }\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams() {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.flowObj.opts.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObjSize,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length,\n      }\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget(params) {\n      let target = this.flowObj.opts.target\n      if (target.indexOf('?') < 0) {\n        target += '?'\n      } else {\n        target += '&'\n      }\n      return target + params.join('&')\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test() {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest()\n      this.xhr.addEventListener('load', this.testHandler, false)\n      this.xhr.addEventListener('error', this.testHandler, false)\n      const data = this.prepareXhrRequest('GET')\n      this.xhr.send(data)\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished() {\n      this.preprocessState = 2\n      this.send()\n    },\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send() {\n      const preprocess = this.flowObj.opts.preprocess\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            preprocess(this)\n            this.preprocessState = 1\n            return\n          case 1:\n            return\n          case 2:\n            break\n        }\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test()\n        return\n      }\n\n      this.loaded = 0\n      this.total = 0\n      this.pendingRetry = false\n\n      const func = (this.fileObj.file.slice ? 'slice'\n        : (this.fileObj.file.mozSlice ? 'mozSlice'\n          : (this.fileObj.file.webkitSlice ? 'webkitSlice'\n            : 'slice')))\n      const bytes = this.fileObj.file[func](this.startByte, this.endByte)\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest()\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false)\n      this.xhr.addEventListener('load', this.doneHandler, false)\n      this.xhr.addEventListener('error', this.doneHandler, false)\n\n      const data = this.prepareXhrRequest('POST', this.flowObj.opts.method, bytes)\n\n      this.xhr.send(data)\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort() {\n      // Abort and reset\n      const xhr = this.xhr\n      this.xhr = null\n      if (xhr) {\n        xhr.abort()\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status() {\n      if (this.pendingRetry) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading'\n      } else if (!this.xhr) {\n        return 'pending'\n      } else if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading'\n      } else if (this.xhr.status == 200) {\n          // HTTP 200, perfect\n          return 'success'\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1\n          || this.retries >= this.flowObj.opts.maxChunkRetries) {\n          // HTTP 415/500/501, permanent error\n          return 'error'\n        } else {\n          // this should never happen, but we'll reset and queue a retry\n          // a likely case for this would be 503 service unavailable\n          this.abort()\n          return 'pending'\n        }\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message() {\n      return this.xhr ? this.xhr.responseText : ''\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      if (this.pendingRetry) {\n        return 0\n      }\n      const s = this.status()\n      if (s === 'success' || s === 'error') {\n        return 1\n      } else if (s === 'pending') {\n        return 0\n      } else {\n        return this.total > 0 ? this.loaded / this.total : 0\n      }\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest(method, paramsMethod, blob) {\n      // Add data from the query options\n      let query = this.flowObj.opts.query\n      if (typeof query === 'function') {\n        query = query(this.fileObj, this)\n      }\n      query = extend(this.getParams(), query)\n\n      let target = this.flowObj.opts.target\n      let data = null\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        const params = []\n        each(query, (v, k) => {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='))\n        })\n        target = this.getTarget(params)\n        data = blob || null\n      } else {\n        // Add data from the query options\n        data = new FormData()\n        each(query, (v, k) => {\n          data.append(k, v)\n        })\n        data.append(this.flowObj.opts.fileParameterName, blob)\n      }\n\n      this.xhr.open(method, target)\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials\n\n      // Add data from header options\n      each(this.flowObj.opts.headers, function (v, k) {\n        this.xhr.setRequestHeader(k, v)\n      }, this)\n\n      return data\n    },\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, (obj) => {\n      if (obj !== dst) {\n        each(obj, (value, key) => {\n          dst[key] = value\n        })\n      }\n    })\n    return dst\n  }\n\n  Flow.extend = extend\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return\n    }\n    let key\n    // Is Array?\n    if (typeof (obj.length) !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return\n        }\n      }\n    }\n  }\n\n  Flow.each = each\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk\n\n  window.Flow = Flow\n}(window, document))\n\n// Node.js-style export for Node and Component\nif (typeof module !== 'undefined') {\n  module.exports = window.Flow\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"smart-devices-photo-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",null,{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock} from '@floip/flow-runner'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'SmartDevices.PhotoResponse'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankMessageResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankMessageResource.uuid,\n    }\n\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst SmartDevices_PhotoResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default SmartDevices_PhotoResponseBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n// import IPhotoResponseBlock from '@floip/flow-runner/src/model/block/IPhotoResponseBlock' // TODO: to be created in flow-runner\nimport {IBlock, IFlow, IResource} from '@floip/flow-runner'\nimport PhotoStore, {BLOCK_TYPE} from '@/store/flow/block-types/SmartDevices_PhotoResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({})\nexport class SmartDevices_PhotoResponseBlock extends mixins(Lang) {\n  // @Prop()readonly block!: IPhotoResponseBlock\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n}\n\nexport default SmartDevices_PhotoResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, PhotoStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartDevices_PhotoResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartDevices_PhotoResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SmartDevices_PhotoResponseBlock.vue?vue&type=template&id=72e17ded&\"\nimport script from \"./SmartDevices_PhotoResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./SmartDevices_PhotoResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-primitive-numeric-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('minimum-numeric-editor',{attrs:{\"block\":_vm.block},on:{\"commitValidationMinimumChange\":_vm.updateValidationMin}}),_c('maximum-numeric-editor',{attrs:{\"block\":_vm.block},on:{\"commitValidationMaximumChange\":_vm.updateValidationMax}}),_c('max-digit-editor',{attrs:{\"block\":_vm.block,\"has-ivr\":_vm.hasVoiceMode},on:{\"commitMaxDigitsChange\":_vm.updateMaxDigits}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock, INumericBlockConfig} from '@floip/flow-runner'\nimport {INumericResponseBlock} from '@floip/flow-runner/src/model/block/INumericResponseBlock'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\nimport {ValidationResults} from '@/lib/validations'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.NumericResponse'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async setValidationMinimum({commit}, {blockId, value}: { blockId: IBlock['uuid'], value: number | string }) {\n    const valueAsNumberOrUnset = value === '' ? undefined : value\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'validation_minimum',\n      value: valueAsNumberOrUnset,\n    }, {root: true})\n    return valueAsNumberOrUnset\n  },\n\n  async setValidationMaximum({commit}, {blockId, value}: { blockId: IBlock['uuid'], value: number | string }) {\n    const valueAsNumberOrUnset = value === '' ? undefined : value\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'validation_maximum',\n      value: valueAsNumberOrUnset,\n    }, {root: true})\n    return valueAsNumberOrUnset\n  },\n\n  async setMaxDigits({commit}, {blockId, value}: { blockId: IBlock['uuid'], value: number | string }) {\n    const valueAsNumberOrUnset = value === '' ? undefined : value\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'ivr',\n      value: {\n        max_digits: valueAsNumberOrUnset,\n      },\n    }, {root: true})\n    return valueAsNumberOrUnset\n  },\n\n  async createWith({getters, dispatch, commit}, {props}: { props: { uuid: string } & Partial<INumericResponseBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankResource.uuid,\n      validation_minimum: undefined,\n      validation_maximum: undefined,\n    }\n\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n\n  async validateWithProgrammaticLogic(\n    {rootGetters},\n    {block}: {block: IBlock},\n  ): Promise<ValidationResults> {\n    console.debug('floip/NumericResponse/validateWithProgrammaticLogic()', `${block.type}`)\n    const hasVoiceMode = rootGetters['flow/hasVoiceMode']\n    const errors: ValidationResults = []\n\n    const [maxDigits, hasMaxDigits] = normalizeNumericConfigProperty((block.config as INumericBlockConfig)?.ivr?.max_digits)\n    const [validationMax, hasMax] = normalizeNumericConfigProperty((block.config as INumericBlockConfig)?.validation_maximum)\n    const [validationMin, hasMin] = normalizeNumericConfigProperty((block.config as INumericBlockConfig)?.validation_minimum)\n\n    const hasMinAndMax = hasMax && hasMin\n    const isMinGreaterThanMax = hasMinAndMax && validationMin > validationMax\n    const hasMinOnly = hasMin && !hasMax\n\n    const CONFIG_VALIDATION_MINIMUM = '/config/validation_minimum'\n    const CONFIG_VALIDATION_MAXIMUM = '/config/validation_maximum'\n    const CONFIG_MAX_DIGITS = '/config/ivr/max_digits'\n\n    // validationMax must be greater than validationMin\n    if (isMinGreaterThanMax || hasMinOnly) {\n      errors.push([CONFIG_VALIDATION_MINIMUM, 'numeric-block-min-value-must-be-lower-than-max-value'])\n      errors.push([CONFIG_VALIDATION_MAXIMUM, 'numeric-block-max-value-must-be-greater-than-min-value'])\n    }\n\n    // IVR only checks\n    if (hasVoiceMode === true) {\n      if (!hasMax && !hasMaxDigits) {\n        // Either maxDigits or validationMax must be defined\n\n        errors.push([CONFIG_MAX_DIGITS, 'numeric-block-missing-max-value-and-max-digits'])\n        errors.push([CONFIG_VALIDATION_MAXIMUM, 'numeric-block-missing-max-value-and-max-digits'])\n      }\n\n      // Both validationMin and validationMax must have no more digits than allowed\n      if (hasMaxDigits) {\n        const maxValue = 10 ** maxDigits - 1\n\n        if (hasMin && validationMin > maxValue) {\n          errors.push([CONFIG_MAX_DIGITS, 'numeric-block-min-value-must-be-lower-than-implied-max-digits'])\n          errors.push([CONFIG_VALIDATION_MINIMUM, 'numeric-block-min-value-must-be-lower-than-implied-max-digits'])\n        }\n        if (hasMax && validationMax > maxValue) {\n          errors.push([CONFIG_MAX_DIGITS, 'numeric-block-max-value-must-be-lower-than-implied-max-digits'])\n          errors.push([CONFIG_VALIDATION_MAXIMUM, 'numeric-block-max-value-must-be-lower-than-implied-max-digits'])\n        }\n      }\n    }\n\n    return errors\n  },\n}\n\nexport function normalizeNumericConfigProperty(value?: number | string | null): [number, boolean] {\n  let normalizedValue = 0\n  let hasValue = false\n\n  if (value !== undefined && value !== null) {\n    hasValue = true\n    normalizedValue = typeof value === 'number' ? value : parseInt(value, 10)\n  }\n\n  return [\n    normalizedValue,\n    hasValue,\n  ]\n}\n\nconst MobilePrimitives_NumericResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default MobilePrimitives_NumericResponseBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n\nimport {IBlock, IBlockExit, IFlow, IResource} from '@floip/flow-runner'\nimport {INumericResponseBlock} from '@floip/flow-runner/src/model/block/INumericResponseBlock'\n\nimport NumericStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_NumericResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class MobilePrimitives_NumericResponseBlock extends mixins(Lang) {\n  @Prop() readonly block!: INumericResponseBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n\n  updateValidationMin(value: number | string): void {\n    this.setValidationMinimum({blockId: this.block.uuid, value})\n  }\n\n  updateValidationMax(value: number | string): void {\n    this.setValidationMaximum({blockId: this.block.uuid, value})\n  }\n\n  updateMaxDigits(value: number | string): void {\n    this.setMaxDigits({blockId: this.block.uuid, value})\n  }\n\n  @flowVuexNamespace.Getter hasVoiceMode!: boolean\n\n  @blockVuexNamespace.Action setValidationMinimum!: ({\n    blockId,\n    value,\n  }: { blockId: IBlock['uuid'], value: number | string }) => Promise<string>\n\n  @blockVuexNamespace.Action setValidationMaximum!: ({\n    blockId,\n    value,\n  }: { blockId: IBlock['uuid'], value: number | string }) => Promise<string>\n\n  @blockVuexNamespace.Action setMaxDigits!: ({blockId, value}: { blockId: IBlock['uuid'], value: number | string }) => Promise<string>\n\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default MobilePrimitives_NumericResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, NumericStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_NumericResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_NumericResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_NumericResponseBlock.vue?vue&type=template&id=7bd6e104&\"\nimport script from \"./MobilePrimitives_NumericResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_NumericResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=style&index=0&id=ab24e5b0&prod&lang=css&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditorCell.vue?vue&type=style&index=0&id=74b1a524&prod&scoped=true&lang=css&\"","var map = {\n\t\"./1.0.0-rc1/flowSpecJsonSchema.json\": \"fc41\",\n\t\"./1.0.0-rc2/flowSpecJsonSchema.json\": \"5a2e\",\n\t\"./1.0.0-rc3/flowSpecJsonSchema.json\": \"29d3\",\n\t\"./1.0.0-rc4/flowSpecJsonSchema.json\": \"9b2d\",\n\t\"./current/flowSpecJsonSchema.json\": \"0eaa\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"34c1\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=style&index=0&id=169db367&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"base-block\"},[_c('div',{staticClass:\"block-editor-header remove-margin-left-right\"},[_c('h3',{staticClass:\"put-back-margin-left-right\"},[_vm._v(\" \"+_vm._s(_vm.trans(`flow-builder.${_vm.block.type}`))+\" \")])]),_vm._t(\"description\"),_c('fieldset',{attrs:{\"disabled\":!_vm.isEditable}},[_c('label-editor',{attrs:{\"block\":_vm.block},on:{\"gearClicked\":function($event){_vm.showSemanticLabel = !_vm.showSemanticLabel}}}),(_vm.showSemanticLabel)?_c('semantic-label-editor',{attrs:{\"block\":_vm.block}}):_vm._e(),_c('name-editor',{attrs:{\"block\":_vm.block}}),_vm._t(\"resource-editors\"),_c('hr'),_vm._t(\"extras\"),_vm._t(\"vendor-extras\"),_vm._t(\"branching\",function(){return [(_vm.usesDefaultBranchingEditor)?_c('block-output-branching-config',{attrs:{\"block\":_vm.block,\"has-exit-per-choice\":false},on:{\"branchingTypeChangedToUnified\":_vm.handleBranchingTypeChangedToUnified}}):_vm._e()]}),_c('categorization',{attrs:{\"block\":_vm.block}}),_vm._t(\"contact-props\",function(){return [(_vm.usesDefaultContactPropsEditor)?_c('generic-contact-property-editor',{attrs:{\"block\":_vm.block}}):_vm._e()]}),_vm._t(\"vendor\"),_c('hr'),_c('first-block-editor-button',{attrs:{\"block-id\":_vm.block.uuid}})],2),_c('block-id',{attrs:{\"block\":_vm.block}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class BaseBlock extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n  @Prop({default: false}) showSemanticLabel!: boolean\n\n  handleBranchingTypeChangedToUnified(): void {\n    this.$emit('handleBranchingTypeChangedToUnified')\n  }\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default BaseBlock\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseBlock.vue?vue&type=template&id=2ad7b924&\"\nimport script from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {ActionContext, GetterTree, Module, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock, IBlockExit} from '@floip/flow-runner'\nimport {defaultsDeep} from 'lodash'\nimport {IValidationStatus, validateBlockWithJsonSchema} from '@/store/validation'\nimport {ValidationResults} from '@/lib/validations'\nimport {ErrorObject} from 'ajv'\nimport Lang from '@/lib/filters/lang'\n\nexport interface IEmptyState {}\n\nexport const getters: GetterTree<IEmptyState, IRootState> = {\n  /**\n   * Compute the primary exit test.\n   * We can override this from block type store, or from the consumer side.\n   *\n   * We're sending the blockProps because we might need them for customization\n   */\n  primaryExitTest: () => (_blockProps: Partial<IBlock>) => undefined,\n}\n\nexport const mutations: MutationTree<IEmptyState> = {}\n\n// noinspection JSUnusedLocalSymbols\nexport const actions = {\n  async createWith(\n    {getters, dispatch}: ActionContext<IEmptyState, IRootState>,\n    {props}: { props: { uuid: string } & Partial<IBlock> },\n  ): Promise<IBlock> {\n    const vendorMetadata = {\n      vendor_metadata: await dispatch('initiateExtraVendorConfig'),\n    }\n\n    const defaultProps = {\n      // Default props if not provided yet\n      type: '',\n      name: '',\n      label: '',\n      semantic_label: '',\n      config: {},\n      tags: [],\n      vendor_metadata: {\n        floip: {\n          ui_metadata: {\n            branching_type: 'UNIFIED',\n            should_auto_update_name: true,\n          },\n        },\n      },\n    }\n\n    const mainProps = defaultsDeep({}, vendorMetadata, props, defaultProps)\n\n    // Define exits after we have the whole final props, this is important for dynamic test value\n    if (props?.exits === undefined) {\n      mainProps.exits = await Promise.all(\n        (await dispatch('flow/block_generateExitsBasedOnUiConfig', {\n          blockType: props.type,\n          primaryExitTest: getters.primaryExitTest(mainProps),\n        }, {root: true}))\n          .map(async (exit: IBlockExit) => ({\n            ...exit,\n            vendor_metadata: await dispatch('initiateExtraVendorExitMetadata', {exit}),\n          })) as Promise<IBlockExit>[],\n      )\n    }\n\n    return mainProps\n  },\n\n  /**\n   * This will be the default standard exit mode,\n   * but we can override it in the specific block store (eg: for dynamic test generation in MCQ)\n   */\n  async handleBranchingTypeChangedToUnified(\n    {dispatch, getters, rootGetters}: ActionContext<IEmptyState, IRootState>,\n    {block}: {block: IBlock},\n  ): Promise<void> {\n    if (rootGetters['flow/block_shouldHave2Exits'](block.type) === true) {\n      await dispatch('flow/block_resetBranchingExitsByCollapsingNonDefault', {\n        blockId: block.uuid,\n        primaryExitTest: getters.primaryExitTest(block),\n      }, {root: true})\n    } else {\n      await dispatch('flow/block_resetBranchingExitsToDefaultOnly', {\n        blockId: block.uuid,\n      }, {root: true})\n    }\n  },\n\n  /**\n   * Override this method in the consumer side to add extra config attributes\n   * to avoid the validation saying we have missing prop at the creation.\n   *\n   * Remember to namespace the fields, e.g.:\n   *\n   * return {\n   *   org_example: {\n   *     foo: 1,\n   *     bar: 'baz',\n   *   },\n   * }\n   */\n  async initiateExtraVendorConfig(_ctx: unknown): Promise<object> {\n    return {}\n  },\n\n  /**\n   * Override this method on the consumer side to add extra vendor metadata to an exit\n   *\n   * @param _ctx\n   * @param exit\n   *\n   * @returns {Promise<Partial<IBlockExit['vendor_metadata']>>}\n   */\n   async initiateExtraVendorExitMetadata(_ctx: unknown, {exit}: {exit: IBlockExit}): Promise<IBlockExit['vendor_metadata']> {\n    return {}\n  },\n\n  /**\n   * Validate the Consumer block\n   * By overriding this action in the consumer side, we will be able to customize it using different json schema for eg.\n   *\n   * Important: This will be overridden in the consumer side, so DO NOT add generic validations here,\n   * instead edit the `validate()` if needed.\n   */\n  async validateBlockWithCustomJsonSchema(\n    _ctx: unknown,\n    {block, schemaVersion}: {block: IBlock, schemaVersion: string},\n  ): Promise<IValidationStatus> {\n    console.debug('floip/BaseBlockStore/validateBlockWithCustomJsonSchema()', `${block.type}`)\n    // we can provide the customBlockJsonSchema option for validateBlockWithJsonSchema when overriding this validateBlockWithCustomJsonSchema\n    return validateBlockWithJsonSchema({block, schemaVersion})\n  },\n\n  /**\n   * Validate the Consumer block\n   * By overriding this action in the consumer side, we will be able to customize it using different json schema for eg.\n   *\n   * Important: This will be overridden in the consumer side, so DO NOT add generic validations here,\n   * instead edit the `validate()` if needed.\n   */\n  async validateWithProgrammaticLogic(\n    _ctx: unknown,\n    {block}: {block: IBlock},\n  ): Promise<ValidationResults> {\n    console.debug('floip/BaseBlockStore/validateWithProgrammaticLogic()', `${block.type}`)\n    return [] as ValidationResults\n  },\n\n  /**\n   * Override this in block stores if needed, it's not recommended though.\n   * For customization, let's try to override the 02 actions validateBlockWithCustomJsonSchema & validateWithProgrammaticLogic instead\n   */\n  async validate(\n    {dispatch}: ActionContext<IEmptyState, IRootState>,\n    {block, schemaVersion}: {block: IBlock, schemaVersion: string},\n  ): Promise<IValidationStatus> {\n    console.debug('floip/BaseBlockStore/validate()', `${block.type}`)\n    // Validation based on JsonSchema\n    const validationStatus: IValidationStatus = await dispatch('validateBlockWithCustomJsonSchema', {block, schemaVersion})\n\n    // Validation based on programmatic logic\n    const dataPaths = new Set(validationStatus.ajvErrors?.map((error: ErrorObject) => error.dataPath))\n    const validationResults: ValidationResults = await dispatch('validateWithProgrammaticLogic', {block})\n\n    validationResults.forEach(([dataPath, suffix]) => {\n      if (!dataPaths.has(dataPath)) {\n        dataPaths.add(dataPath)\n\n        validationStatus.ajvErrors = validationStatus.ajvErrors || []\n        validationStatus.ajvErrors.push({\n          dataPath,\n          message: Lang.trans(`flow-builder-validation.${suffix}`),\n        } as ErrorObject)\n      }\n    })\n\n    if ((validationStatus.ajvErrors?.length ?? 0) > 0) {\n      validationStatus.isValid = false\n    }\n\n    return validationStatus\n  },\n\n  /**\n   * Override this method on the consumer side to react to another block's changes,\n   * e.g. to update expressions that reference the modified block: \"@(flow.myBlockNameThatChanged)\"\n   * @param context\n   * @param thisBlock, listening block\n   * @param oldBlock, deep clone of the modified block before the change\n   * @param newBlock, deep clone of the modified block after the change, null if the block was deleted\n   */\n  async maybeHandleAnotherBlockChange(\n    context: ActionContext<IEmptyState, IRootState>,\n    {thisBlock, oldBlock, newBlock}: {thisBlock: IBlock, oldBlock: IBlock, newBlock: IBlock | null},\n  ): Promise<void> {},\n}\n\nconst BaseBlockStore: Module<IEmptyState, IRootState> = {\n  namespaced: true,\n  getters,\n  mutations,\n  actions,\n}\n\nexport default BaseBlockStore\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-log-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/message`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.log-message'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-message'),\"current-expression\":_vm.value,\"valid-state\":isValid},on:{\"commitExpressionChange\":_vm.commitMessageChange}})]}}])})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {ILogBlock} from '@floip/flow-runner/src/model/block/ILogBlock'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'Core.Log'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async editMessage({commit}, {blockId, message}: { blockId: string, message: string }): Promise<string> {\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'message',\n      value: message,\n    }, {root: true})\n    return message\n  },\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<ILogBlock> }) {\n    props.type = BLOCK_TYPE\n    props.config = {\n      message: '',\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst Core_LogBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default Core_LogBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n\nimport {IFlow, IBlock} from '@floip/flow-runner'\nimport {ILogBlock} from '@floip/flow-runner/src/model/block/ILogBlock'\n\nimport LogStore, {BLOCK_TYPE} from '@/store/flow/block-types/Core_LogBlockStore'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class Core_LogBlock extends mixins(Lang) {\n  @Prop() readonly block!: ILogBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n  get value(): string {\n    return this.block.config.message || ''\n  }\n\n  commitMessageChange(value: string): Promise<string> {\n    return this.editMessage({blockId: this.block.uuid, message: value})\n  }\n\n  @blockVuexNamespace.Action editMessage!: (params: { blockId: IBlock['uuid'], message: string }) => Promise<string>\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default Core_LogBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, LogStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_LogBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_LogBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_LogBlock.vue?vue&type=template&id=3b7b25f9&\"\nimport script from \"./Core_LogBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_LogBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf755\",\n\t\"./tlh.js\": \"cf755\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import Vue from 'vue'\nimport {Component} from 'vue-property-decorator'\n\ntype globalType = typeof global & {\n  Lang: any,\n}\nconst thisGlobal: globalType = global as globalType\n\nconst proxy = (name: string, args: any) => (thisGlobal.Lang ? thisGlobal.Lang[name].apply(thisGlobal.Lang, args) : args[0])\nconst createProxy = (name: string) => function () {\n  return proxy(name, arguments)\n}\n\n// For vue-class based components\n@Component({\n  filters: {\n    trans: createProxy('trans'),\n    choice: createProxy('choice'),\n  },\n})\nclass Lang extends Vue {\n  trans(translation: string, interpolations?: object) {\n    return thisGlobal.Lang.trans(translation, interpolations)\n  }\n\n  // Useful when calling Lang.trans in a store for eg.\n  static trans(translation: string, interpolations?: object) {\n    return thisGlobal.Lang.trans(translation, interpolations)\n  }\n\n  /**\n   * `transIf(condition, ...)` should only be used when we encounter an issue with `:disabled=\"!condition\"` approach\n   * eg: for v-b-tooltip, we may need to remove completely the tooltip on block view mode\n   */\n  transIf(condition: boolean, translation: string) {\n    if (condition) {\n      return this.trans(translation)\n    }\n    return ''\n  }\n}\n\nexport default Lang\n\n// For non vue-class based components\nexport const lang = Lang\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=2dfe4cdd&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tech-error-notification\"},_vm._l((_vm.validationErrors),function(ajvError,key){return _c('div',{key:key},[_c('h6',[_c('b',[_vm._v(\"#\"+_vm._s(key + 1)+\" \")]),_c('b',[_vm._v(_vm._s(_vm.trans('flow-builder.location')))]),_vm._v(\": \"+_vm._s(ajvError.dataPath)+\", \"),_c('b',[_vm._v(_vm._s(_vm.trans('flow-builder.message')))]),_vm._v(\": \"+_vm._s(ajvError.message)+\" \"),_c('a',{attrs:{\"aria-controls\":`collapse_${_vm.errorType}_${key}`,\"href\":`#collapse_${_vm.errorType}_${key}`,\"aria-expanded\":\"false\",\"data-toggle\":\"collapse\",\"role\":\"button\"}},[_vm._v(\" See details \")])]),_c('div',{staticClass:\"collapse\",attrs:{\"id\":`collapse_${_vm.errorType}_${key}`}},[_c('div',{staticClass:\"card card-body\"},[_vm._v(\" \"+_vm._s(ajvError)+\" \")])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tech-error-notification\">\n    <div v-for=\"(ajvError, key) in validationErrors\" :key=\"key\">\n      <h6>\n        <b>#{{ key + 1 }} &nbsp;</b>\n        <b>{{ trans('flow-builder.location') }}</b>: {{ ajvError.dataPath }}, <b>{{ trans('flow-builder.message') }}</b>: {{ ajvError.message }}\n        <a :aria-controls=\"`collapse_${errorType}_${key}`\"\n           :href=\"`#collapse_${errorType}_${key}`\"\n           aria-expanded=\"false\"\n           data-toggle=\"collapse\"\n           role=\"button\">\n          See details\n        </a>\n      </h6>\n\n      <div :id=\"`collapse_${errorType}_${key}`\" class=\"collapse\">\n        <div class=\"card card-body\">\n          {{ ajvError }}\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport Lang from '@/lib/filters/lang'\n\nexport default {\n  name: 'TechErrorNotifications',\n  props: {\n    validationErrors: {\n      type: Array,\n      required: true,\n    },\n    errorType: {\n      type: String,\n      required: true,\n    },\n  },\n  mixins: [Lang],\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TechErrorNotifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TechErrorNotifications.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TechErrorNotifications.vue?vue&type=template&id=272df386&scoped=true&\"\nimport script from \"./TechErrorNotifications.vue?vue&type=script&lang=js&\"\nexport * from \"./TechErrorNotifications.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"272df386\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=style&index=0&id=2e98f65f&prod&lang=scss&\"","import Vue from 'vue'\nimport axios from 'axios'\nimport {\n  findBlockWith,\n  findFlowWith,\n  getActiveFlowFrom,\n  IBlock,\n  IChoice,\n  IContext,\n  IFlow,\n  ILanguage,\n  IResource,\n  IResourceValue,\n  SupportedMode,\n  ValidationException,\n} from '@floip/flow-runner'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport moment from 'moment'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {\n  castArray,\n  clone,\n  cloneDeep,\n  defaults,\n  difference,\n  every,\n  forEach,\n  get,\n  has,\n  includes,\n  intersection,\n  merge,\n  omit,\n  sortBy,\n} from 'lodash'\nimport {cleanupFlowBeforePersisting, discoverContentTypesFor} from '@/store/flow/utils/resourceHelpers'\nimport {computeBlockCanvasCoordinates} from '@/store/builder'\nimport {ErrorObject} from 'ajv'\nimport {ConfigFieldType, removeFlowValueByPath, updateFlowValueByPath} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\nimport {IFlowsState} from '@/store/flow/index'\nimport {mergeFlowContainer} from './utils/importHelpers'\n\nexport const stateFactory = (): IFlowsState => ({\n  isCreated: false,\n  savedAt: null,\n  //TODO - think about how to make this dynamic\n  specification_version: '1.0.0-rc4',\n  //For now we'll hard code this as it doesn't yet have a function\n  //Even import shouldn't override it I think even though a container is required\n  container_uuid: '3666a05d-3792-482b-8f7f-9e2472e4f027',\n  flows: [],\n\n  first_flow_id: null,\n  // todo: not quite right -- pulled from IContext\n  nested_flow_block_interaction_id_stack: [],\n  selectedBlocks: [],\n})\n\nexport const getters: GetterTree<IFlowsState, IRootState> = {\n  //We allow for an attempt to get a flow which doesn't yet exist in the state - e.g. the first_flow_id doesn't correspond to a flow\n  activeFlow: (state): IFlow | undefined => {\n    if (state.flows?.length) {\n      try {\n        return getActiveFlowFrom(state as unknown as IContext)\n      } catch (err) {\n        return undefined\n      }\n    } else {\n      return undefined\n    }\n  },\n  blockUuidsOnActiveFlow: (state, getters): IBlock['uuid'][] => getters.activeFlow?.blocks,\n  isActiveFlowValid: (state, getters, rootState) => {\n    const flowValidationResult = get(rootState.validation.validationStatuses, `flow/${getters.activeFlow.uuid}`)\n    if (flowValidationResult && !flowValidationResult.isValid) {\n      return false\n    }\n\n    // check if all blocks are valid\n    return every(\n      getters.activeFlow.blocks,\n      (block) => {\n        const currentValidation = get(rootState.validation.validationStatuses, `block/${block.uuid}`)\n        // should be valid if we don't have associated validation in validationStatuses\n        return currentValidation != null ? currentValidation.isValid : true\n      },\n    )\n  },\n  //TODO: when IFlow interface is fixed in https://viamoinc.atlassian.net/browse/VMO-5581\n  // remove isActiveFlowConsideredValidOnCreationForm, and change every references to isActiveFlowValid\n  isActiveFlowConsideredValidOnCreationForm: (state, getters, rootState) => {\n    const flowValidationResult = get(rootState.validation.validationStatuses, `flow/${getters.activeFlow.uuid}`)\n    // true if we only have 1 validation error (it's related to '/first_block_id')\n    return Boolean(getters.isActiveFlowValid) || (Boolean(flowValidationResult) && flowValidationResult.ajvErrors?.length === 1)\n  },\n  //TODO - is the IContext equivalent to the Flow Container? Can we say that it should be?\n  activeFlowContainer: (state) => ({\n    isCreated: state.isCreated,\n    specification_version: state.specification_version,\n    uuid: state.container_uuid,\n    name: 'TODO',\n    description: 'TODO',\n    vendor_metadata: {},\n    flows: state.flows,\n  } as unknown as IContext),\n  hasTextMode: (state, getters) => [SupportedMode.USSD, SupportedMode.SMS].some((mode) => includes(\n    getters.activeFlow.supported_modes || [],\n    mode,\n  )),\n  hasVoiceMode: (state, getters) => includes(getters.activeFlow.supported_modes || [], SupportedMode.IVR),\n  hasOfflineMode: (state, getters) => includes(getters.activeFlow.supported_modes || [], SupportedMode.OFFLINE),\n  currentFlowsState: (state) => state,\n}\n\nexport const mutations: MutationTree<IFlowsState> = {\n  flow_resetStates(state: IFlowsState) {\n    Object.assign(state, stateFactory())\n  },\n  //TODO - consider if this is correct? This only gets what the current flow needs and removes from the store any other flows\n  //That means the flow list page (which we will build the production version of later) will get cleared of all flows if we continue with the current model - see the temporary page /src/views/Home.vue - unless we fetch the list again\n  //That doesn't make sense if we run the builder standalone - without a fetch of the flows list\n  flow_setFlowContainer(state, {flowContainer, isFromSaveAction}) {\n    const persistedState = flowContainer\n    state.isCreated = persistedState.isCreated\n    state.flows = persistedState.flows\n    if (isFromSaveAction !== undefined) {\n      state.savedAt = new Date().toISOString()\n    }\n  },\n  flow_resetFlowState(state, flowState) {\n    Object.assign(state, flowState)\n  },\n  //used to track whether we should put or post when persisting\n  flow_updateCreatedState(state, createdState) {\n    state.isCreated = createdState\n  },\n  flow_setActiveFlowId(state, {flowId}: { flowId: string }) {\n    state.first_flow_id = flowId\n  },\n  flow_addBlock(state, {flowId, block}: { flowId: string, block: IBlock }) {\n    if (block == null) {\n      throw new ValidationException('Unable to add null block to flow')\n    }\n\n    const flow = findFlowWith(flowId || state.first_flow_id || '', state as unknown as IContext)\n    const length = flow.blocks.push(block)\n\n    if (length === 1) {\n      flow.first_block_id = block.uuid\n    }\n  },\n  flow_removeBlock(state, {flowId, blockId}: { flowId: string, blockId: string }) {\n    const flow = findFlowWith(flowId || state.first_flow_id || '', state as unknown as IContext)\n    const blockIndex = flow.blocks.findIndex((block) => block.uuid === blockId)\n\n    if (blockIndex === -1) {\n      throw new ValidationException(`Unable to delete block ${blockId} absent from flow ${flowId}`)\n    }\n\n    flow.blocks.splice(blockIndex, 1)\n  },\n\n  flow_setExitBlockId(state, {flowId, blockId}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    // @throws ValidationException when block absent\n    const block: IBlock = findBlockWith(blockId, flow)\n    flow.exit_block_id = block.uuid\n  },\n\n  flow_setFirstBlockId(state, {flowId, blockId}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    // @throws ValidationException when block absent\n    const block: IBlock = findBlockWith(blockId, flow)\n    Vue.set(flow, 'first_block_id', block.uuid)\n  },\n  flow_setNameFromLabel(state, {flowId, label}) {\n    findFlowWith(flowId, state as unknown as IContext).name = label.replace(/\\W+/g, '')\n  },\n\n  flow_setLabel(state, {flowId, label}) {\n    findFlowWith(flowId, state as unknown as IContext).label = label\n  },\n\n  flow_setInteractionTimeout(state, {flowId, value}) {\n    findFlowWith(flowId, state as unknown as IContext).interaction_timeout = value\n  },\n\n  flow_setSupportedMode(state, {flowId, value}: {flowId: string, value: SupportedMode[] | SupportedMode}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    // we should not sort nor rely on the modes' order because the flow spec doesn't enforce flow.supported_modes to be ordered\n    flow.supported_modes = castArray(value)\n  },\n\n  flow_setLanguages(state, {flowId, value}: {flowId: string, value: ILanguage[] | ILanguage}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    // we should not sort nor rely on the languages' order because the flow spec doesn't enforce flow.languages to be ordered\n    flow.languages = castArray(value)\n  },\n\n  flow_updateVendorMetadataByPath(\n    state,\n    {flowId, path, value}: {flowId: string, path: string, value: ConfigFieldType},\n  ) {\n    updateFlowValueByPath(state, flowId, `vendor_metadata.${path}`, value)\n  },\n\n  flow_removeVendorMetadataByPath(state, {flowId, path}: { flowId: string, path: string }) {\n    removeFlowValueByPath(state, flowId, `vendor_metadata.${path}`)\n  },\n\n  flow_updateBlockCoordinates(\n      state, {flowId, blockId, coordinates}: { flowId: string, blockId: string, coordinates: {x: number, y: number} },\n  ) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    const block: IBlock = findBlockWith(blockId, flow)\n\n    Vue.set(block, 'ui_metadata', {\n      canvas_coordinates: coordinates,\n    })\n  },\n}\n\nexport const actions: ActionTree<IFlowsState, IRootState> = {\n  /**\n   * Persistence for IMPORT action\n   */\n  async flow_persistImport({getters, commit, dispatch}, {persistRoute, flowContainer}): Promise<IContext | null> {\n    flowContainer = mergeFlowContainer(getters.activeFlowContainer, flowContainer)\n    const restVerb = flowContainer.isCreated ? 'put' : 'post'\n    const oldCreatedState = flowContainer.isCreated\n    if (!persistRoute) {\n      console.info('Flow persistence route not configured correctly in builder.config.json. Falling back to vuex store')\n      commit('flow_setFlowContainer', {\n        flowContainer,\n        isFromSaveAction: true\n      })\n      return getters.activeFlowContainer\n    }\n    try {\n      const {data: {data: createdContainer}} = await axios[restVerb](\n        persistRoute,\n        {data: omit(flowContainer, ['isCreated'])},\n      )\n\n      commit('flow_setFlowContainer', {\n        flowContainer: createdContainer,\n        isFromSaveAction: true\n      })\n      commit('flow_updateCreatedState', true)\n      await dispatch('validation/validate_allBlocksFromBackend', null, {root: true})\n      return getters.activeFlowContainer\n    } catch (error) {\n      console.error('Server error persisting flow:', error)\n      commit('flow_updateCreatedState', oldCreatedState)\n      commit('validation/pushAjvErrorToValidationStatuses', {\n        key: 'container_import',\n        ajvError: {\n          dataPath: '/container',\n          keyword: 'backend_error',\n          message: error.response.data?.error ?? error.response.data,\n        } as ErrorObject,\n      }, {root: true})\n      return null\n    }\n  },\n\n  /**\n   * Persistence for SAVE action\n   */\n  async flow_persist({getters, rootGetters, commit, dispatch}, {persistRoute, flowContainer}): Promise<IContext | null> {\n    const restVerb = flowContainer.isCreated ? 'put' : 'post'\n    const oldCreatedState = flowContainer.isCreated\n    if (!persistRoute) {\n      console.info('Flow persistence route not configured correctly in builder.config.json. Falling back to vuex store')\n      commit('flow_setFlowContainer', {\n        flowContainer,\n        isFromSaveAction: true\n      })\n      return getters.activeFlowContainer\n    }\n\n    // Clean orphan resources first, eg: old orphan resources, or orphan resource after the import\n    dispatch('flow_removeOrphanedResourcesAndRelatedValidationsOnActiveFlow')\n\n    try {\n      const {data: {data: container}} = await axios[restVerb](\n        persistRoute,\n        {data: omit(cleanupFlowBeforePersisting(flowContainer, rootGetters['validation/choiceMimeType']), ['isCreated'])},\n      )\n      commit('flow_setFlowContainer', {\n        flowContainer: container,\n        isFromSaveAction: true\n      })\n      commit('flow_updateCreatedState', true)\n      await dispatch('validation/validate_allBlocksFromBackend', null, {root: true})\n      return getters.activeFlowContainer\n    } catch (error) {\n      commit('flow_updateCreatedState', oldCreatedState)\n      console.error(`Server error persisting flow: \"${get(error, 'response.data')}\". Status: ${error.response.status}`)\n      return null\n    }\n  },\n  //TODO - In future there may be a use case for not blowing away all flows and resources but this isn't needed yet\n  //see comment on flow_setFlowContainer\n  async flow_fetch({getters, commit, dispatch}, {fetchRoute}): Promise<IFlow | null> {\n    if (!fetchRoute) {\n      console.info('Flow fetch route not configured correctly in builder.config.json. Falling back to vuex store')\n      return getters.activeFlow\n    }\n    try {\n      const {data: {data: container}} = await axios.get(fetchRoute)\n      commit('flow_setFlowContainer', {\n        flowContainer: container\n      })\n      commit('flow_updateCreatedState', true)\n      await dispatch('validation/validate_allBlocksFromBackend', null, {root: true})\n      return container\n    } catch (error) {\n      console.info(`Server error fetching flow: \"${get(error, 'response.data')}\". Status: ${error.response.status}`)\n      return null\n    }\n  },\n  // todo: this `flow_` prefix doesn't follow suit\n  // IContext-ish type\n  //       because it's actually a method on the root state\n  //       (same as mutation: `flow_activateBlock` and `flow_add`\n  async flow_addBlankFlow({dispatch}): Promise<IFlow> {\n    const flow = await dispatch('flow_createWith', {props: {uuid: await (new IdGeneratorUuidV4()).generate()}})\n\n    return dispatch('flow_add', {flow})\n  },\n\n  async flow_add({state}, {flow}: {flow: IFlow}): Promise<IFlow> {\n    // mutating here, because we need to define a root-level scope for this type of action\n    state.flows.push(flow)\n    //TODO - understand why this was here? Surely we can have an active flow that isn't the first and only one?\n    //if (length === 1) {\n    state.first_flow_id = flow.uuid\n    //}\n\n    return flow\n  },\n\n  flow_removeBlock({state, commit, dispatch}, {flowId, blockId}: { flowId: string, blockId: IBlock['uuid'] }) {\n    const flow = findFlowWith(flowId || state.first_flow_id || '', state as unknown as IContext)\n\n    // Remove block & it's validation statuses\n    commit('flow_removeBlock', {flowId, blockId})\n    commit('validation/removeValidationStatusesFor', {key: `block/${blockId}`}, {root: true})\n\n    // remove resources when they become orphaned, i.e. after removing the block\n    dispatch('flow_removeOrphanedResourcesAndRelatedValidationsOnActiveFlow')\n\n    // clean up stale references\n    // 1. flow.first_block_id\n    // 2. flow.exit_block_id\n    // 3. flow.blocks.*.exits.*.destination_block\n    // 4. activeBlockId (we should likely trail a ghost of previous selection and select that one next)\n\n    // todo: convert this whole operation to an ActionTree member\n    // todo: use mutations for these:\n    const blocks = flow.blocks\n\n    if (flow.first_block_id === blockId) {\n      // todo: make this optional for builder\n      flow.first_block_id = blocks.length ? blocks[0].uuid : ''\n    }\n\n    if (flow.exit_block_id === blockId) {\n      flow.exit_block_id = undefined\n    }\n\n    forEach(blocks, ({exits}) => {\n      const exitsTowardUs = exits.filter((exit) => exit.destination_block === blockId)\n      forEach(exitsTowardUs, (exit) => {\n        exit.destination_block = undefined\n      })\n    })\n\n    commit('builder/activateBlock', {blockId: null}, {root: true})\n  },\n\n  /**\n   * Clean flow resources & related validations\n   * @param state\n   * @param commit\n   * @param resourceUuids\n   */\n  async flow_removeResourcesAndRelatedValidationsOnActiveFlow(\n    {commit, getters},\n    {resourceUuids}: {resourceUuids: IResource['uuid'][]},\n  ): Promise<void> {\n    console.debug('trying to clean those resources:', resourceUuids)\n\n    const flow: IFlow = getters.activeFlow\n    flow.resources = flow.resources.filter(item => !resourceUuids.includes(item.uuid))\n    resourceUuids.forEach(\n      uuid => commit('validation/removeValidationStatusesFor', {key: `resource/${uuid}`}, {root: true}),\n    )\n  },\n\n  async flow_removeOrphanedResourcesAndRelatedValidationsOnActiveFlow({dispatch, getters}): Promise<void> {\n    await dispatch('flow_removeResourcesAndRelatedValidationsOnActiveFlow', {resourceUuids: getters.orphanResourceUuidsOnActiveFlow})\n  },\n\n  async flow_addBlankBlockByType({commit, dispatch}, {type, ...props}: Partial<IBlock>): Promise<IBlock> {\n    // if (!state[type]) {\n    // todo: for some reason {snakeCase} from 'lodash' doesn't work?\n    // todo: for some reason dynamic imports aren't working w/ storybook build\n    // const modulePath = `./block-types/${type.replace('.', '_')}BlockStore.ts`\n    // const store = await import(modulePath)\n\n    // this.registerModule(['flow', BLOCK_TYPE], store)\n    // }\n\n    // todo: standardize this for each block type\n\n    const block = await dispatch(`flow/${type}/createWith`, {\n      props: {\n        uuid: await (new IdGeneratorUuidV4()).generate(),\n        ...props,\n      },\n    }, {root: true})\n\n    // a key is prerequisite for reactivity, even optional params\n\n    defaults(block, {\n      label: undefined,\n      semantic_label: undefined,\n    })\n\n    commit('flow_addBlock', {block})\n\n    return block\n  },\n\n  async flow_addBlankResource({dispatch}): Promise<IResource> {\n    const resource = await dispatch('resource_createWith', {props: {uuid: await (new IdGeneratorUuidV4()).generate()}})\n    dispatch('resource_add', {resource})\n\n    return resource\n  },\n  async flow_addBlankResourceForEnabledModesAndLangs({dispatch}): Promise<IResource> {\n    const resource = await dispatch('flow_createBlankResource')\n    dispatch('resource_add', {resource})\n    return resource\n  },\n\n  async flow_createBlankResource({getters, dispatch}): Promise<IResource> {\n    const activeFlow: IFlow = getters.activeFlow\n    const modes = activeFlow.supported_modes\n    const languageIds = activeFlow.languages.map(language => language.id)\n\n    const values: IResourceValue[] = []\n    languageIds.forEach(languageId => {\n      modes.forEach(mode => {\n        discoverContentTypesFor(mode)?.forEach((contentType) => {\n          values.push({\n            language_id: languageId,\n            value: '',\n            content_type: contentType,\n            modes: [mode],\n          })\n        })\n      })\n    })\n\n    return dispatch('resource_createWith', {\n      props: {\n        uuid: await (new IdGeneratorUuidV4()).generate(),\n        values,\n      },\n    })\n  },\n\n  /** add (or remove) resource values, e.g. if a language or mode is added (or removed) from the flow */\n  async flow_updateResourceValues({getters, rootGetters, dispatch}): Promise<void> {\n    const activeFlow: IFlow = getters.activeFlow\n    const resources = activeFlow.resources\n    const modes = activeFlow.supported_modes\n    const languages = activeFlow.languages.map(language => language.id)\n\n    const promises: Promise<void>[] = []\n\n    // remove unused variants\n    resources.forEach(resource => {\n      const variantsToRemove = resource.values.filter(variant => {\n        const hasUnusedLanguage = !languages.includes(variant.language_id)\n        const hasUnusedModes = intersection(variant.modes, modes).length === 0\n        return (hasUnusedLanguage || hasUnusedModes)\n      })\n      promises.push(dispatch('resource_removeVariants', {resourceId: resource.uuid, variants: variantsToRemove}) as Promise<void>)\n    })\n\n    // add missing variants\n    resources\n      // Choices are a special case, we should not add variants\n      .filter(resource => resource.values.every(value => value.mime_type !== rootGetters['validation/choiceMimeType']))\n      .forEach(resource => {\n        modes.forEach(mode => {\n          languages.forEach(language => {\n            const resourceValue = resource.values.find(value => value.language_id === language && value.modes.includes(mode))\n            if (resourceValue === undefined) {\n              console.warn(`Adding missing variant: lang ${language}, mode: ${mode} for resource ${resource.uuid}`)\n\n              discoverContentTypesFor(mode)?.forEach((content_type) => {\n                promises.push(\n                  dispatch('resource_createVariant', {\n                    resourceId: resource.uuid,\n                    variant: {\n                      content_type,\n                      language_id: language,\n                      modes: [mode],\n                      value: '',\n                    },\n                  }) as Promise<void>,\n                )\n              })\n            }\n          })\n        })\n      })\n\n    await Promise.all(promises)\n  },\n\n  async flow_createWith({rootState}, {props}: { props: { uuid: string } & Partial<IFlow> }): Promise<IFlow> {\n    return {\n      ...defaults(props, {\n        name: '',\n        // TODO: Remove this optional attribute once the findFlowWith( ) is able to mutate state when setting non existing key.\n        label: '',\n        last_modified: moment().toISOString(),\n        interaction_timeout: rootState.trees.ui.appWideInteractionTimeout,\n        vendor_metadata: {},\n        supported_modes: rootState.trees.ui.defaultModes,\n        languages: [],\n        blocks: [],\n        first_block_id: '',\n        resources: [],\n      }),\n    }\n  },\n\n  async flow_duplicateBlock(\n    {commit, state, getters, dispatch},\n    {flowId, blockId}: {flowId: string, blockId: IBlock['uuid']},\n  ): Promise<IBlock> {\n    const flow = findFlowWith(flowId || state.first_flow_id || '', state as unknown as IContext)\n    // @throws ValidationException when block absent\n    const block: IBlock = findBlockWith(blockId, flow)\n\n    // Deep clone\n    const duplicatedBlock: IBlock = cloneDeep(block)\n\n    // Set UUIDs, and remove non relevant props\n    duplicatedBlock.uuid = await (new IdGeneratorUuidV4()).generate()\n\n    await Promise.all(\n      duplicatedBlock.exits.map(async (item) => {\n        item.uuid = await (new IdGeneratorUuidV4()).generate()\n        delete item.destination_block\n      }),\n    )\n\n    if (has(duplicatedBlock.config, 'prompt')) {\n      duplicatedBlock.config.prompt = await dispatch('flow_duplicateResource', {resourceUuid: duplicatedBlock.config.prompt})\n    }\n\n    if (has(duplicatedBlock.config, 'choices')) {\n      await Promise.all(\n        (duplicatedBlock.config.choices as IChoice[])\n          .map(async choice => {\n            choice.prompt = await dispatch('flow_duplicateResource', {resourceUuid: choice.prompt})\n          }),\n      )\n    }\n\n    // Set UI positions\n    merge(duplicatedBlock.ui_metadata, {\n      canvas_coordinates: computeBlockCanvasCoordinates(block),\n    })\n\n    commit('flow_addBlock', {block: duplicatedBlock})\n\n    return duplicatedBlock\n  },\n\n  async flow_duplicateResource({getters, dispatch}, {resourceUuid}: {resourceUuid: IResource['uuid']}): Promise<IResource['uuid']> {\n    const oldResource: IResource | undefined = getters.resourcesByUuidOnActiveFlow[resourceUuid]\n    if (oldResource === undefined) {\n      throw new Error(`Resource with uuid is not found: ${resourceUuid}`)\n    }\n\n    const newResource: IResource = cloneDeep(oldResource)\n    newResource.uuid = await (new IdGeneratorUuidV4()).generate()\n    await dispatch('resource_add', {resource: newResource})\n\n    return newResource.uuid\n  },\n\n  async flow_clearMultiSelection({state, dispatch}) {\n    forEach(state.selectedBlocks, (blockId: IBlock['uuid']) => {\n      dispatch('block_deselect', {blockId})\n    })\n  },\n\n  async flow_removeAllSelectedBlocks({state, dispatch}) {\n    const removeBlock_actions = state.selectedBlocks.map((blockId: IBlock['uuid']) =>\n      dispatch('flow_removeBlock', {blockId}))\n\n    await Promise.all(removeBlock_actions)\n\n    state.selectedBlocks = []\n  },\n\n  async flow_duplicateAllSelectedBlocks({state, dispatch}): Promise<string[]> {\n    const duplicateBlockActions = state.selectedBlocks.map((blockId: IBlock['uuid']) =>\n      dispatch('flow_duplicateBlock', {blockId}))\n\n    const newBlocks: IBlock[] = await Promise.all(duplicateBlockActions)\n    const newBlockUuids = newBlocks.map(block => block.uuid)\n\n    // make a copy to isolate from block selection changes\n    state.selectedBlocks = [...newBlockUuids]\n\n    return newBlockUuids\n  },\n\n  async flow_updateModes({state, getters, commit, dispatch}, {flowId, newModes}: {flowId: string, newModes: SupportedMode[]}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    commit('flow_setSupportedMode', {flowId, value: newModes})\n\n    await dispatch('flow_updateResourceValues')\n    await dispatch('validation/validate_allBlocksWithinFlow', null, {root: true})\n    await dispatch('validation/validate_resourcesOnSupportedValues', {\n      resources: flow.resources,\n      supportedModes: flow.supported_modes,\n      supportedLanguages: flow.languages,\n    }, {root: true})\n  },\n\n  async flow_updateLanguages({state, getters, commit, dispatch}, {flowId, newLanguages}: {flowId: string, newLanguages: ILanguage[]}) {\n    const flow: IFlow = findFlowWith(flowId, state as unknown as IContext)\n    const oldLanguages = clone(flow.languages)\n    commit('flow_setLanguages', {flowId, value: newLanguages})\n\n    await dispatch('flow_updateResourceValues')\n    await dispatch('block_updateBlocksAfterLanguagesChange', {\n      addedLanguageIds: difference(newLanguages, oldLanguages).map(lang => lang.id),\n      removedLanguageIds: difference(oldLanguages, newLanguages).map(lang => lang.id),\n    })\n    await dispatch('validation/validate_allBlocksWithinFlow', null, {root: true})\n    await dispatch('validation/validate_resourcesOnSupportedValues', {\n      resources: flow.resources,\n      supportedModes: flow.supported_modes,\n      supportedLanguages: flow.languages,\n    }, {root: true})\n  },\n}\n\n/**\n * Sort languages to display them in a particular order\n *\n * Caution: use this in the UI only, \"on the surface\" - for consistent UX when the languages get rearranged.\n * In other cases, avoid sorting or relying on their order because the flow spec doesn't enforce it.\n */\nexport function orderLanguages(languages: ILanguage[]): ILanguage[] {\n  return sortBy(languages, ['label'])\n}\n\n/**\n * Sort modes to display them in a particular order\n *\n * Caution: use this in the UI only, \"on the surface\" - for consistent UX when the modes get rearranged.\n * In other cases, avoid sorting or relying on their order because the flow spec doesn't enforce it.\n */\nexport function orderModes(modes: SupportedMode[]): SupportedMode[] {\n  const order = [\n    SupportedMode.IVR,\n    SupportedMode.SMS,\n    SupportedMode.USSD,\n    SupportedMode.TEXT,\n    SupportedMode.RICH_MESSAGING,\n    SupportedMode.OFFLINE,\n  ]\n  return sortBy(modes, (item: SupportedMode) => order.indexOf(item))\n}\n","export const BLOCK_CREATE_REGEX = /^flows.flows.(?<flowIndex>\\d+).blocks.(?<blockIndex>\\d+)$/\n\ntype BlockCreateParamsAsStrings = { flowIndex: string, blockIndex: string }\ntype BlockCreateParams = { flowIndex: number, blockIndex: number }\n\nexport function parseBlockCreateParams(key: string): BlockCreateParams | null {\n  const params = BLOCK_CREATE_REGEX.exec(key)?.groups as BlockCreateParamsAsStrings | undefined\n\n  if (params !== undefined) {\n    const {flowIndex, blockIndex} = params\n    return {\n      flowIndex: Number(flowIndex),\n      blockIndex: Number(blockIndex),\n    }\n  } else {\n    return null\n  }\n}\n","export const BLOCK_CHANGE_REGEX = /^flows.flows.(?<flowIndex>\\d+).blocks.(?<blockIndex>\\d+).(?<fieldPath>.+)/\n\ntype BlockChangeParamsAsStrings = { flowIndex: string, blockIndex: string, fieldPath: string }\ntype BlockChangeParams = { flowIndex: number, blockIndex: number, fieldPath: string }\n\nexport function parseBlockChangeParams(key: string): BlockChangeParams | null {\n  const params = BLOCK_CHANGE_REGEX.exec(key)?.groups as BlockChangeParamsAsStrings | undefined\n\n  if (params !== undefined) {\n    const {flowIndex, blockIndex, fieldPath} = params\n    return {\n      flowIndex: Number(flowIndex),\n      blockIndex: Number(blockIndex),\n      fieldPath: fieldPath.replace(/\\./g, '/'),\n    }\n  } else {\n    return null\n  }\n}\n","export const RESOURCE_CHANGE_REGEX = /^flows.flows.(?<flowIndex>\\d+).resources.(?<resourceIndex>\\d+).(?<fieldPath>.+)/\n\ntype ResourceChangeParamsAsStrings = { flowIndex: string, resourceIndex: string, fieldPath: string }\ntype ResourceChangeParams = { flowIndex: number, resourceIndex: number, fieldPath: string }\n\nexport function parseResourceChangeParams(key: string): ResourceChangeParams | null {\n  const params = RESOURCE_CHANGE_REGEX.exec(key)?.groups as ResourceChangeParamsAsStrings | undefined\n\n  if (params !== undefined) {\n    const {flowIndex, resourceIndex, fieldPath} = params\n    return {\n      flowIndex: Number(flowIndex),\n      resourceIndex: Number(resourceIndex),\n      fieldPath: fieldPath.replace(/\\./g, '/'),\n    }\n  } else {\n    return null\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nexport const FLOW_CHANGE_REGEX = /^flows.flows.\\d+.(?!blocks|resources)/\n","import {Location} from 'vue-router'\nimport {IFlowsState} from '@/store/flow'\nimport {isBlockUsingResource} from '@/store/flow/utils/resourceHelpers'\nimport {BLOCK_CREATE_REGEX, parseBlockCreateParams} from './block-create'\nimport {BLOCK_CHANGE_REGEX, parseBlockChangeParams} from './block-change'\nimport {parseResourceChangeParams, RESOURCE_CHANGE_REGEX} from './resource-change'\nimport {FLOW_CHANGE_REGEX} from './flow-change'\n\n/* eslint-disable import/prefer-default-export, @typescript-eslint/no-explicit-any */\n/**\n * Returns a route name & params for navigation when undoing-redoing user's commands.\n * Returns null values for unsupported commands.\n * Supported commands: create block, change block, change resource.\n * @param changedKeys\n * @param flows\n */\nexport function getDeepLink({changedKeys, flows}: {changedKeys: string[], flows: IFlowsState}): DeepLink {\n  const key = changedKeys.find(key =>\n    BLOCK_CREATE_REGEX.test(key)\n    || BLOCK_CHANGE_REGEX.test(key)\n    || RESOURCE_CHANGE_REGEX.test(key)\n    || FLOW_CHANGE_REGEX.test(key))\n\n  if (key === undefined) {\n    console.warn('No deep link found for changed keys', JSON.stringify(changedKeys))\n    return {\n      routeName: null,\n      routeParams: null,\n    }\n  } else if (BLOCK_CREATE_REGEX.test(key)) {\n    const {flowIndex, blockIndex} = parseBlockCreateParams(key)!\n    const blockId = flows.flows[flowIndex].blocks[blockIndex].uuid\n    return {\n      routeName: 'block-selected-details',\n      routeParams: {\n        blockId,\n      },\n    }\n  } else if (BLOCK_CHANGE_REGEX.test(key)) {\n    const {flowIndex, blockIndex, fieldPath} = parseBlockChangeParams(key)!\n    const blockId = flows.flows[flowIndex].blocks[blockIndex].uuid\n    return {\n      routeName: 'block-scroll-to-anchor',\n      routeParams: {\n        blockId,\n        field: `block/${blockId}/${fieldPath}`,\n      },\n    }\n  } else if (RESOURCE_CHANGE_REGEX.test(key)) {\n    const {flowIndex, resourceIndex, fieldPath} = parseResourceChangeParams(key)!\n\n    const flow = flows.flows[flowIndex]\n    const resourceId = flow.resources[resourceIndex].uuid\n    const block = flow.blocks.find(block => isBlockUsingResource(block, resourceId))!\n\n    return {\n      routeName: 'block-scroll-to-anchor',\n      routeParams: {\n        blockId: block.uuid,\n        field: `resource/${resourceId}/${fieldPath}`,\n      },\n    }\n  } else if (FLOW_CHANGE_REGEX.test(key)) {\n    return {\n      routeName: 'flow-details',\n      routeParams: {},\n    }\n  } else {\n    console.error('This should have never happened. Did you forget to implement a deep link case?')\n    return {\n      routeName: null,\n      routeParams: null,\n    }\n  }\n}\n\ntype DeepLink = {\n  routeName: Location['name'],\n  routeParams: Location['params'],\n} | {\n  routeName: null,\n  routeParams: null,\n}\n","export type NotNullOrUndefined = object | string | number | boolean\n\nexport function ensureObject(obj: unknown): NotNullOrUndefined {\n  return obj !== null && obj !== undefined ? obj as NotNullOrUndefined : {}\n}\n\nexport function isObjectOrUndefined(obj: unknown): boolean {\n  return obj === undefined || typeof obj === 'object'\n}\n","/* eslint-disable import/prefer-default-export */\nimport {isObjectOrUndefined, ensureObject, NotNullOrUndefined} from '@/utils/type-utils'\n\nexport function getChangedKeys(a: NotNullOrUndefined, b: NotNullOrUndefined): string[] {\n  const changedKeys: string[] = []\n\n  Object.keys({\n      ...a as object,\n      ...b as object,\n  })\n    .forEach((key) => {\n      const aVal = (a as Record<string, unknown>)[key]\n      const bVal = (b as Record<string, unknown>)[key]\n\n      if (isObjectOrUndefined(aVal) && isObjectOrUndefined(bVal)) {\n        changedKeys.push(...getChangedKeys(\n          ensureObject(aVal),\n          ensureObject(bVal),\n        ).map((k) => `${key}.${k}`))\n      } else if (aVal !== bVal) {\n        changedKeys.push(key)\n      }\n    })\n\n  return changedKeys\n}\n","import Vue from 'vue'\nimport {Location} from 'vue-router'\nimport {IRootState} from '@/store'\nimport {IFlowsState} from '@/store/flow'\nimport structuredClone from '@ungap/structured-clone'\nimport {difference, union} from 'lodash'\nimport {ActionTree, GetterTree, Module, MutationTree} from 'vuex'\nimport {getDeepLink} from '@/store/undoRedo/deeplink'\nimport {getChangedKeys} from './getChangedKeys'\n\nconst MAX_HISTORY_LENGTH = 100\n\nexport interface ISnapshotModules {\n  flows: IFlowsState,\n}\n\nexport interface ISnapshot {\n  modules: ISnapshotModules,\n  routeName: Location['name'] | null,\n  routeParams: Location['params'] | null,\n  timestamp: number,\n}\n\nexport interface IUndoRedoState {\n  snapshots: ISnapshot[],\n  position: number,\n}\n\nfunction pack({modules, routeName, routeParams}: Omit<ISnapshot, 'timestamp'>): ISnapshot {\n  return {\n    modules: structuredClone(modules),\n    routeName,\n    routeParams,\n    timestamp: new Date().getTime(),\n  }\n}\n\nfunction unpack(snapshot: ISnapshot): ISnapshotModules {\n  return structuredClone(snapshot?.modules ?? {} as ISnapshotModules)\n}\n\nfunction getChangedModulesKeys(snapshotA: ISnapshot, snapshotB: ISnapshot): string[] {\n  const modulesA = unpack(snapshotA)\n  const modulesB = unpack(snapshotB)\n\n  return getChangedKeys(modulesA, modulesB)\n}\n\nfunction shouldAlwaysTriggerSnapshot(changedKeys: string[]): boolean {\n  return changedKeys.some((key) => (\n    /^flows.flows.\\d+.blocks.\\d+.exits.\\d+.destination_block$/.test(key)\n  ))\n}\n\nexport const stateFactory = (): IUndoRedoState => ({\n  snapshots: [],\n  position: -1,\n})\n\nexport const getters: GetterTree<IUndoRedoState, IRootState> = {\n  currentSnapshot(state): ISnapshot {\n    return state.snapshots[state.position]\n  },\n  previousSnapshot(state): ISnapshot | null {\n    return state.snapshots[state.position - 1] ?? null\n  },\n  futureSnapshot(state): ISnapshot | null {\n    return state.snapshots[state.position + 1] ?? null\n  },\n  hasCurrentSnapshot(_state, getters): boolean {\n    return Boolean(getters.currentSnapshot)\n  },\n  hasPreviousSnapshot(_state, getters): boolean {\n    return Boolean(getters.previousSnapshot)\n  },\n  hasFutureSnapshot(_state, getters): boolean {\n    return Boolean(getters.futureSnapshot)\n  },\n  previouslyChangedKeys(_state, getters): string[] {\n    return getChangedModulesKeys(\n      getters.currentSnapshot as ISnapshot,\n      getters.previousSnapshot as ISnapshot,\n    )\n  },\n}\n\nexport const mutations: MutationTree<IUndoRedoState> = {\n  addSnapshot(state, snapshot: ISnapshot) {\n    state.snapshots = [\n      ...state.snapshots.slice(0, state.position + 1),\n      snapshot,\n    ]\n      .slice(-MAX_HISTORY_LENGTH)\n\n    state.position = state.snapshots.length - 1\n  },\n  patchSnapshot(state, snapshot: ISnapshot) {\n    Vue.set(state.snapshots, state.position, snapshot)\n  },\n  resetSnapshots(state, snapshot: ISnapshot) {\n    state.snapshots = [snapshot]\n    state.position = 0\n  },\n  undo(state) {\n    if (state.position > 0) {\n      state.position -= 1\n    } else {\n      console.warn('Cannot undo, we have already reached the beginning of the history')\n    }\n  },\n  redo(state) {\n    if (state.position < state.snapshots.length - 1) {\n      state.position += 1\n    } else {\n      console.warn('Cannot redo, we have already reached the end of the history')\n    }\n  },\n}\n\nexport const actions: ActionTree<IUndoRedoState, IRootState> = {\n  async handleStateChange({commit, getters, rootState}) {\n    const currentModules: ISnapshotModules = structuredClone({flows: getters.currentSnapshot?.modules.flows ?? {}})\n    const newModules: ISnapshotModules = structuredClone({flows: rootState.flow})\n    const changedKeys = getChangedKeys(currentModules, newModules)\n\n    if (changedKeys.length === 0) {\n      return\n    }\n\n    let {routeName, routeParams} = getDeepLink({\n      changedKeys,\n      flows: rootState.flow,\n    })\n\n    let isNewSnapshotFromPersistenceAction = false\n    if (!(getters.hasCurrentSnapshot as boolean)) {\n      // If we don't have a current snapshot yet, we consider the new snapshot as from a persistence action\n      isNewSnapshotFromPersistenceAction = true\n    }\n    const currentSavedAt = getters.currentSnapshot?.modules.flows?.savedAt\n\n    const newSavedAt = newModules.flows?.savedAt\n    if (currentSavedAt !== newSavedAt && currentSavedAt !== undefined && newSavedAt !== undefined) {\n      isNewSnapshotFromPersistenceAction = true\n    }\n\n    // if the action was from a persistence action, we don't want to change the route\n    if (isNewSnapshotFromPersistenceAction) {\n      routeName = getters.currentSnapshot?.routeName ?? 'flow-canvas'\n      routeParams = getters.currentSnapshot?.routeParams ?? {}\n    } else {\n      routeName = routeName ?? 'flow-canvas'\n      routeParams = {\n        component: rootState.builder.activeMainComponent!,\n        ...routeParams,\n      }\n    }\n\n    // format the snapshot\n    const newSnapshot = pack({\n      modules: newModules,\n      routeName,\n      routeParams,\n    })\n\n    // ####### force patch ##############\n    if (isNewSnapshotFromPersistenceAction) {\n      if (getters.hasCurrentSnapshot as boolean) {\n        commit('patchSnapshot', newSnapshot)\n      } else {\n        // We cannot patch non-existing snapshots\n        commit('addSnapshot', newSnapshot)\n      }\n      return\n    }\n\n    // ######## choose between `patch` and `add` ############\n    if (getters.hasFutureSnapshot as boolean) {\n      commit('addSnapshot', newSnapshot)\n      return\n    }\n\n    // We group changes by comparing sets of changed keys, and either\n    // add a new snapshot or patch the current ones\n    const previouslyChangedKeys = getters.previouslyChangedKeys as string[]\n    const differentKeys = union(\n      difference(changedKeys, previouslyChangedKeys),\n      difference(previouslyChangedKeys, changedKeys),\n    )\n\n    if (differentKeys.length > 0) {\n      commit('addSnapshot', newSnapshot)\n      return\n    }\n\n    if (shouldAlwaysTriggerSnapshot(changedKeys)) {\n      commit('addSnapshot', newSnapshot)\n      return\n    }\n\n    commit('patchSnapshot', newSnapshot)\n  },\n\n  /**\n   * Undo user's command\n   */\n  async undoAndUpdateState({commit, getters, dispatch}): Promise<void> {\n    // eslint-disable-next-line\n    if (!getters.hasPreviousSnapshot) {\n      console.warn('Cannot undo, the action history is empty or we have already reached the beginning of it')\n      return\n    }\n\n    commit('undo')\n    const modules = unpack(getters.currentSnapshot as ISnapshot)\n\n    commit('flow/flow_resetFlowState', modules.flows, {root: true})\n  },\n\n  /**\n   * Redo user's command\n   */\n  async redoAndUpdateState({commit, dispatch, getters}): Promise<void> {\n    // eslint-disable-next-line\n    if (!getters.hasFutureSnapshot as boolean) {\n      console.warn('Cannot redo, the action history is empty or we have already reached the end of it')\n      return\n    }\n\n    commit('redo')\n    const modules = unpack(getters.currentSnapshot as ISnapshot)\n\n    commit('flow/flow_resetFlowState', modules.flows, {root: true})\n  },\n}\n\nexport const store: Module<IUndoRedoState, IRootState> = {\n  namespaced: true,\n  state: stateFactory,\n  mutations,\n  getters,\n  actions,\n}\n\nexport default store\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimplifiedNameEditor.vue?vue&type=style&index=0&id=29774d49&prod&scoped=true&lang=css&\"","import {ISelectOneResponseBlock} from '@floip/flow-runner/dist/model/block/ISelectOneResponseBlock'\nimport {findBlockWith, IBlock, ISelectManyResponseBlock} from '@floip/flow-runner'\nimport {cloneDeep, isNumber} from 'lodash'\nimport {ActionContext, ActionTree, GetterTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlockWithBranchingType, OutputBranchingType} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\nimport {actions as baseActions, getters as baseGetters, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\nimport MobilePrimitives_SelectOneResponseBlockStore from './MobilePrimitives_SelectOneResponseBlockStore'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.SelectManyResponse'\n\nexport const getters: GetterTree<IEmptyState, IRootState> = {\n  ...baseGetters,\n  /**\n   * TODO: customize selectMany's tests here in the future\n   */\n  primaryExitTest: () => (_blockProps: Partial<IBlock>) => undefined,\n}\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  setMinChoices({commit, dispatch, rootGetters}, {blockId, value}: { blockId: IBlock['uuid'], value?: number }): void {\n    const block: ISelectManyResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectManyResponseBlock\n    commit('flow/block_updateConfigByKey', {\n      blockId: block.uuid,\n      key: 'minimum_choices',\n      value: isNumber(value) ? value : undefined,\n    }, {root: true})\n\n    const {vendor_metadata: metadata} = block as unknown as IBlockWithBranchingType\n    const {UNIFIED} = OutputBranchingType\n    if (metadata.floip.ui_metadata.branching_type === UNIFIED) {\n      dispatch('handleBranchingTypeChangedToUnified', {block})\n    }\n  },\n\n  setMaxChoices({commit, dispatch, rootGetters}, {blockId, value}: { blockId: IBlock['uuid'], value: number }): void {\n    const block: ISelectManyResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectManyResponseBlock\n    commit('flow/block_updateConfigByKey', {\n      blockId: block.uuid,\n      key: 'maximum_choices',\n      value: isNumber(value) ? value : undefined,\n    }, {root: true})\n\n    // todo: we should probably review our getters + setters in vue files and pull domain logic our stores ?! Schedule this?11\n    const {vendor_metadata: metadata} = block as unknown as IBlockWithBranchingType\n    const {UNIFIED} = OutputBranchingType\n    if (metadata.floip.ui_metadata.branching_type === UNIFIED) {\n      dispatch('handleBranchingTypeChangedToUnified', {block})\n    }\n  },\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<ISelectOneResponseBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankPromptResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankPromptResource.uuid,\n      choices: [],\n      minimum_choices: undefined,\n      maximum_choices: undefined,\n    }\n    props.vendor_metadata = {\n      floip: {\n        ui_metadata: {\n          branching_type: OutputBranchingType.EXIT_PER_CHOICE,\n          choices: {},\n        },\n      },\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst MobilePrimitives_SelectManyResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(MobilePrimitives_SelectOneResponseBlockStore),\n  actions,\n  getters,\n}\n\nexport default MobilePrimitives_SelectManyResponseBlockStore\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"smart-devices-location-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('threshold-editor',{attrs:{\"block\":_vm.block},on:{\"commitAccuracyThresholdMetersChange\":_vm.updateThreshold}}),_c('timeout-editor',{attrs:{\"block\":_vm.block},on:{\"commitAccuracyTimeoutSecondsChange\":_vm.updateTimeout}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock} from '@floip/flow-runner'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'SmartDevices.LocationResponse'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async setAccuracyThreshold({commit}, {blockId, value}: { blockId: string, value: number }) {\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'accuracy_threshold_meters',\n      value,\n    }, {root: true})\n    return value\n  },\n\n  async setAccuracyTimeout({commit}, {blockId, value}: { blockId: string, value: number }) {\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'accuracy_timeout_seconds',\n      value,\n    }, {root: true})\n    return value\n  },\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankMessageResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankMessageResource.uuid,\n      accuracy_threshold_meters: 5.0,\n      accuracy_timeout_seconds: 120,\n    }\n\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst SmartDevices_LocationResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default SmartDevices_LocationResponseBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n// import ILocationResponseBlock from '@floip/flow-runner/src/model/block/ILocationResponseBlock' // TODO: to be created on flow-runner side\nimport {IBlock, IFlow, IResource} from '@floip/flow-runner'\nimport LocationStore, {BLOCK_TYPE} from '@/store/flow/block-types/SmartDevices_LocationResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class SmartDevices_LocationResponseBlock extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n\n  updateThreshold(value: number): void {\n    this.setAccuracyThreshold({blockId: this.block.uuid, value})\n  }\n\n  updateTimeout(value: number): void {\n    this.setAccuracyTimeout({blockId: this.block.uuid, value})\n  }\n\n  @blockVuexNamespace.Action setAccuracyThreshold!: ({blockId, value}: { blockId: IBlock['uuid'], value: number }) => Promise<string>\n  @blockVuexNamespace.Action setAccuracyTimeout!: ({blockId, value}: { blockId: IBlock['uuid'], value: number }) => Promise<string>\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default SmartDevices_LocationResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, LocationStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartDevices_LocationResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartDevices_LocationResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SmartDevices_LocationResponseBlock.vue?vue&type=template&id=2aadf8ba&\"\nimport script from \"./SmartDevices_LocationResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./SmartDevices_LocationResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-primitives-select-one-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('choices-builder',{attrs:{\"block\":_vm.block},on:{\"choiceChanged\":_vm.handleChoiceChanged}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",function(){return [_c('block-output-branching-config',{attrs:{\"block\":_vm.block,\"has-exit-per-choice\":true,\"label-class\":''},on:{\"branchingTypeChanged\":function($event){return _vm.reflowExitsWhenSwitchingToBranchingTypeNotUnified()}}})]},{\"slot\":\"branching\"}),_vm._t(\"contact-props\",function(){return [_c('select-one-response-block-contact-property-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock, IFlow, IResource, SupportedMode} from '@floip/flow-runner'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {includes} from 'lodash'\nimport SelectOneStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\nimport {findOrGenerateStubbedVariantOn} from '@/store/flow/utils/resourceHelpers'\nimport {\n  IBlockWithBranchingType, OutputBranchingType,\n} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({})\nexport class MobilePrimitives_SelectOneResponseBlock extends mixins(Lang) {\n  @Prop() readonly block!: ISelectOneResponseBlock\n  @Prop({default: false}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n\n  SupportedMode = SupportedMode\n  findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n  handleChoiceChanged(): void {\n    const {\n      uuid: blockId,\n      vendor_metadata: {floip: {ui_metadata: {branching_type}}},\n    } = this.block as unknown as IBlockWithBranchingType\n\n    const {EXIT_PER_CHOICE, UNIFIED, ADVANCED} = OutputBranchingType\n\n    if (branching_type === UNIFIED) {\n      this.handleBranchingTypeChangedToUnified({block: this.block})\n    } else if (branching_type === ADVANCED) {\n      this.reflowExitsFromChoices({blockId})\n    } else if (branching_type === EXIT_PER_CHOICE) {\n      this.reflowExitsFromChoices({blockId})\n    } else {\n      console.error('handleChoiceChanged', `cannot handle branching type ${branching_type}`)\n    }\n  }\n\n  reflowExitsWhenSwitchingToBranchingTypeNotUnified(): void {\n    const {uuid: blockId, vendor_metadata: metadata} = this.block as unknown as IBlockWithBranchingType\n    const {EXIT_PER_CHOICE, ADVANCED} = OutputBranchingType\n    const isEnteringChoiceOrAdvancedBranchingType = includes([EXIT_PER_CHOICE, ADVANCED], metadata.floip.ui_metadata.branching_type)\n\n    if (!isEnteringChoiceOrAdvancedBranchingType) {\n      this.handleBranchingTypeChangedToUnified({block: this.block})\n      return\n    }\n\n    this.reflowExitsFromChoices({blockId})\n  }\n\n  @blockVuexNamespace.Action reflowExitsFromChoices!: ({blockId}: {blockId: IBlock['uuid']}) => void\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n}\n\nexport default MobilePrimitives_SelectOneResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SelectOneStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=template&id=388a6800&\"\nimport script from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_SelectOneResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-output-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/value`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{attrs:{\"label\":_vm.trans('flow-builder.output-expression'),\"placeholder\":_vm.trans('flow-builder.enter-expression'),\"current-expression\":_vm.value,\"valid-state\":isValid,\"rows\":_vm.expressionEditorRows},on:{\"commitExpressionChange\":_vm.commitExpressionChange}})]}}])})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IOutputBlock} from '@floip/flow-runner/src/model/block/IOutputBlock'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'Core.Output'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async editOutputExpression({commit}, {blockId, value}: { blockId: string, value: string }): Promise<string> {\n    commit('flow/block_updateConfigByKey', {\n      blockId,\n      key: 'value',\n      value,\n    }, {root: true})\n    return value\n  },\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IOutputBlock> }) {\n    props.type = BLOCK_TYPE\n    props.config = {\n      value: '@',\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst Core_OutputBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default Core_OutputBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IOutputBlock} from '@floip/flow-runner/src/model/block/IOutputBlock'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport OutputStore, {BLOCK_TYPE} from '@/store/flow/block-types/Core_OutputBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class Core_OutputBlock extends mixins(Lang) {\n  @Prop() readonly block!: IOutputBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n  @Prop({type: Number, default: 1}) readonly expressionEditorRows!: number\n\n  get value(): string {\n    return this.block.config.value || ''\n  }\n\n  @blockVuexNamespace.Action editOutputExpression!: (params: { blockId: IBlock['uuid'], value: string }) => Promise<string>\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n\n  commitExpressionChange(value: string): Promise<string> {\n    return this.editOutputExpression({blockId: this.block.uuid, value})\n  }\n}\n\nexport default Core_OutputBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, OutputStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_OutputBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_OutputBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_OutputBlock.vue?vue&type=template&id=539732cc&\"\nimport script from \"./Core_OutputBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_OutputBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockOutputBranchingConfig.vue?vue&type=style&index=0&id=44fefc4d&prod&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceKeyPressSelector.vue?vue&type=style&index=0&id=156d9deb&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditor.vue?vue&type=style&index=0&id=2c7ea92b&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderCanvas.vue?vue&type=style&index=0&id=1ac702b3&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=style&index=0&id=12a45214&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-primitive-open-response-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('max-duration-seconds-editor',{attrs:{\"block\":_vm.block,\"has-ivr\":_vm.hasVoiceMode},on:{\"commitMaxDurationChange\":_vm.setMaxDurationSeconds}}),_c('end-recording-digits-editor',{attrs:{\"block\":_vm.block,\"has-ivr\":_vm.hasVoiceMode},on:{\"commitEndRecordingDigitsChange\":_vm.setEndRecordingDigits}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IOpenResponseBlock} from '@floip/flow-runner/src/model/block/IOpenResponseBlock'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.OpenResponse'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async setMaxDurationSeconds({commit, rootGetters}, duration: number) {\n    const activeBlock = rootGetters['builder/activeBlock']\n    commit('flow/block_updateConfigByPath', {\n      blockId: activeBlock.uuid,\n      path: 'ivr.max_duration_seconds',\n      value: duration,\n    }, {root: true})\n  },\n\n  async setEndRecordingDigits({commit, rootGetters}, endRecordingDigits: number) {\n    const activeBlock = rootGetters['builder/activeBlock']\n    commit('flow/block_updateConfigByPath', {\n      blockId: activeBlock.uuid,\n      path: 'ivr.end_recording_digits',\n      value: endRecordingDigits,\n    }, {root: true})\n  },\n\n  async createWith({getters, dispatch, commit}, {props}: { props: { uuid: string } & Partial<IOpenResponseBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankResource.uuid,\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst MobilePrimitives_OpenResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default MobilePrimitives_OpenResponseBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n\nimport {IBlock, IFlow, IResource} from '@floip/flow-runner'\nimport {IOpenResponseBlock} from '@floip/flow-runner/src/model/block/IOpenResponseBlock'\nimport OpenResponseStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_OpenResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nclass MobilePrimitives_OpenResponseBlock extends mixins(Lang) {\n  @Prop() readonly block!: IOpenResponseBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: true}) readonly usesDefaultContactPropsEditor!: boolean\n\n  @flowVuexNamespace.Getter hasTextMode!: boolean\n  @flowVuexNamespace.Getter hasVoiceMode!: boolean\n\n  @blockVuexNamespace.Action setMaxDurationSeconds!: (newDuration: number) => Promise<void>\n  @blockVuexNamespace.Action setEndRecordingDigits!: (endRecordingDigits: string) => Promise<void>\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default MobilePrimitives_OpenResponseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, OpenResponseStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_OpenResponseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_OpenResponseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_OpenResponseBlock.vue?vue&type=template&id=461e0c24&\"\nimport script from \"./MobilePrimitives_OpenResponseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_OpenResponseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewerBlock.vue?vue&type=style&index=0&id=03234acd&prod&scoped=true&lang=css&\"","import {snakeCase} from 'lodash'\n\n/**\n * Snake case only non digit text\n * eg:\n *  - input: \"01 a23 b45 c67c 89de\"\n *  - output: \"01_a23_b45_c67_c89_de\"\n * @param value\n */\n// eslint-disable-next-line import/prefer-default-export\nexport function snakeCaseNonDigits(value?: string | null) {\n  if (value === null || value === undefined) {\n    return value\n  }\n\n  return snakeCase(value).replace(/_(\\d+)/g, '$1')\n}\n\n/**\n * Snake case on spaces only\n * eg:\n *  - 1message >>> 1message (no changes)\n *  - message_1 >>> message_1 (no changes)\n *  - message 1 >>> message_1 (with changes)\n * @param value\n * @param char\n */\nexport function snakeCaseOnSpaces(value?: string | null, char = '_') {\n  if (value === null || value === undefined) {\n    return value\n  }\n\n  return value.replaceAll(' ', char).toLowerCase()\n}\n","import {IRootState} from '@/store'\nimport {\n  findBlockOnActiveFlowWith as findBlock,\n  IBlock,\n  IChoice,\n  IContext,\n  ISelectOneResponseBlockConfig,\n  SetContactProperty,\n} from '@floip/flow-runner'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IFlowsState} from '../index'\nimport Vue from 'vue'\nimport {choicesToExpression} from '@/components/interaction-designer/block-editors/choices/expressionTransformers'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\n\nexport interface ISetContactPropertyBlockKey {\n  blockId: IBlock['uuid'],\n  key: SetContactProperty['property_key'],\n}\n\nexport interface ISetContactPropertyBlockKeyWithValue extends ISetContactPropertyBlockKey {\n  value: SetContactProperty['property_value'],\n}\n\nexport const getters: GetterTree<IFlowsState, IRootState> = {\n  /**\n   * Get contact property element on a given index\n   */\n  block_getContactPropertyOnIndex: state => ({blockId, index}: {blockId: string, index: number}): SetContactProperty | undefined =>\n    findBlock(blockId, state as unknown as IContext)\n      .config\n      ?.set_contact_property\n      ?.[index],\n\n  block_getContactPropertyValueByKey: state => ({blockId, key}: ISetContactPropertyBlockKey): string | undefined =>\n    findBlock(blockId, state as unknown as IContext)\n      .config\n      .set_contact_property\n      ?.find(({property_key}) => property_key === key)\n      ?.property_value,\n}\n\nexport const mutations: MutationTree<IFlowsState> = {\n  /**\n   * Adds a new contact_property to a specific block.\n   *\n   * @throws {Error} When a property with given key already exists\n   */\n  block_addContactProperty(state, {blockId, key, value}: ISetContactPropertyBlockKeyWithValue) {\n    const block = findBlock(blockId, state as unknown as IContext)\n\n    if (!block.config.set_contact_property) {\n      block.config.set_contact_property = []\n    }\n\n    if (block.config.set_contact_property.find(({property_key}) => property_key === key)) {\n      throw new Error(`set_contact_property[${key}] already exists`)\n    }\n\n    block.config.set_contact_property.push({\n      property_key: key,\n      property_value: value,\n    })\n  },\n\n  block_removeContactProperty(state, {blockId, key}: ISetContactPropertyBlockKey) {\n    const block = findBlock(blockId, state as unknown as IContext)\n\n    block.config.set_contact_property = (block.config.set_contact_property ?? [])\n      .filter(({property_key}) => property_key !== key)\n  },\n\n  block_changeContactProperty(state, {blockId, key, value: newValue}: ISetContactPropertyBlockKeyWithValue) {\n    const block = findBlock(blockId, state as unknown as IContext)\n\n    block.config.set_contact_property = (block.config.set_contact_property ?? [])\n      .map(({property_key, property_value: oldValue}) => ({\n        property_key,\n        property_value: property_key === key ? newValue : oldValue,\n      }))\n  },\n}\n\nexport const actions: ActionTree<IFlowsState, IRootState> = {\n  /**\n   * Make sure we have Array set_contact_property,\n   * if it's not an array, then the mutation will set an object like {set_contact_property: {0: object1, 1: object2}} instead\n   */\n     block_makeSureSetContactPropertyExistsAsArray({commit, state}, {blockId}: { blockId: string}) {\n      const block = findBlock(blockId, state as unknown as IContext)\n      if (block.config?.set_contact_property === undefined) {\n        commit('block_updateConfigByPath', {\n          blockId,\n          path: 'set_contact_property',\n          value: [],\n        })\n      }\n    },\n    /**\n     * Set contact property element on a given index\n     */\n    block_setContactPropertyOnIndex(\n      {commit, state, dispatch},\n      {blockId, index, propertyKey, propertyValue}: { blockId: string, index: number, propertyKey?: string, propertyValue?: string },\n    ) {\n      dispatch('block_makeSureSetContactPropertyExistsAsArray', {blockId})\n\n      commit('block_updateConfigByPath', {\n        blockId,\n        path: `set_contact_property.[${index}]`,\n        value: {\n          property_key: propertyKey,\n          property_value: propertyValue,\n        },\n      })\n    },\n\n    /**\n     * Set contact property element's property_key on a given index\n     */\n    block_setContactPropertyKeyOnIndex(\n      {commit, state, dispatch},\n      {blockId, index, propertyKey}: { blockId: string, index: number, propertyKey?: string },\n    ) {\n      dispatch('block_makeSureSetContactPropertyExistsAsArray', {blockId})\n      commit('block_updateConfigByPath', {\n        blockId,\n        path: `set_contact_property.[${index}].property_key`,\n        value: propertyKey,\n      })\n    },\n\n    /**\n     * Set contact property element's property_value on a given index\n     */\n    block_setContactPropertyValueOnIndex(\n      {commit, state, dispatch},\n      {blockId, index, propertyValue}: { blockId: string, index: number, propertyValue: string },\n    ) {\n      dispatch('block_makeSureSetContactPropertyExistsAsArray', {blockId})\n      commit('block_updateConfigByPath', {\n        blockId,\n        path: `set_contact_property.[${index}].property_value`,\n        value: propertyValue,\n      })\n    },\n\n  block_setContactPropertyByKey({commit, getters}, {blockId, key, value}: ISetContactPropertyBlockKeyWithValue): void {\n    if (getters.block_getContactPropertyValueByKey({blockId, key}) === undefined) {\n      commit('block_addContactProperty', {blockId, key, value})\n    } else {\n      commit('block_changeContactProperty', {blockId, key, value})\n    }\n  },\n\n  block_deleteContactPropertyByKey({commit}, {blockId, key}: ISetContactPropertyBlockKey): void {\n    commit('block_removeContactProperty', {blockId, key})\n  },\n\n  /**\n   * update expression in property_value if a choice is renamed (and if set-contact-property is turned on)\n   */\n  block_updateContactPropertyAfterChoicesChange({state, commit, dispatch}, {blockId}: {blockId: IBlock['uuid']}): void {\n    const block = findBlock(blockId, state as unknown as IContext)\n    const propertyValueMapping = block.vendor_metadata?.floip?.ui_metadata?.set_contact_property?.property_value_mapping\n\n    if (propertyValueMapping !== undefined) {\n      dispatch('block_setContactPropertyValueOnIndex', {\n        blockId,\n        index: 0,\n        propertyValue: choicesToExpression(block.config.choices, propertyValueMapping),\n      })\n    }\n  },\n\n  block_updateContactPropertyMetadataAfterNewChoiceAdded({state, commit, dispatch}, {blockId, prompt}: {blockId: IBlock['uuid'], prompt: IChoice['prompt']}): void {\n    commit('block_updateVendorMetadataByPath', {\n      blockId,\n      path: `floip.ui_metadata.set_contact_property.property_value_mapping.${prompt}`,\n      value: '',\n    })\n  },\n\n  block_resetContactPropertyMetadata({state, commit, dispatch}, {blockId}: {blockId: IBlock['uuid']}): void {\n    const {config: {choices}} = findBlock(blockId, state as unknown as IContext) as ISelectOneResponseBlock\n\n    choices.forEach((choice) => {\n      commit('block_updateVendorMetadataByPath', {\n        blockId,\n        path: `floip.ui_metadata.set_contact_property.property_value_mapping.${choice.prompt}`,\n        value: '',\n      })\n    })\n  },\n}\n","import Vue from 'vue'\nimport {findBlockExitWith, findBlockOnActiveFlowWith, IBlock, IBlockExit, IContext, IFlow} from '@floip/flow-runner'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {cloneDeep, defaults, has, isArray, isNil, last, reject} from 'lodash'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport {OutputBranchingType} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\nimport {BLOCK_TYPE as SelectOneBlockType} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport {BLOCK_TYPE as SelectManyBlockType} from '@/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\nimport {ISelectManyResponseBlock} from '@floip/flow-runner/src/model/block/ISelectManyResponseBlock'\nimport {escapeQuotes} from '@/components/interaction-designer/block-editors/choices/expressionTransformers'\nimport {snakeCaseOnSpaces} from '@/utils/string-utils'\nimport * as SetContactPropertyModule from './block/set-contact-property'\nimport {IFlowsState} from '.'\nimport {\n  ConfigFieldType,\n  removeBlockExitValueByPath,\n  removeBlockValueByPath,\n  updateBlockExitValueByPath,\n  updateBlockValueByPath,\n} from './utils/vuexBlockAndFlowHelpers'\n\nexport const getters: GetterTree<IFlowsState, IRootState> = {\n  ...SetContactPropertyModule.getters,\n\n  // todo: do we do all bocks in all blocks, or all blocks in [!! active flow !!]  ?\n  //       the interesting bit is that resources are _all_ resources... so we could follow suit here? :shrug:\n  // blocksByUuid: ({flows}) => map(resources, 'uuid')\n  block_classesConfig(_state, _getters, rootState): Record<string, object> {\n    return rootState.trees.ui.blockClasses\n  },\n\n  block_shouldHave2Exits: (state, getters) => (blockType: string): boolean => {\n    const blockDefinition = getters.block_classesConfig[blockType]\n    const primaryExitName = blockDefinition?.exits?.primary?.name\n    const defaultExitName = blockDefinition?.exits?.default?.name\n\n    return primaryExitName !== undefined && defaultExitName !== undefined\n  },\n}\n\nexport const mutations: MutationTree<IFlowsState> = {\n  ...SetContactPropertyModule.mutations,\n\n  block_setName(state, {blockId, value}: {blockId: string, value: string}) {\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n      .name = value\n  },\n  block_setLabel(state, {blockId, value}: {blockId: string, value: string | undefined}) {\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n      .label = value\n  },\n  block_setSemanticLabel(state, {blockId, value}: {blockId: string, value: string | undefined}) {\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n      .semantic_label = value\n  },\n  block_setTags(state, {blockId, value}: {blockId: string, value: string[] | undefined}) {\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n      .tags = value\n  },\n  block_addTag(state, {blockId, value}: {blockId: string, value: string}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    if (isArray(block.tags)) {\n      block.tags.push(value)\n    } else {\n      block.tags = [value]\n    }\n  },\n  block_setExitName(state, {exitId, blockId, value}: { exitId: IBlockExit['uuid'], blockId: IBlock['uuid'], value: IBlockExit['name'] }) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    findBlockExitWith(exitId, block).name = value\n  },\n  block_setExitTest(state, {exitId, blockId, value}: { exitId: string, blockId: string, value: IBlockExit['test'] }) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    findBlockExitWith(exitId, block).test = value\n  },\n  block_setExitSemanticLabel(state, {exitId, blockId, value}: { exitId: string, blockId: string, value: string }) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    findBlockExitWith(exitId, block).semantic_label = value\n  },\n  block_addExit(state, {blockId, exit, shouldAppend}: {blockId: string, exit: IBlockExit, shouldAppend?: boolean}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n\n    if (shouldAppend) {\n      block.exits.push(exit)\n    } else {\n      block.exits.splice(block.exits.length - 1, 0, exit)\n    }\n  },\n\n  block_removeExit(state, {blockId, exit}: {blockId: string, exit: IBlockExit}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    block.exits = reject(block.exits, (e) => e.uuid === exit.uuid)\n  },\n  block_updateExitVendorMetadata(state, {blockId, exitId, vendorMetadata}: {blockId: string, exitId: string, vendorMetadata: object}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    const exit = findBlockExitWith(exitId, block)\n    exit.vendor_metadata = vendorMetadata\n  },\n  block_updateExitVendorMetadataByPath(\n    state,\n    {blockId, exitId, path, value}: {blockId: IBlock['uuid'], exitId: IBlockExit['uuid'], path: string, value: ConfigFieldType},\n  ) {\n    updateBlockExitValueByPath(state, blockId, exitId, `vendor_metadata.${path}`, value)\n  },\n  block_removeExitVendorMetadataByPath(\n    state,\n    {blockId, exitId, path}: {blockId: IBlock['uuid'], exitId: IBlockExit['uuid'], path: string},\n  ) {\n    removeBlockExitValueByPath(state, blockId, exitId, `vendor_metadata.${path}`)\n  },\n  block_updateConfig(state, {blockId, newConfig}: { blockId: string, newConfig: object }) {\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n      .config = newConfig\n  },\n  // note that the {key} could be undefined inside `config` at block creation (eg: optional config)\n  block_updateConfigByKey(state, {blockId, key, value}: { blockId: string, key: string, value: ConfigFieldType }) {\n    const currentConfig: { [key: string]: any } = findBlockOnActiveFlowWith(blockId, state as unknown as IContext).config\n    currentConfig[key] = value\n    findBlockOnActiveFlowWith(blockId, state as unknown as IContext).config = {...currentConfig}\n  },\n  block_removeConfigByKey(state, {blockId, key}: { blockId: string, key: string}) {\n    removeBlockValueByPath(state, blockId, `config.${key}`)\n  },\n  /**\n   * update config by path, and make nested assignment reactive for vue\n   */\n  block_updateConfigByPath(state, {blockId, path, value}: {blockId: string, path: string, value: ConfigFieldType}) {\n    updateBlockValueByPath(state, blockId, `config.${path}`, value)\n  },\n  block_updateUIMetadataByPath(state, {blockId, path, value}: {blockId: string, path: string, value: ConfigFieldType}) {\n    const chunks = path.split('.')\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n\n    if (!block.ui_metadata) {\n      Vue.set(block, 'ui_metadata', {})\n    }\n    const base = block.ui_metadata!\n\n    let pointer = base\n    while (chunks.length !== 1) {\n      const name = chunks.shift()!\n\n      if (typeof pointer[name] === 'undefined') {\n        Vue.set(pointer, name, {})\n      }\n      pointer = pointer[name]\n    }\n\n    Vue.set(pointer, chunks[0], value)\n  },\n  block_setBlockExitDestinationBlockId(\n    state,\n    {blockId, exitId, destinationBlockId}: {blockId: string, exitId: string, destinationBlockId: string | undefined | null},\n  ) {\n    if (isNil(destinationBlockId)) {\n      destinationBlockId = undefined\n    }\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    findBlockExitWith(exitId, block)\n      .destination_block = destinationBlockId\n  },\n  block_updateVendorMetadataByPath(\n    state,\n    {blockId, path, value}: {blockId: string, path: string, value: ConfigFieldType},\n  ) {\n    updateBlockValueByPath(state, blockId, `vendor_metadata.${path}`, value)\n  },\n  block_removeVendorMetadataByPath(state, {blockId, path}: { blockId: string, path: string }) {\n    removeBlockValueByPath(state, blockId, `vendor_metadata.${path}`)\n  },\n  block_exitClearDestinationBlockFor(_, {blockExit}) {\n    blockExit.destination_block = undefined\n  },\n}\n\nexport const actions: ActionTree<IFlowsState, IRootState> = {\n  ...SetContactPropertyModule.actions,\n\n  block_setLabel({commit, dispatch}, {blockId, value}: {blockId: string, value: string | undefined}) {\n    commit('block_setLabel', {blockId, value})\n    dispatch('block_setName', {blockId, value: snakeCaseOnSpaces(value as string)})\n  },\n\n  /**\n   * Set block name\n   * @param commit\n   * @param dispatch\n   * @param state\n   * @param blockId\n   * @param value\n   * @param lockAutoUpdate, true if user overrides auto-generated name\n   */\n  block_setName(\n    {commit, dispatch, state},\n    {blockId, value, lockAutoUpdate = false}: {blockId: IBlock['uuid'], value: string, lockAutoUpdate: boolean},\n  ) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n\n    if (block.vendor_metadata?.floip.ui_metadata?.should_auto_update_name === true || lockAutoUpdate) {\n      const oldBlock = cloneDeep(block)\n      commit('block_setName', {blockId, value})\n      const newBlock = cloneDeep(block)\n      dispatch('block_notifyOtherBlocksAboutBlockChange', {oldBlock, newBlock})\n    }\n\n    if (lockAutoUpdate) {\n      commit('block_updateVendorMetadataByPath', {\n        blockId,\n        path: 'floip.ui_metadata.should_auto_update_name',\n        value: false,\n      })\n    }\n  },\n\n  /**\n   * We can use this to update expressions located in other blocks' configs\n   * if they are referencing the modified block, e.g. \"@(flow.myBlockNameThatChanged)\"\n   * @param dispatch\n   * @param rootGetters\n   * @param oldBlock, deep clone of the modified block before the change\n   * @param newBlock, deep clone of the modified block after the change, null if the block was deleted\n   */\n  block_notifyOtherBlocksAboutBlockChange(\n    {dispatch, rootGetters},\n    {oldBlock, newBlock}: {oldBlock: IBlock, newBlock: IBlock | null},\n  ) {\n    return Promise.all(\n      (rootGetters['flow/activeFlow'] as IFlow | undefined)?.blocks.map((blockToNotify: IBlock) =>\n        dispatch(\n          `flow/${blockToNotify.type}/maybeHandleAnotherBlockChange`,\n          {thisBlock: blockToNotify, oldBlock, newBlock},\n          {root: true},\n        )) ?? [],\n    )\n  },\n\n  block_resetName({commit, state}, {blockId}: {blockId: string}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n\n    commit('block_setName', {blockId, value: snakeCaseOnSpaces(block.label)})\n    commit('block_updateVendorMetadataByPath', {\n      blockId,\n      path: 'floip.ui_metadata.should_auto_update_name',\n      value: true,\n    })\n  },\n\n  async block_createBlockDefaultExitWith(\n    {dispatch},\n    {props}: { props: { uuid: string } & Partial<IBlockExit> },\n  ): Promise<IBlockExit> {\n    return dispatch('block_createBlockExitWith', {\n      props: defaults(props, {\n          name: 'Default',\n          default: true,\n          // todo: fix flow-runner's handling of \".test\"-less exits\n          test: '',\n      }),\n    })\n  },\n\n  async block_createBlockExitWith(\n    {dispatch, commit},\n    {props}: { props: { uuid: string } & Partial<IBlockExit> },\n  ): Promise<IBlockExit> {\n    return {\n      ...defaults(props, {\n        name: '',\n        vendor_metadata: {},\n        // prerequisite for reactivity, even optional params\n        destination_block: undefined,\n        test: '',\n        semantic_label: undefined,\n      }),\n    }\n  },\n\n  /**\n   * primaryExitTest has priority over test defined in builder.config.blockClasses\n   * If we have undefined, then we try to use what we defined in builder.config.blockClasses\n   */\n  async block_generateExitsBasedOnUiConfig(\n    {state, dispatch, getters},\n    {blockType, primaryExitTest}: {blockType: string, primaryExitTest?: string},\n  ): Promise<IBlockExit[]> {\n    const blockDefinition = getters.block_classesConfig[blockType]\n    const primaryExitName = blockDefinition?.exits?.primary?.name\n    const defaultExitName = blockDefinition?.exits?.default?.name\n    const defaultBranchingType = blockDefinition?.exits?.default_branching_type\n    let exits: IBlockExit[] = []\n\n    if (defaultBranchingType === undefined && getters.block_shouldHave2Exits(blockType) === true) {\n      // Has 02 exits\n      exits = [\n        await dispatch('block_createBlockExitWith', {\n          props: ({\n            uuid: await (new IdGeneratorUuidV4()).generate(),\n            name: primaryExitName,\n            test: primaryExitTest ?? blockDefinition?.exits?.primary.test,\n          }) as IBlockExit,\n        }),\n        await dispatch('block_createBlockDefaultExitWith', {\n          props: ({\n            uuid: await (new IdGeneratorUuidV4()).generate(),\n            name: defaultExitName,\n          }) as IBlockExit,\n        }),\n      ]\n    } else {\n      // Has only one exit `Default` if\n      // - the default_branching_type is mentioned (eg: EXIT_PER_CHOICE)\n      // - OR the 02 exits are not clearly defined\n      exits = [await dispatch('block_createBlockDefaultExitWith', {\n        props: ({\n          uuid: await (new IdGeneratorUuidV4()).generate(),\n        }) as IBlockExit,\n      })]\n\n      if (![OutputBranchingType.EXIT_PER_CHOICE, OutputBranchingType.ADVANCED, undefined].includes(defaultBranchingType)) {\n        console.warn(\n          'block_generateExitsBasedOnUiConfig',\n          `the default_branching_type ${defaultBranchingType} is not recognized, this might cause an error.`,\n        )\n      }\n    }\n\n    return exits\n  },\n\n  async block_updateBlockExitWith(\n    {commit},\n    {blockId, exitId, props: {test, name, semantic_label}}: { blockId: string, exitId: string, props: Partial<IBlockExit> },\n  ) {\n    // TODO - handle other props apart from test\n    commit('block_setExitName', {blockId, exitId, value: name})\n    commit('block_setExitTest', {blockId, exitId, value: test})\n    commit('block_setExitSemanticLabel', {blockId, exitId, value: semantic_label})\n  },\n\n  /**\n   * Update exits after the block creation.\n   * Standard exit where the end user can make an error. We have 02 exits:\n   * - Non default exits would be collapsed into 01 exit (eg: Valid, Success)\n   * - Default exit would be the last exit (eg: Invalid, Failure)\n   */\n  async block_resetBranchingExitsByCollapsingNonDefault(\n    {state, getters, dispatch},\n    {blockId, primaryExitTest}: {blockId: IBlock['uuid'], primaryExitTest: string},\n  ) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n    const blockDefinition = getters.block_classesConfig[block.type]\n\n    const primaryExitProps: Partial<IBlockExit> = {\n      uuid: await (new IdGeneratorUuidV4()).generate(),\n      name: blockDefinition?.exits?.primary.name,\n      test: primaryExitTest ?? blockDefinition?.exits?.primary.test,\n    }\n\n    block.exits = [\n      await dispatch('block_createBlockExitWith', {props: primaryExitProps}),\n      // the last exit is the Default one, which handles the invalid scenario\n      last(block.exits),\n    ]\n  },\n\n  /**\n   * Update exits after the block creation.\n   * Standard exit mode where the user cant provide invalid response. We have 01 single exit `Default`\n   */\n  async block_resetBranchingExitsToDefaultOnly({state, dispatch}, {blockId}: {blockId: IBlock['uuid']}) {\n    const block = findBlockOnActiveFlowWith(blockId, state as unknown as IContext)\n\n    block.exits = [\n      // the last exit is the Default one\n      last(block.exits) as IBlockExit,\n    ]\n  },\n\n  async block_select({state, dispatch}, {blockId}: { blockId: IBlock['uuid'] }) {\n    state.selectedBlocks.push(blockId)\n  },\n\n  async block_deselect({state}, {blockId}: { blockId: IBlock['uuid'] }) {\n    // remove it\n    state.selectedBlocks = state.selectedBlocks.filter((item) => item !== blockId)\n  },\n\n  block_updateBlocksAfterLanguagesChange(\n    {rootGetters, dispatch, getters},\n    {addedLanguageIds, removedLanguageIds}: { addedLanguageIds: string[], removedLanguageIds: string[] },\n  ): void {\n    if (rootGetters['flow/hasTextMode'] === false) {\n      return\n    }\n    getters.activeFlow.blocks\n      .filter((block: IBlock) => block.type === SelectOneBlockType || block.type === SelectManyBlockType)\n      .forEach((block: ISelectOneResponseBlock | ISelectManyResponseBlock) => {\n        // handle removed languages\n        block.config.choices.forEach(choice => {\n          choice.text_tests = choice.text_tests?.filter(({language}) => language !== undefined && !removedLanguageIds.includes(language))\n        })\n        // handle added languages\n        block.config.choices.forEach(choice => {\n          addedLanguageIds.forEach(langId => {\n            choice.text_tests?.push({\n              language: langId,\n              test_expression: `@block.response = '${escapeQuotes(choice.name)}'`,\n            })\n          })\n        })\n      })\n  },\n}\n\nexport interface IDeepBlockExitIdWithinFlow {\n  blockId: IBlock['uuid'],\n  exitId: IBlockExit['uuid'],\n}\n\n/**\n * Is the block interactive ?\n * Another meaning: will the user get response when interacting with it?\n * @param block\n */\nexport function isBlockInteractive(block: IBlock): boolean {\n  return has(block.config, 'prompt')\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportMatcher.vue?vue&type=style&index=0&id=ed2eb16e&prod&lang=scss&\"","import {ActionContext, ActionTree, GetterTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, getters as baseGetters, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'Core.RunFlow'\n\nconst getters: GetterTree<IEmptyState, IRootState> = {\n  ...baseGetters,\n  otherFlows: (\n    state,\n    _getters,\n    rootState,\n    rootGetters,\n  ): IFlow[] => rootState.flow.flows.filter((flow: IFlow) => flow.uuid !== rootGetters['flow/activeFlow'].uuid),\n}\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async setDestinationFlowId({commit}, {blockId, newDestinationFlowId}: { blockId: string, newDestinationFlowId: string | undefined }) {\n    commit('flow/block_updateConfig', {blockId, newConfig: {flow_id: newDestinationFlowId}}, {root: true})\n    return newDestinationFlowId\n  },\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IBlock> }) {\n    props.type = BLOCK_TYPE\n    props.config = {\n      flow_id: '',\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst Core_RunFlowBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  getters,\n  actions,\n}\n\nexport default Core_RunFlowBlockStore\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMembershipEditor.vue?vue&type=style&index=0&id=0fca282d&prod&lang=css&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./KeypadDigitsSelector.vue?vue&type=style&index=0&id=008079cd&prod&lang=css&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorNotifications.vue?vue&type=style&index=0&id=1bf8eedc&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-set-contact-property-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('contact-property-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlockConfig} from '@floip/flow-runner'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'Core.SetContactProperty'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IBlockConfig> }) {\n    props.type = BLOCK_TYPE\n    props.config = {\n      // Important, set_contact_property should be empty by default, to avoid weird validation behaviour in consumer side\n      set_contact_property: [],\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst Core_SetContactPropertyStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default Core_SetContactPropertyStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport SetContactPropertyStore, {BLOCK_TYPE} from '@/store/flow/block-types/Core_SetContactPropertyStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({})\nexport class Core_SetContactPropertyBlock extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n}\n\nexport default Core_SetContactPropertyBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, SetContactPropertyStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_SetContactPropertyBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_SetContactPropertyBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_SetContactPropertyBlock.vue?vue&type=template&id=6a35a00e&\"\nimport script from \"./Core_SetContactPropertyBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_SetContactPropertyBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable max-len */\n\nimport {IRootState} from '@/store'\nimport {\n  findBlockWith,\n  IBlock,\n  IChoice,\n  IFlow,\n  ILanguage,\n  IResource,\n  ISelectOneResponseBlock,\n  ValidationException,\n} from '@floip/flow-runner'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {deleteChoiceValueByPath} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\nimport {IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\nimport Vue from 'vue'\nimport {choiceToTestExpression} from '@/components/interaction-designer/block-editors/choices/expressionTransformers'\n\nexport const BLOCK_RESPONSE_EXPRESSION = 'block.response'\n\nexport const getters: GetterTree<IEmptyState, IRootState> = {\n  choice_findChoice: (state, getters, rootState, rootGetters) =>\n    /**\n     * Finds a block.config.choices[] by given blockId and prompt.\n     */\n    (blockId: IBlock['uuid'], prompt: IResource['uuid']): IChoice | undefined => {\n      const block: ISelectOneResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n      const resource: IResource = rootGetters['flow/resourcesByUuidOnActiveFlow'][prompt]\n\n      if (resource == null) {\n        throw new ValidationException(`Unable to find resource for choice: ${prompt}`)\n      }\n\n      return block.config.choices.find((choice: IChoice) => choice.prompt === prompt)\n    }\n  ,\n}\n\nexport const mutations: MutationTree<IEmptyState> = {\n  choice_deleteByPath(state, {choice, path}: { choice: IChoice, path: string }) {\n    deleteChoiceValueByPath(state, choice, `${path}`)\n  },\n}\n\nexport const actions: ActionTree<IEmptyState, IRootState> = {\n  choice_create(\n    {rootGetters, dispatch},\n    {blockId, resourceId, value}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string },\n  ) {\n    const block: ISelectOneResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n    const {choices, set_contact_property} = block.config\n\n    dispatch('choice_updateName', {blockId, resourceId, value})\n\n    // Make sure to update the ivr_test expression to provide a default value,\n    // which is associated with using key_press selector by default\n    dispatch('choice_updateIvrTestExpression', {\n      blockId,\n      resourceId,\n      value: `${BLOCK_RESPONSE_EXPRESSION} = '${choices.length < 10\n        ? choices.length\n        : '*'\n      }'`,\n    })\n\n    if (set_contact_property !== undefined && set_contact_property.length > 0) {\n      dispatch('flow/block_updateContactPropertyMetadataAfterNewChoiceAdded', {\n        blockId,\n        prompt: resourceId,\n      }, {root: true})\n    }\n  },\n\n  choice_change(\n    {dispatch},\n    params: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string },\n  ) {\n    dispatch('choice_updateName', params)\n  },\n\n  choice_updateName(\n    {dispatch, getters},\n    {blockId, resourceId, value}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string },\n  ) {\n    const previousName = getters.choice_findChoice(blockId, resourceId)?.name\n\n    dispatch('choice_updateByPath', {\n      blockId,\n      resourceId,\n      path: 'name',\n      value,\n    })\n\n    dispatch('flow/block_updateContactPropertyAfterChoicesChange', {\n      blockId,\n    }, {root: true})\n\n    dispatch('choice_updateFirstSynonymForActiveLanguages', {\n      blockId,\n      resourceId,\n      oldValue: previousName,\n      value,\n    })\n  },\n\n  /**\n   * Replaces ivr_test.test_expression with a given value;\n   * An element of block.config.choices[] is found by blockId and prompt = resourceId.\n   */\n  choice_updateIvrTestExpression(\n    {getters, rootGetters, dispatch},\n    {blockId, resourceId, value}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string },\n  ) {\n    const choice = getters.choice_findChoice(blockId, resourceId)\n    Vue.set(choice, 'ivr_test', {})\n    Vue.set(choice.ivr_test as object, 'test_expression', value)\n  },\n\n  /**\n   * Replaces 1st item of text_tests[] for all languages in a choice.\n   */\n  choice_updateFirstSynonymForActiveLanguages(\n    {getters, rootGetters, dispatch, commit},\n    {blockId, resourceId, value, oldValue}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string, oldValue: string },\n  ) {\n    const flow: IFlow = rootGetters['flow/activeFlow']\n    const languages = flow.languages\n\n    languages.forEach(({id: language}) => {\n      const choice = getters.choice_findChoice(blockId, resourceId) as IChoice\n      const existingValue = choice.text_tests?.find(synonym => synonym.language === language)?.test_expression\n\n      const isNew = existingValue === undefined\n      const hasValueToMatch = oldValue !== undefined\n      const hasMatchingValues = hasValueToMatch && existingValue === choiceToTestExpression(oldValue)\n      const shouldUpdateValue = isNew || !hasValueToMatch || hasMatchingValues\n\n      // Make sure the 1st synonym has not been changed by the user\n      if (shouldUpdateValue) {\n        dispatch('choice_setSynonymForLanguage', {\n          blockId,\n          resourceId,\n          language,\n          index: 0,\n          value,\n        })\n      }\n    })\n  },\n\n  /**\n   * Replaces a synonym by given index for a specific language.\n   *\n   * @param param0 vuex context\n   * @param param1 action parameters\n   * @returns\n   */\n  choice_setSynonymForLanguage(\n    {getters, dispatch},\n    {blockId, resourceId, language, index = Number.POSITIVE_INFINITY, value}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], language: ILanguage['id'], index: number, value: string },\n  ) {\n    const choice = getters.choice_findChoice(blockId, resourceId)\n    const expressionValue = choiceToTestExpression(value)\n\n    if (choice?.text_tests === undefined) {\n      Vue.set(choice, 'text_tests', [])\n    }\n\n    let testIndex = 0\n    let languageIndex = -1\n\n    for (; testIndex < choice.text_tests.length; testIndex += 1) {\n      const text_test = choice.text_tests[testIndex]\n\n      if (text_test.language === language) {\n        languageIndex += 1\n\n        if (languageIndex === index) {\n          dispatch('choice_updateByPath', {\n            blockId,\n            resourceId: choice.prompt,\n            path: `text_tests.[${testIndex}].test_expression`,\n            value: expressionValue,\n          })\n          return\n        }\n      }\n    }\n\n    if (languageIndex < index) {\n      dispatch('choice_updateByPath', {\n        blockId,\n        resourceId: choice.prompt,\n        path: `text_tests.[${choice.text_tests.length}]`,\n        value: {\n          language,\n          test_expression: expressionValue,\n        },\n      })\n    }\n  },\n\n  choice_removeTextTestsExpressionOnIndex(\n    {commit},\n    {choice, testIndex, value}: { choice: IChoice, testIndex: number, value: string },\n  ) {\n    commit('choice_deleteByPath', {\n      choice,\n      path: `text_tests.[${testIndex}]`,\n      value,\n    })\n  },\n\n  choice_updateByPath(\n    {commit, rootGetters},\n    {blockId, resourceId, path, value}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'], path: string, value?: object | string | number | boolean },\n  ) {\n    const block = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n    const choices = block.config.choices\n    const choiceIndex = choices.findIndex((choice: IChoice) => choice.prompt === resourceId)\n\n    commit('flow/block_updateConfigByPath', {\n      blockId,\n      path: `choices.[${choiceIndex}].${path}`,\n      value,\n    }, {root: true})\n  },\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"import-matcher\"},[_c('label',[_vm._v(_vm._s(_vm._f(\"trans\")(_vm.matchNotFoundText)))]),_vm._l((_vm.missingMatches),function(missingMatch){return _c('div',{key:`${_vm.getIdentifier(missingMatch)}-missing`},[_c('div',{staticClass:\"row full-width ml-1 mt-2\"},[_c('div',{staticClass:\"form-check form-check-inline full-width\"},[_c('div',{staticClass:\"col-xl-2 col-md-3\"},[_c('label',{staticClass:\"form-check-label full-width mt-2 mb-2\"},[_vm._v(_vm._s(_vm.getLabel(missingMatch)))])]),_c('div',{staticClass:\"col-xl-8 col-md-6\"},[_c('select',{staticClass:\"form-control full-width\",on:{\"change\":function($event){return _vm.updateMappings(missingMatch, $event)}}},[_c('option',{key:\"default\",attrs:{\"value\":\"\"},domProps:{\"selected\":_vm.mappingsEmpty}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.none-selected'))+\" \")]),_vm._l((_vm.existingOptionsWithoutMatch),function(option){return _c('option',{key:`${_vm.getIdentifier(option)}-option`,domProps:{\"value\":JSON.stringify(option)}},[_vm._v(\" \"+_vm._s(option)+\" \")])})],2)]),_c('div',{staticClass:\"col-xl-2 col-md-3\"},[_c('button',{staticClass:\"btn btn-primary full-width\",on:{\"click\":function($event){return _vm.handleMatch(missingMatch)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.update'))+\" \")])])])]),(_vm.type === 'language' && _vm.isFeatureAddLanguageOnImportEnabled)?_c('div',{staticClass:\"row full-width mt-2\"},[_c('div',{staticClass:\"col-12\"},[_c('language-adder',{on:{\"onLanguageAddition\":_vm.onLanguageAddition}})],1)]):_vm._e()])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport {\n  IContext,\n} from '@floip/flow-runner'\n\nimport Lang from '@/lib/filters/lang'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {get, isEmpty, omit} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Getter, namespace} from 'vuex-class'\n\nconst importVuexNamespace = namespace('flow/import')\n\n@Component({})\nexport class ImportMatcher extends mixins(Lang) {\n  @Prop({default: ''}) readonly matchNotFoundText!: string\n\n  @Prop({required: true}) readonly type!: string\n\n  @Prop({required: true}) readonly typeId!: string\n\n  @Prop({required: true}) readonly typeLabel!: string\n\n  @Prop({required: true}) readonly missingMatches!: any[]\n\n  @Prop({required: true}) readonly existingOptionsWithoutMatch!: any[]\n\n  mappings: { [key: string]: string } = {}\n\n  getLabel(missingMatch: { [key: string]: string }): string {\n    return get(missingMatch, this.typeLabel, '')\n  }\n\n  getIdentifier(missingMatch: { [key: string]: string }): string {\n    return get(missingMatch, this.typeId, '')\n  }\n\n  updateMappings(missingMatch: { [key: string]: string }, event: { target: { value: string } }): void {\n    this.mappings[this.getIdentifier(missingMatch)] = event.target.value\n  }\n\n  get mappingsEmpty(): boolean {\n    return isEmpty(this.mappings)\n  }\n  handleMatch(missingMatch: { [key: string]: string }): void {\n    const matchingJson = get(this.mappings, this.getIdentifier(missingMatch))\n    if (matchingJson) {\n      const newMatch = JSON.parse(matchingJson)\n      this.$emit('reactToMatch', missingMatch, newMatch)\n      this.mappings = omit(this.mappings, this.getIdentifier(missingMatch))\n    }\n  }\n\n  @importVuexNamespace.Action tryToFixLanguages!: (flowContainer: IContext) => Promise<void>\n\n  @Getter isFeatureAddLanguageOnImportEnabled!: boolean\n\n  async onLanguageAddition(): Promise<void> {\n    await this.tryToFixLanguages(this.flowContainer)\n  }\n\n  @importVuexNamespace.State flowContainer!: IContext\n}\n\nexport default ImportMatcher\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportMatcher.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportMatcher.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportMatcher.vue?vue&type=template&id=ed2eb16e&\"\nimport script from \"./ImportMatcher.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportMatcher.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImportMatcher.vue?vue&type=style&index=0&id=ed2eb16e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasSomethingToImport)?_c('div',{staticClass:\"error-handler-v2\"},[_c('div',{staticClass:\"mt-4 ml-4 mr-4 mb-4\"},[_c('h5',[_vm._v(_vm._s(_vm.trans('flow-builder.results')))]),(_vm.isSafeToImport && _vm.hasWarnings)?_c('div',{staticClass:\"alert alert-success mt-3\",attrs:{\"role\":\"alert\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'exclamation-triangle']}}),_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.success-with-warnings'))+\" \")],1):_vm._e(),(_vm.isSafeToImport && !_vm.hasWarnings)?_c('div',{staticClass:\"alert alert-success mt-3\",attrs:{\"role\":\"alert\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'check-circle']}}),_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.import-success'))+\" \")],1):_vm._e(),(!_vm.isSafeToImport)?_c('div',[_c('div',{staticClass:\"alert alert-danger mt-3\",attrs:{\"role\":\"alert\"}},[_c('i',{staticClass:\"glyphicon glyphicon-exclamation-sign\"}),_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.failure'))+\" \")]),_c('h5',[_vm._v(_vm._s(_vm.trans('flow-builder.errors')))]),_c('p',[_vm._v(_vm._s(_vm.trans('flow-builder.please-fix-errors-first')))]),_c('full-import-matcher'),_c('tech-error-notifications',{attrs:{\"validation-errors\":_vm.containerImportValidationTrueErrors,\"error-type\":\"error\"}})],1):_vm._e(),(_vm.hasWarnings)?_c('div',{staticClass:\"mt-4\"},[_c('h5',[_vm._v(_vm._s(_vm.trans('flow-builder.warnings')))]),_c('p',[_vm._v(_vm._s(_vm.trans('flow-builder.warnings-hint-on-import')))]),_c('tech-error-notifications',{attrs:{\"validation-errors\":_vm.containerImportValidationWarningErrors,\"error-type\":\"warning\"}})],1):_vm._e()])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"hasSomethingToImport\" class=\"error-handler-v2\">\n    <div class=\"mt-4 ml-4 mr-4 mb-4\">\n      <h5>{{ trans('flow-builder.results') }}</h5>\n      <div\n        v-if=\"isSafeToImport && hasWarnings\"\n        class=\"alert alert-success mt-3\"\n        role=\"alert\">\n        <font-awesome-icon :icon=\"['fa', 'exclamation-triangle']\" />\n        {{ trans('flow-builder.success-with-warnings') }}\n      </div>\n      <div\n        v-if=\"isSafeToImport && !hasWarnings\"\n        class=\"alert alert-success mt-3\"\n        role=\"alert\">\n        <font-awesome-icon :icon=\"['far', 'check-circle']\" />\n        {{ trans('flow-builder.import-success') }}\n      </div>\n      <div v-if=\"!isSafeToImport\">\n        <div\n          class=\"alert alert-danger mt-3\"\n          role=\"alert\">\n          <i class=\"glyphicon glyphicon-exclamation-sign\" />\n          {{ trans('flow-builder.failure') }}\n        </div>\n\n        <h5>{{ trans('flow-builder.errors') }}</h5>\n        <p>{{ trans('flow-builder.please-fix-errors-first') }}</p>\n        <full-import-matcher />\n        <tech-error-notifications\n          :validation-errors=\"containerImportValidationTrueErrors\"\n          error-type=\"error\"/>\n      </div>\n\n      <div v-if=\"hasWarnings\"\n           class=\"mt-4\">\n        <h5>{{ trans('flow-builder.warnings') }}</h5>\n        <p>{{ trans('flow-builder.warnings-hint-on-import') }}</p>\n        <tech-error-notifications\n          :validation-errors=\"containerImportValidationWarningErrors\"\n          error-type=\"warning\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TechErrorNotifications from '@/components/interaction-designer/flow-editors/import/TechErrorNotifications.vue'\nimport FullImportMatcher from '@/components/interaction-designer/flow-editors/import/FullImportMatcher.vue'\nimport {mapGetters, mapState} from 'vuex'\nimport Lang from '@/lib/filters/lang'\n\nexport default {\n  name: 'ErrorHandlerV2',\n  components: {\n    TechErrorNotifications,\n    FullImportMatcher,\n  },\n  mixins: [Lang],\n  computed: {\n    ...mapState('flow/import', [\n      'missingLanguages',\n      'missingProperties',\n      'missingGroups',\n    ]),\n    ...mapGetters('flow/import', [\n      'hasSomethingToImport',\n      'isSafeToImport',\n      'hasWarnings',\n      'containerImportValidationTrueErrors',\n      'containerImportValidationWarningErrors',\n      'containerImportValidationErrors',\n      'languagesMissing',\n      'propertiesMissing',\n      'groupsMissing',\n    ]),\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorHandlerV2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorHandlerV2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorHandlerV2.vue?vue&type=template&id=6a772eb3&scoped=true&\"\nimport script from \"./ErrorHandlerV2.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorHandlerV2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a772eb3\",\n  null\n  \n)\n\nexport default component.exports","import {IBlock, IContext, IFlow, IResource} from '@floip/flow-runner'\n\nimport {cloneDeep, filter, findIndex, get, isEmpty, isEqual} from 'lodash'\nimport {BLOCK_TYPE as RUN_FLOW_BLOCK_TYPE} from '@/store/flow/block-types/Core_RunFlowBlockStore'\n\nexport function updateResourcesForLanguageMatch(\n  resources: IResource[], oldId: string, newId: string,\n): IResource[] {\n  return resources.map((resource) => {\n    const newResource = cloneDeep(resource)\n    newResource.values = resource.values.map((value) => {\n      const newValue = cloneDeep(value)\n      if (value.language_id === oldId) {\n        newValue.language_id = newId\n      }\n      return newValue\n    })\n    return newResource\n  })\n}\n\n// We shouldn't need any special logic over collisions\n// We just overwrite any existing flows/resources with a given uuid\n// This is because they are uuids\n// We warn this will happen in the importer\n// For now we don't care about flow container uuid collisions\n// ...as we aren't quite sure on the role of flow container yet\nexport function mergeFlowContainer(\n  existingFlowContainer: IContext, newFlowContainer: IContext,\n): IContext {\n  const clonedExistingFlowContainer = cloneDeep(existingFlowContainer)\n\n  const newFlows = newFlowContainer.flows\n\n  newFlows.forEach((newFlow) => {\n    const existingFlowIndex = findIndex(\n      clonedExistingFlowContainer.flows,\n      (flow) => flow.uuid === newFlow.uuid,\n    )\n\n    if (existingFlowIndex < 0) {\n      clonedExistingFlowContainer.flows.push(newFlow)\n    } else {\n      clonedExistingFlowContainer.flows[existingFlowIndex] = newFlow\n    }\n  })\n\n  return clonedExistingFlowContainer\n}\n\nexport function createContainerFlowStack(jsonData: IContext): IFlow['uuid'][] {\n  const flows: IFlow[] = jsonData.flows\n  const visitedFlows: IFlow['uuid'][] = []\n  const flowStack: IFlow['uuid'][] = []\n\n  /*\n  * The recursive function processFlowForCreatingFlowStack takes a flow object as an argument and starts iterating over its blocks. If a block has a type of \"Core.RunFlow,\"\n  * it means that this block is calling another flow,\n  * so the function recursively calls itself with the child flow as an argument.\n  * This ensures that all the nested flows are processed before moving back to the parent flow.\n  *\n  * Once all the nested flows are processed, the parent flow is added to the flowStack array.\n  * */\n  function processFlowForCreatingFlowStack(flow: IFlow): void {\n    visitedFlows.push(flow.uuid)\n    flow.blocks.forEach((block) => {\n      if (block.type === RUN_FLOW_BLOCK_TYPE) {\n        const flowId: string = block.config.flow_id\n        const childFlow: IFlow | undefined = flows.find((f: { uuid: string }) => f.uuid === flowId)\n        if (childFlow && !visitedFlows.includes(childFlow.uuid)) {\n          processFlowForCreatingFlowStack(childFlow)\n        }\n      }\n    })\n    if (!flowStack.includes(flow.uuid)) {\n      flowStack.push(flow.uuid)\n    }\n  }\n\n  flows.forEach((flow) => {\n    if (!visitedFlows.includes(flow.uuid)) {\n      processFlowForCreatingFlowStack(flow)\n    }\n  })\n  return flowStack\n}\nexport function createContainerFlowStackAndReturnLastItem(jsonData: IContext): IFlow['uuid'] {\n  if (isEmpty(jsonData)) {\n      return ''\n  }\n  const flowStack = createContainerFlowStack(jsonData)\n  const lastItem = flowStack.pop()\n  return lastItem ?? ''\n}\n\nexport function checkSingleFlowOnly(flowContainer: IContext): boolean {\n  return get(flowContainer, 'flows', []).length === 1\n}\n\nexport function detectedLanguageChanges(\n  {flowContainer, oldFlowContainer}:\n    { flowContainer: IContext, oldFlowContainer: IContext | null },\n): boolean {\n  return !isEqual(get(flowContainer, 'flows[0].languages'), get(oldFlowContainer, 'flows[0].languages'))\n}\n\nexport function detectedPropertyChanges(\n  {newPropertyBlocks, oldPropertyBlocks}: { newPropertyBlocks: IBlock[], oldPropertyBlocks: IBlock[] },\n): boolean {\n  return !isEqual(newPropertyBlocks, oldPropertyBlocks)\n}\n\nexport function detectedGroupChanges(\n  {newGroupBlocks, oldGroupBlocks}: { newGroupBlocks: IBlock[], oldGroupBlocks: IBlock[] },\n): boolean {\n  return !isEqual(newGroupBlocks, oldGroupBlocks)\n}\n\nexport function getPropertyBlocks(flowContainer: IContext): IBlock[] {\n  return filter(get(flowContainer, 'flows[0].blocks'), (block) => block.type === 'Core.SetContactProperty')\n}\n\nexport function getGroupBlocks(flowContainer: IContext): IBlock[] {\n  return filter(get(flowContainer, 'flows[0].blocks'), (block) => block.type === 'Core.SetGroupMembership')\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoiceMappingModal.vue?vue&type=style&index=0&id=aea19712&prod&lang=scss&scoped=true&\"","import {IBlock} from '@floip/flow-runner'\n\nexport enum OutputBranchingType {\n  UNIFIED = 'UNIFIED',\n  EXIT_PER_CHOICE = 'EXIT_PER_CHOICE',\n  ADVANCED = 'ADVANCED',\n}\n\nexport interface IVendorMetadataWithBranchingType {\n  floip: {\n    ui_metadata: {\n      branching_type: OutputBranchingType,\n    },\n  },\n}\n\nexport interface IBlockWithBranchingType extends IBlock {\n  vendor_metadata: IVendorMetadataWithBranchingType,\n}\n","var map = {\n\t\"./af\": \"65d7\",\n\t\"./af.js\": \"65d7\",\n\t\"./ar\": \"87f4\",\n\t\"./ar-dz\": \"a873\",\n\t\"./ar-dz.js\": \"a873\",\n\t\"./ar-kw\": \"1333\",\n\t\"./ar-kw.js\": \"1333\",\n\t\"./ar-ly\": \"9f58\",\n\t\"./ar-ly.js\": \"9f58\",\n\t\"./ar-ma\": \"2e78\",\n\t\"./ar-ma.js\": \"2e78\",\n\t\"./ar-sa\": \"7727\",\n\t\"./ar-sa.js\": \"7727\",\n\t\"./ar-tn\": \"2c75\",\n\t\"./ar-tn.js\": \"2c75\",\n\t\"./ar.js\": \"87f4\",\n\t\"./az\": \"3f69\",\n\t\"./az.js\": \"3f69\",\n\t\"./be\": \"2e86\",\n\t\"./be.js\": \"2e86\",\n\t\"./bg\": \"f4c3\",\n\t\"./bg.js\": \"f4c3\",\n\t\"./bm\": \"d539\",\n\t\"./bm.js\": \"d539\",\n\t\"./bn\": \"772c\",\n\t\"./bn-bd\": \"7612\",\n\t\"./bn-bd.js\": \"7612\",\n\t\"./bn.js\": \"772c\",\n\t\"./bo\": \"7d2b\",\n\t\"./bo.js\": \"7d2b\",\n\t\"./br\": \"7e42\",\n\t\"./br.js\": \"7e42\",\n\t\"./bs\": \"1841\",\n\t\"./bs.js\": \"1841\",\n\t\"./ca\": \"a615\",\n\t\"./ca.js\": \"a615\",\n\t\"./cs\": \"a78e\",\n\t\"./cs.js\": \"a78e\",\n\t\"./cv\": \"8570\",\n\t\"./cv.js\": \"8570\",\n\t\"./cy\": \"9d4d\",\n\t\"./cy.js\": \"9d4d\",\n\t\"./da\": \"38ba\",\n\t\"./da.js\": \"38ba\",\n\t\"./de\": \"c3fe\",\n\t\"./de-at\": \"9dc2\",\n\t\"./de-at.js\": \"9dc2\",\n\t\"./de-ch\": \"694b1\",\n\t\"./de-ch.js\": \"694b1\",\n\t\"./de.js\": \"c3fe\",\n\t\"./dv\": \"8c17\",\n\t\"./dv.js\": \"8c17\",\n\t\"./el\": \"5c9d\",\n\t\"./el.js\": \"5c9d\",\n\t\"./en-au\": \"7213\",\n\t\"./en-au.js\": \"7213\",\n\t\"./en-ca\": \"09b1\",\n\t\"./en-ca.js\": \"09b1\",\n\t\"./en-gb\": \"a42a\",\n\t\"./en-gb.js\": \"a42a\",\n\t\"./en-ie\": \"8fd4\",\n\t\"./en-ie.js\": \"8fd4\",\n\t\"./en-il\": \"794e\",\n\t\"./en-il.js\": \"794e\",\n\t\"./en-in\": \"e734\",\n\t\"./en-in.js\": \"e734\",\n\t\"./en-nz\": \"6c36\",\n\t\"./en-nz.js\": \"6c36\",\n\t\"./en-sg\": \"939d\",\n\t\"./en-sg.js\": \"939d\",\n\t\"./eo\": \"372d\",\n\t\"./eo.js\": \"372d\",\n\t\"./es\": \"ca85\",\n\t\"./es-do\": \"7a59\",\n\t\"./es-do.js\": \"7a59\",\n\t\"./es-mx\": \"287e\",\n\t\"./es-mx.js\": \"287e\",\n\t\"./es-us\": \"221d\",\n\t\"./es-us.js\": \"221d\",\n\t\"./es.js\": \"ca85\",\n\t\"./et\": \"ac6e\",\n\t\"./et.js\": \"ac6e\",\n\t\"./eu\": \"acd5\",\n\t\"./eu.js\": \"acd5\",\n\t\"./fa\": \"4e16\",\n\t\"./fa.js\": \"4e16\",\n\t\"./fi\": \"2a06\",\n\t\"./fi.js\": \"2a06\",\n\t\"./fil\": \"64ae\",\n\t\"./fil.js\": \"64ae\",\n\t\"./fo\": \"3e12\",\n\t\"./fo.js\": \"3e12\",\n\t\"./fr\": \"0d66\",\n\t\"./fr-ca\": \"0d57\",\n\t\"./fr-ca.js\": \"0d57\",\n\t\"./fr-ch\": \"798e\",\n\t\"./fr-ch.js\": \"798e\",\n\t\"./fr.js\": \"0d66\",\n\t\"./fy\": \"bd4d\",\n\t\"./fy.js\": \"bd4d\",\n\t\"./ga\": \"0ff6\",\n\t\"./ga.js\": \"0ff6\",\n\t\"./gd\": \"c344\",\n\t\"./gd.js\": \"c344\",\n\t\"./gl\": \"7846\",\n\t\"./gl.js\": \"7846\",\n\t\"./gom-deva\": \"e29f\",\n\t\"./gom-deva.js\": \"e29f\",\n\t\"./gom-latn\": \"675b\",\n\t\"./gom-latn.js\": \"675b\",\n\t\"./gu\": \"538c\",\n\t\"./gu.js\": \"538c\",\n\t\"./he\": \"8df8e\",\n\t\"./he.js\": \"8df8e\",\n\t\"./hi\": \"ab57\",\n\t\"./hi.js\": \"ab57\",\n\t\"./hr\": \"807a\",\n\t\"./hr.js\": \"807a\",\n\t\"./hu\": \"3229\",\n\t\"./hu.js\": \"3229\",\n\t\"./hy-am\": \"ac77\",\n\t\"./hy-am.js\": \"ac77\",\n\t\"./id\": \"3500\",\n\t\"./id.js\": \"3500\",\n\t\"./is\": \"2330\",\n\t\"./is.js\": \"2330\",\n\t\"./it\": \"bf52\",\n\t\"./it-ch\": \"42b7\",\n\t\"./it-ch.js\": \"42b7\",\n\t\"./it.js\": \"bf52\",\n\t\"./ja\": \"c022\",\n\t\"./ja.js\": \"c022\",\n\t\"./jv\": \"6ac8\",\n\t\"./jv.js\": \"6ac8\",\n\t\"./ka\": \"56cf\",\n\t\"./ka.js\": \"56cf\",\n\t\"./kk\": \"6da0\",\n\t\"./kk.js\": \"6da0\",\n\t\"./km\": \"b5aa\",\n\t\"./km.js\": \"b5aa\",\n\t\"./kn\": \"bf53\",\n\t\"./kn.js\": \"bf53\",\n\t\"./ko\": \"315f\",\n\t\"./ko.js\": \"315f\",\n\t\"./ku\": \"09db\",\n\t\"./ku.js\": \"09db\",\n\t\"./ky\": \"bffd\",\n\t\"./ky.js\": \"bffd\",\n\t\"./lb\": \"c666\",\n\t\"./lb.js\": \"c666\",\n\t\"./lo\": \"0139\",\n\t\"./lo.js\": \"0139\",\n\t\"./lt\": \"57a4\",\n\t\"./lt.js\": \"57a4\",\n\t\"./lv\": \"4fdf\",\n\t\"./lv.js\": \"4fdf\",\n\t\"./me\": \"d087\",\n\t\"./me.js\": \"d087\",\n\t\"./mi\": \"bff4\",\n\t\"./mi.js\": \"bff4\",\n\t\"./mk\": \"7cff\",\n\t\"./mk.js\": \"7cff\",\n\t\"./ml\": \"cfd2\",\n\t\"./ml.js\": \"cfd2\",\n\t\"./mn\": \"d49a\",\n\t\"./mn.js\": \"d49a\",\n\t\"./mr\": \"afba\",\n\t\"./mr.js\": \"afba\",\n\t\"./ms\": \"ba94\",\n\t\"./ms-my\": \"80d2\",\n\t\"./ms-my.js\": \"80d2\",\n\t\"./ms.js\": \"ba94\",\n\t\"./mt\": \"236f\",\n\t\"./mt.js\": \"236f\",\n\t\"./my\": \"ceaa\",\n\t\"./my.js\": \"ceaa\",\n\t\"./nb\": \"cf62\",\n\t\"./nb.js\": \"cf62\",\n\t\"./ne\": \"6c11\",\n\t\"./ne.js\": \"6c11\",\n\t\"./nl\": \"8538\",\n\t\"./nl-be\": \"18aa\",\n\t\"./nl-be.js\": \"18aa\",\n\t\"./nl.js\": \"8538\",\n\t\"./nn\": \"5687\",\n\t\"./nn.js\": \"5687\",\n\t\"./oc-lnc\": \"7f9f\",\n\t\"./oc-lnc.js\": \"7f9f\",\n\t\"./pa-in\": \"f112\",\n\t\"./pa-in.js\": \"f112\",\n\t\"./pl\": \"a865\",\n\t\"./pl.js\": \"a865\",\n\t\"./pt\": \"3005\",\n\t\"./pt-br\": \"d705\",\n\t\"./pt-br.js\": \"d705\",\n\t\"./pt.js\": \"3005\",\n\t\"./ro\": \"c354\",\n\t\"./ro.js\": \"c354\",\n\t\"./ru\": \"b6f4\",\n\t\"./ru.js\": \"b6f4\",\n\t\"./sd\": \"6c64\",\n\t\"./sd.js\": \"6c64\",\n\t\"./se\": \"c2cd\",\n\t\"./se.js\": \"c2cd\",\n\t\"./si\": \"9a0c\",\n\t\"./si.js\": \"9a0c\",\n\t\"./sk\": \"91fd\",\n\t\"./sk.js\": \"91fd\",\n\t\"./sl\": \"800b\",\n\t\"./sl.js\": \"800b\",\n\t\"./sq\": \"8fc8\",\n\t\"./sq.js\": \"8fc8\",\n\t\"./sr\": \"58f6\",\n\t\"./sr-cyrl\": \"7fa6\",\n\t\"./sr-cyrl.js\": \"7fa6\",\n\t\"./sr.js\": \"58f6\",\n\t\"./ss\": \"ab05\",\n\t\"./ss.js\": \"ab05\",\n\t\"./sv\": \"489a\",\n\t\"./sv.js\": \"489a\",\n\t\"./sw\": \"f683\",\n\t\"./sw.js\": \"f683\",\n\t\"./ta\": \"30c0\",\n\t\"./ta.js\": \"30c0\",\n\t\"./te\": \"29e8\",\n\t\"./te.js\": \"29e8\",\n\t\"./tet\": \"80b7\",\n\t\"./tet.js\": \"80b7\",\n\t\"./tg\": \"9e71\",\n\t\"./tg.js\": \"9e71\",\n\t\"./th\": \"8575\",\n\t\"./th.js\": \"8575\",\n\t\"./tk\": \"929d\",\n\t\"./tk.js\": \"929d\",\n\t\"./tl-ph\": \"2935\",\n\t\"./tl-ph.js\": \"2935\",\n\t\"./tlh\": \"c80c\",\n\t\"./tlh.js\": \"c80c\",\n\t\"./tr\": \"6fa0\",\n\t\"./tr.js\": \"6fa0\",\n\t\"./tzl\": \"81a8\",\n\t\"./tzl.js\": \"81a8\",\n\t\"./tzm\": \"a30f\",\n\t\"./tzm-latn\": \"083a\",\n\t\"./tzm-latn.js\": \"083a\",\n\t\"./tzm.js\": \"a30f\",\n\t\"./ug-cn\": \"7994\",\n\t\"./ug-cn.js\": \"7994\",\n\t\"./uk\": \"660b\",\n\t\"./uk.js\": \"660b\",\n\t\"./ur\": \"a63f\",\n\t\"./ur.js\": \"a63f\",\n\t\"./uz\": \"62bb\",\n\t\"./uz-latn\": \"4b8a\",\n\t\"./uz-latn.js\": \"4b8a\",\n\t\"./uz.js\": \"62bb\",\n\t\"./vi\": \"0521\",\n\t\"./vi.js\": \"0521\",\n\t\"./x-pseudo\": \"b73e\",\n\t\"./x-pseudo.js\": \"b73e\",\n\t\"./yo\": \"f86c\",\n\t\"./yo.js\": \"f86c\",\n\t\"./zh-cn\": \"1f75\",\n\t\"./zh-cn.js\": \"1f75\",\n\t\"./zh-hk\": \"379a\",\n\t\"./zh-hk.js\": \"379a\",\n\t\"./zh-mo\": \"eee5\",\n\t\"./zh-mo.js\": \"eee5\",\n\t\"./zh-tw\": \"c840\",\n\t\"./zh-tw.js\": \"c840\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"a925\";","var map = {\n\t\"./af\": \"8872\",\n\t\"./af.js\": \"8872\",\n\t\"./ar\": \"bb32\",\n\t\"./ar-dz\": \"f38b\",\n\t\"./ar-dz.js\": \"f38b\",\n\t\"./ar-kw\": \"8a87\",\n\t\"./ar-kw.js\": \"8a87\",\n\t\"./ar-ly\": \"119f\",\n\t\"./ar-ly.js\": \"119f\",\n\t\"./ar-ma\": \"de6a\",\n\t\"./ar-ma.js\": \"de6a\",\n\t\"./ar-sa\": \"ab35\",\n\t\"./ar-sa.js\": \"ab35\",\n\t\"./ar-tn\": \"7068\",\n\t\"./ar-tn.js\": \"7068\",\n\t\"./ar.js\": \"bb32\",\n\t\"./az\": \"32c8\",\n\t\"./az.js\": \"32c8\",\n\t\"./be\": \"a569\",\n\t\"./be.js\": \"a569\",\n\t\"./bg\": \"911b\",\n\t\"./bg.js\": \"911b\",\n\t\"./bm\": \"cade\",\n\t\"./bm.js\": \"cade\",\n\t\"./bn\": \"b059\",\n\t\"./bn-bd\": \"60a6\",\n\t\"./bn-bd.js\": \"60a6\",\n\t\"./bn.js\": \"b059\",\n\t\"./bo\": \"0b7e\",\n\t\"./bo.js\": \"0b7e\",\n\t\"./br\": \"7beb\",\n\t\"./br.js\": \"7beb\",\n\t\"./bs\": \"44a7\",\n\t\"./bs.js\": \"44a7\",\n\t\"./ca\": \"5978\",\n\t\"./ca.js\": \"5978\",\n\t\"./cs\": \"3e30\",\n\t\"./cs.js\": \"3e30\",\n\t\"./cv\": \"90d4\",\n\t\"./cv.js\": \"90d4\",\n\t\"./cy\": \"893a\",\n\t\"./cy.js\": \"893a\",\n\t\"./da\": \"673f\",\n\t\"./da.js\": \"673f\",\n\t\"./de\": \"745c\",\n\t\"./de-at\": \"beab\",\n\t\"./de-at.js\": \"beab\",\n\t\"./de-ch\": \"5939\",\n\t\"./de-ch.js\": \"5939\",\n\t\"./de.js\": \"745c\",\n\t\"./dv\": \"4da0\",\n\t\"./dv.js\": \"4da0\",\n\t\"./el\": \"6f8c\",\n\t\"./el.js\": \"6f8c\",\n\t\"./en-au\": \"8a25\",\n\t\"./en-au.js\": \"8a25\",\n\t\"./en-ca\": \"2e5f\",\n\t\"./en-ca.js\": \"2e5f\",\n\t\"./en-gb\": \"0787\",\n\t\"./en-gb.js\": \"0787\",\n\t\"./en-ie\": \"a30f3\",\n\t\"./en-ie.js\": \"a30f3\",\n\t\"./en-il\": \"45c0\",\n\t\"./en-il.js\": \"45c0\",\n\t\"./en-in\": \"3c1e\",\n\t\"./en-in.js\": \"3c1e\",\n\t\"./en-nz\": \"ff2e\",\n\t\"./en-nz.js\": \"ff2e\",\n\t\"./en-sg\": \"f14d\",\n\t\"./en-sg.js\": \"f14d\",\n\t\"./eo\": \"69bc\",\n\t\"./eo.js\": \"69bc\",\n\t\"./es\": \"f88f\",\n\t\"./es-do\": \"66dc\",\n\t\"./es-do.js\": \"66dc\",\n\t\"./es-mx\": \"10af\",\n\t\"./es-mx.js\": \"10af\",\n\t\"./es-us\": \"e89d\",\n\t\"./es-us.js\": \"e89d\",\n\t\"./es.js\": \"f88f\",\n\t\"./et\": \"71be\",\n\t\"./et.js\": \"71be\",\n\t\"./eu\": \"7780\",\n\t\"./eu.js\": \"7780\",\n\t\"./fa\": \"0b63\",\n\t\"./fa.js\": \"0b63\",\n\t\"./fi\": \"a33d\",\n\t\"./fi.js\": \"a33d\",\n\t\"./fil\": \"3dbd\",\n\t\"./fil.js\": \"3dbd\",\n\t\"./fo\": \"fc63\",\n\t\"./fo.js\": \"fc63\",\n\t\"./fr\": \"9a51\",\n\t\"./fr-ca\": \"cda8\",\n\t\"./fr-ca.js\": \"cda8\",\n\t\"./fr-ch\": \"4a7d\",\n\t\"./fr-ch.js\": \"4a7d\",\n\t\"./fr.js\": \"9a51\",\n\t\"./fy\": \"854a\",\n\t\"./fy.js\": \"854a\",\n\t\"./ga\": \"4489\",\n\t\"./ga.js\": \"4489\",\n\t\"./gd\": \"c0d5\",\n\t\"./gd.js\": \"c0d5\",\n\t\"./gl\": \"4530\",\n\t\"./gl.js\": \"4530\",\n\t\"./gom-deva\": \"8967\",\n\t\"./gom-deva.js\": \"8967\",\n\t\"./gom-latn\": \"2ef4\",\n\t\"./gom-latn.js\": \"2ef4\",\n\t\"./gu\": \"cbd2\",\n\t\"./gu.js\": \"cbd2\",\n\t\"./he\": \"c2f9\",\n\t\"./he.js\": \"c2f9\",\n\t\"./hi\": \"77fe\",\n\t\"./hi.js\": \"77fe\",\n\t\"./hr\": \"a34a\",\n\t\"./hr.js\": \"a34a\",\n\t\"./hu\": \"8d44\",\n\t\"./hu.js\": \"8d44\",\n\t\"./hy-am\": \"c920\",\n\t\"./hy-am.js\": \"c920\",\n\t\"./id\": \"4197\",\n\t\"./id.js\": \"4197\",\n\t\"./is\": \"540c\",\n\t\"./is.js\": \"540c\",\n\t\"./it\": \"2f58\",\n\t\"./it-ch\": \"a347\",\n\t\"./it-ch.js\": \"a347\",\n\t\"./it.js\": \"2f58\",\n\t\"./ja\": \"f6f6\",\n\t\"./ja.js\": \"f6f6\",\n\t\"./jv\": \"99f1\",\n\t\"./jv.js\": \"99f1\",\n\t\"./ka\": \"60e4\",\n\t\"./ka.js\": \"60e4\",\n\t\"./kk\": \"17f2\",\n\t\"./kk.js\": \"17f2\",\n\t\"./km\": \"ec19\",\n\t\"./km.js\": \"ec19\",\n\t\"./kn\": \"2216\",\n\t\"./kn.js\": \"2216\",\n\t\"./ko\": \"dba2\",\n\t\"./ko.js\": \"dba2\",\n\t\"./ku\": \"917e\",\n\t\"./ku.js\": \"917e\",\n\t\"./ky\": \"3ad1\",\n\t\"./ky.js\": \"3ad1\",\n\t\"./lb\": \"cb9a\",\n\t\"./lb.js\": \"cb9a\",\n\t\"./lo\": \"786a\",\n\t\"./lo.js\": \"786a\",\n\t\"./lt\": \"0eeb\",\n\t\"./lt.js\": \"0eeb\",\n\t\"./lv\": \"0716\",\n\t\"./lv.js\": \"0716\",\n\t\"./me\": \"325a\",\n\t\"./me.js\": \"325a\",\n\t\"./mi\": \"7732\",\n\t\"./mi.js\": \"7732\",\n\t\"./mk\": \"2fde\",\n\t\"./mk.js\": \"2fde\",\n\t\"./ml\": \"9991\",\n\t\"./ml.js\": \"9991\",\n\t\"./mn\": \"fb02\",\n\t\"./mn.js\": \"fb02\",\n\t\"./mr\": \"623d\",\n\t\"./mr.js\": \"623d\",\n\t\"./ms\": \"a904\",\n\t\"./ms-my\": \"d801\",\n\t\"./ms-my.js\": \"d801\",\n\t\"./ms.js\": \"a904\",\n\t\"./mt\": \"ddbe\",\n\t\"./mt.js\": \"ddbe\",\n\t\"./my\": \"c740\",\n\t\"./my.js\": \"c740\",\n\t\"./nb\": \"8196\",\n\t\"./nb.js\": \"8196\",\n\t\"./ne\": \"1f2a\",\n\t\"./ne.js\": \"1f2a\",\n\t\"./nl\": \"e056\",\n\t\"./nl-be\": \"325b\",\n\t\"./nl-be.js\": \"325b\",\n\t\"./nl.js\": \"e056\",\n\t\"./nn\": \"b7b0\",\n\t\"./nn.js\": \"b7b0\",\n\t\"./oc-lnc\": \"57c8\",\n\t\"./oc-lnc.js\": \"57c8\",\n\t\"./pa-in\": \"99c7\",\n\t\"./pa-in.js\": \"99c7\",\n\t\"./pl\": \"5919\",\n\t\"./pl.js\": \"5919\",\n\t\"./pt\": \"d9ae\",\n\t\"./pt-br\": \"d851\",\n\t\"./pt-br.js\": \"d851\",\n\t\"./pt.js\": \"d9ae\",\n\t\"./ro\": \"ce90\",\n\t\"./ro.js\": \"ce90\",\n\t\"./ru\": \"87a5\",\n\t\"./ru.js\": \"87a5\",\n\t\"./sd\": \"235c\",\n\t\"./sd.js\": \"235c\",\n\t\"./se\": \"839b\",\n\t\"./se.js\": \"839b\",\n\t\"./si\": \"2dd2\",\n\t\"./si.js\": \"2dd2\",\n\t\"./sk\": \"8cd8\",\n\t\"./sk.js\": \"8cd8\",\n\t\"./sl\": \"2a76\",\n\t\"./sl.js\": \"2a76\",\n\t\"./sq\": \"4a4d\",\n\t\"./sq.js\": \"4a4d\",\n\t\"./sr\": \"1632\",\n\t\"./sr-cyrl\": \"73fd\",\n\t\"./sr-cyrl.js\": \"73fd\",\n\t\"./sr.js\": \"1632\",\n\t\"./ss\": \"052a\",\n\t\"./ss.js\": \"052a\",\n\t\"./sv\": \"cb84\",\n\t\"./sv.js\": \"cb84\",\n\t\"./sw\": \"b126\",\n\t\"./sw.js\": \"b126\",\n\t\"./ta\": \"f946\",\n\t\"./ta.js\": \"f946\",\n\t\"./te\": \"399d\",\n\t\"./te.js\": \"399d\",\n\t\"./tet\": \"8d77\",\n\t\"./tet.js\": \"8d77\",\n\t\"./tg\": \"6588\",\n\t\"./tg.js\": \"6588\",\n\t\"./th\": \"462a\",\n\t\"./th.js\": \"462a\",\n\t\"./tk\": \"7d6b\",\n\t\"./tk.js\": \"7d6b\",\n\t\"./tl-ph\": \"27ff\",\n\t\"./tl-ph.js\": \"27ff\",\n\t\"./tlh\": \"1239\",\n\t\"./tlh.js\": \"1239\",\n\t\"./tr\": \"09a0\",\n\t\"./tr.js\": \"09a0\",\n\t\"./tzl\": \"e9ca\",\n\t\"./tzl.js\": \"e9ca\",\n\t\"./tzm\": \"d954\",\n\t\"./tzm-latn\": \"e577\",\n\t\"./tzm-latn.js\": \"e577\",\n\t\"./tzm.js\": \"d954\",\n\t\"./ug-cn\": \"5756\",\n\t\"./ug-cn.js\": \"5756\",\n\t\"./uk\": \"7c79\",\n\t\"./uk.js\": \"7c79\",\n\t\"./ur\": \"fb86\",\n\t\"./ur.js\": \"fb86\",\n\t\"./uz\": \"e487\",\n\t\"./uz-latn\": \"251a\",\n\t\"./uz-latn.js\": \"251a\",\n\t\"./uz.js\": \"e487\",\n\t\"./vi\": \"9681\",\n\t\"./vi.js\": \"9681\",\n\t\"./x-pseudo\": \"8e0c\",\n\t\"./x-pseudo.js\": \"8e0c\",\n\t\"./yo\": \"5cf8\",\n\t\"./yo.js\": \"5cf8\",\n\t\"./zh-cn\": \"96ae\",\n\t\"./zh-cn.js\": \"96ae\",\n\t\"./zh-hk\": \"7e5c\",\n\t\"./zh-hk.js\": \"7e5c\",\n\t\"./zh-mo\": \"eb4b\",\n\t\"./zh-mo.js\": \"eb4b\",\n\t\"./zh-tw\": \"623f\",\n\t\"./zh-tw.js\": \"623f\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"ab96\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockErrorsExpandable.vue?vue&type=style&index=0&id=2809301f&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"in-progress-action\"},[_c('font-awesome-icon',{staticClass:\"fa-btn fa-spin\",attrs:{\"icon\":['fas', 'spinner']}}),_vm._v(\" \"+_vm._s(_vm.textContent)+\" \")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"in-progress-action\">\n    <font-awesome-icon\n      :icon=\"['fas', 'spinner']\"\n      class=\"fa-btn fa-spin\" />\n    {{textContent}}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'InProgressAction',\n  props: {\n    textContent: {\n      type: String,\n      required: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InProgressAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InProgressAction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InProgressAction.vue?vue&type=template&id=146933a4&\"\nimport script from \"./InProgressAction.vue?vue&type=script&lang=js&\"\nexport * from \"./InProgressAction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {filter, flatMap, isEqual, keyBy, map, mapValues, union, reject} from 'lodash'\nimport Vue from 'vue'\nimport {ActionTree, GetterTree, Module, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock, IBlockExit, IBlockUIMetadataCanvasCoordinates, IContext, ValidationException} from '@floip/flow-runner'\nimport {IDeepBlockExitIdWithinFlow} from '@/store/flow/block'\nimport {routeFrom} from '@/lib/mixins/Routes'\nimport InProgressAction from '@/components/notification/InProgressAction.vue'\nimport Lang from '@/lib/filters/lang'\n\n// The \"Saving\" text flashes too quickly w/o actual backend interaction\nexport const SAVING_ANIMATION_DURATION = 1000\n\n// todo migrate these to flight-monitor\nexport enum OperationKind {\n  CONNECTION_CREATE = 'CONNECTION_CREATE',\n  // todo: we can now skip updating vuex on-the-fly and rather await a drop\n  BLOCK_RELOCATE = 'BLOCK_RELOCATE',\n}\n\nexport interface IConnectionCreateOperation {\n  kind: OperationKind.CONNECTION_CREATE,\n  data: null | {\n    source: IDeepBlockExitIdWithinFlow,\n    // todo: rename to startingPosition\n    position: IPosition,\n    targetId: IBlock['uuid'] | null,\n  },\n}\n\nexport interface IConnectionContext {\n  sourceId: IBlock['uuid'],\n  targetId: IBlock['uuid'],\n  exitId: IBlockExit['uuid'],\n}\n\nexport type SupportedOperation = IConnectionCreateOperation\n\nexport interface IPosition {\n  x: number,\n  y: number,\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Draggable = any\n\nexport interface IBuilderState {\n  activeBlockId: IBlock['uuid'] | null,\n  isEditable: boolean,\n  activeMainComponent?: string,\n  hasFlowChanges: boolean,\n  activeConnectionsContext: IConnectionContext[],\n  operations: {\n    [OperationKind.CONNECTION_CREATE]: IConnectionCreateOperation,\n    [OperationKind.BLOCK_RELOCATE]: null,\n  },\n  //this will be populated when we drag an exit\n  draggableForExitsByUuid: Record<string, Draggable>,\n  isBlockEditorOpen: boolean,\n  interactionDesignerHeaderBoundingClientRect: DOMRect,\n  isConnectionCreationInProgress: boolean,\n}\n\nexport const stateFactory = (): IBuilderState => ({\n  activeBlockId: null,\n  isEditable: true,\n  activeMainComponent: undefined,\n  hasFlowChanges: false,\n  activeConnectionsContext: [],\n  operations: {\n    [OperationKind.CONNECTION_CREATE]: {\n      kind: OperationKind.CONNECTION_CREATE,\n      data: null,\n    },\n    [OperationKind.BLOCK_RELOCATE]: null,\n  },\n  draggableForExitsByUuid: {},\n  isBlockEditorOpen: false,\n  interactionDesignerHeaderBoundingClientRect: {} as DOMRect,\n  isConnectionCreationInProgress: false,\n})\n\nexport type ConnectionLayout = any[]\n\nexport const getters: GetterTree<IBuilderState, IRootState> = {\n  activeBlock: ({activeBlockId}, {blocksById}) => (activeBlockId ? blocksById[activeBlockId] : null),\n\n  blocksById: (_state, _getters, _rootState, rootGetters) => {\n    const {blocks} = rootGetters['flow/activeFlow'] ? rootGetters['flow/activeFlow'] : {blocks: []}\n    return keyBy(blocks, 'uuid')\n  },\n\n  nodeLabelsById: (_state, _getters, {flow: {flows}}) => mapValues(keyBy(flows[0].blocks, 'uuid'), 'label'),\n\n  exitLabelsById: (_state, _getters, {flow: {flows}}) => mapValues(keyBy(flatMap(flows[0].blocks, 'exits'), 'uuid'), 'label'),\n\n  isEditable: (state) => state.isEditable,\n\n  hasFlowChanges: (state) => state.hasFlowChanges,\n\n  interactionDesignerHeaderBoundingClientRect: (state) => state.interactionDesignerHeaderBoundingClientRect,\n\n  isBuilderCanvasEnabled: (state) => state.activeMainComponent === 'builder',\n\n  isResourceViewerCanvasEnabled: (state) => state.activeMainComponent === 'resource-viewer',\n}\n\nexport const mutations: MutationTree<IBuilderState> = {\n  resetBuilderState(state, builderState) {\n    Object.assign(state, builderState)\n  },\n  activateBlock(state, {blockId}: { blockId: IBlock['uuid'] | null }) {\n    state.activeBlockId = blockId\n\n    // simulate engaging with specified block\n    // FlowRunner.prototype.navigateTo(block, state as unknown as IContext)\n  },\n\n  activateConnection(state, {connectionContext}) {\n    state.activeConnectionsContext = union([connectionContext], state.activeConnectionsContext)\n  },\n\n  setActiveMainComponent(state, {mainComponent}: {mainComponent: string | undefined}) {\n    state.activeMainComponent = mainComponent\n  },\n\n  deactivateConnection(state, {connectionContext}) {\n    state.activeConnectionsContext = filter(state.activeConnectionsContext, (context) => context !== connectionContext)\n  },\n\n  deactivateConnectionFromExitUuid(state, {exitUuid}: {exitUuid: IBlockExit['uuid']}) {\n    state.activeConnectionsContext = reject(state.activeConnectionsContext, (context) => context.exitId === exitUuid)\n  },\n\n  setIsConnectionCreationInProgress(state, {value}: {value: boolean}) {\n    state.isConnectionCreationInProgress = value\n  },\n\n  setOperation({operations}, {operation}: { operation: SupportedOperation }) {\n    operations[operation.kind] = operation\n  },\n\n  setIsEditable(state, value) {\n    state.isEditable = value\n  },\n\n  setHasFlowChanges(state, value) {\n    state.hasFlowChanges = value\n  },\n\n  initDraggableForExitsByUuid(state) {\n    state.draggableForExitsByUuid = {}\n  },\n\n  setIsBlockEditorOpen(state, value) {\n    state.isBlockEditorOpen = value\n  },\n\n  setInteractionDesignerHeaderBoundingClientRect(state, value) {\n    state.interactionDesignerHeaderBoundingClientRect = value\n  },\n}\n\nexport const actions: ActionTree<IBuilderState, IRootState> = {\n  removeConnectionFrom({commit}, {block: {uuid: blockId}, exit: {uuid: exitId}}) {\n    commit('flow/block_setBlockExitDestinationBlockId', {\n      blockId,\n      exitId,\n      destinationBlockId: undefined,\n    }, {root: true})\n  },\n\n  // @note: multiple connections can lead to same node, so it doesn't make sense to do a swap here; we'll be \"appending\"\n  // when moving connection target: setExitDestination(exitId, destinationId)\n\n  // todo: do operations warrant their own store? Maybe a generic store that handles a common behaviour\n  /// ////////////////////////////////////////////////////////////////////////////////////////////////\n  // [OperationKind.CONNECTION_CREATE] //////////////////////////////////////////////////////////////\n  /// ////////////////////////////////////////////////////////////////////////////////////////////////\n\n  initializeConnectionCreateWith({commit}, {\n    block: {uuid: blockId},\n    exit: {uuid: exitId},\n    position,\n  }) {\n    if (!blockId || !exitId) {\n      throw new ValidationException(`Unable to create connection without source: ${JSON.stringify({blockId, exitId})}`)\n    }\n\n    const operation: IConnectionCreateOperation = {\n      kind: OperationKind.CONNECTION_CREATE,\n      data: {source: {blockId, exitId}, position, targetId: null},\n    }\n\n    // this would be a flight-monitor create(key)\n\n    commit('setOperation', {operation})\n  },\n\n  setConnectionCreateTargetBlock({commit, state}, {block}) {\n    const {data} = state.operations[OperationKind.CONNECTION_CREATE]\n    if (!data) {\n      throw new ValidationException(`Unable to modify uninitialized operation: ${JSON.stringify(data)}`)\n    }\n\n    const {source, position} = data\n    const operation: IConnectionCreateOperation = {\n      kind: OperationKind.CONNECTION_CREATE,\n      data: {source, position, targetId: block.uuid},\n    }\n\n    commit('setOperation', {operation})\n  },\n\n  setConnectionCreateTargetBlockToNullFrom({commit, state}, {block}) {\n    const {data} = state.operations[OperationKind.CONNECTION_CREATE]\n    if (!data) {\n      throw new ValidationException(`Unable to modify uninitialized operation: ${JSON.stringify(data)}`)\n    }\n\n    const {source, targetId, position} = data\n    if (!isEqual(targetId, block.uuid)) {\n      throw new ValidationException('Unable to nullify exit relocation from different exit.')\n    }\n\n    const operation: IConnectionCreateOperation = {\n      kind: OperationKind.CONNECTION_CREATE,\n      data: {source, position, targetId: null},\n    }\n\n    commit('setOperation', {operation})\n  },\n\n  applyConnectionCreate({commit, state: {operations}}) {\n    const {data} = operations[OperationKind.CONNECTION_CREATE]\n    if (!data) {\n      throw new ValidationException(`Unable to complete uninitialized operation: ${JSON.stringify(data)}`)\n    }\n\n    const {\n      source: {blockId, exitId},\n      targetId: destinationBlockId,\n    } = data\n\n    commit('flow/block_setBlockExitDestinationBlockId', {blockId, exitId, destinationBlockId}, {root: true})\n\n    const operation: IConnectionCreateOperation = {kind: OperationKind.CONNECTION_CREATE, data: null}\n    commit('setOperation', {operation})\n  },\n\n  setIsEditable({commit}, value) {\n    const boolVal = Boolean(value)\n    commit('setIsEditable', boolVal)\n  },\n\n  setHasFlowChanges({commit}, value) {\n    commit('setHasFlowChanges', Boolean(value))\n  },\n\n  /**\n   * Persist flow and notify user with notifications, update needed UIs if needed\n   */\n  async persistFlowAndHandleUiState({dispatch, commit, state, rootGetters, rootState}): Promise<IContext | undefined> {\n    // Do not save if features not enabled or edit is not allowed\n    if (rootGetters.isFeatureTreeSaveEnabled === false || state.isEditable === false) {\n      console.debug('skipping persistFlowAndHandleUiState')\n      return undefined\n    }\n\n    commit('setTreeSaving', true, {root: true})\n    commit('setIsEditable', false)\n    const inProgress = Vue.$toast.info({\n      component: InProgressAction,\n      props: {\n        textContent: Lang.trans('flow-builder.saving-flow'),\n      },\n    }, {\n      closeButton: false,\n    })\n\n    const persistFlowAndReturnNewContainer: IContext | null = await dispatch('flow/flow_persist', {\n      persistRoute: routeFrom('flows.persistFlow', {}, rootState.trees.ui.routes),\n      flowContainer: rootGetters['flow/activeFlowContainer'],\n    }, {root: true})\n\n    const keepAnimatingIfPersistWasTooFast = new Promise(resolve => setTimeout(resolve, SAVING_ANIMATION_DURATION))\n\n    const [newFlowContainer] = await Promise.all([\n      persistFlowAndReturnNewContainer,\n      keepAnimatingIfPersistWasTooFast,\n    ])\n\n    if (newFlowContainer === null || newFlowContainer === undefined) {\n      // A console error was logged in the flow/flow_persist, but we need to notify users here\n      Vue.$toast.error(`${Lang.trans('flow-builder.error-while-saving-flow')}`)\n    } else {\n      Vue.$toast.success(`${Lang.trans('flow-builder.flow-saved')}`, {\n        timeout: 3000,\n        hideProgressBar: true,\n      })\n    }\n\n    commit('setTreeSaving', false, {root: true})\n    commit('setIsEditable', true)\n    Vue.$toast.dismiss(inProgress)\n\n    return newFlowContainer ?? undefined\n  },\n\n  setBlockPositionTo({commit, rootGetters}, {position: {x, y}, block}) {\n    commit('flow/flow_updateBlockCoordinates', {\n      flowId: rootGetters['flow/activeFlow'].uuid,\n      blockId: block.uuid,\n      coordinates: {x, y},\n    }, {root: true})\n  },\n}\n\nexport const store: Module<IBuilderState, IRootState> = {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n\nexport default store\n\nexport function createDefaultBlockTypeInstallerFor(\n  blockType: IBlock['type'],\n  storeForBlockType: Module<any, IRootState>,\n) {\n  return (builder: Vue) => {\n    if (storeForBlockType === undefined || blockType === undefined) {\n      // If this error happens, try to not import function from '@/lib' but directly from the file\n      console.error('createDefaultBlockTypeInstallerFor',\n        'something weird is happening: the store is undefined',\n        'which might cause',\n        '\"TypeError: rawModule is undefined\"')\n    }\n    return builder.$store.hasModule(['flow', blockType]) || builder.$store.registerModule(['flow', blockType], storeForBlockType)\n  }\n}\n\nexport function generateConnectionLayoutKeyFor(source: IBlock, target: IBlock): ConnectionLayout {\n  console.debug('store/builder', 'generateConnectionLayoutKeyFor', source.uuid, target.uuid)\n  return [\n    // coords\n    [source?.ui_metadata?.canvas_coordinates?.x, source?.ui_metadata?.canvas_coordinates?.y],\n    [target?.ui_metadata?.canvas_coordinates?.x, target?.ui_metadata?.canvas_coordinates?.y],\n\n    // block titles\n    source.label,\n    target.label,\n\n    // todo: this needs to be a computed prop // possibly on store as getter by blockId ?\n\n    // other exit titles\n    ...map(source.exits, 'name'),\n    ...map(target.exits, 'name'),\n  ]\n}\n\nexport function computeBlockCanvasCoordinates(block?: IBlock | null): IBlockUIMetadataCanvasCoordinates {\n  const xDelta = 120\n  const yDelta = 110\n  let xPosition = block?.ui_metadata?.canvas_coordinates?.x\n  let yPosition = block?.ui_metadata?.canvas_coordinates?.y\n\n  if (xPosition == null || yPosition == null) {\n    const viewPortCenter = getViewportCenter()\n    xPosition = viewPortCenter.x\n    yPosition = viewPortCenter.y\n  }\n\n  return {\n    x: xPosition != null ? xPosition + xDelta : xDelta,\n    y: yPosition != null ? yPosition + yDelta : yDelta,\n  }\n}\n\nexport function getViewportCenter(): IPosition {\n  const builderCanvasElement = document.getElementsByClassName('builder-canvas')[0]\n  const sideBarElement = document.getElementsByClassName('tree-sidebar-container')[0]\n  const rect = builderCanvasElement.getBoundingClientRect()\n\n  const sidebarAdjustment = sideBarElement !== undefined ? sideBarElement.clientWidth : 0\n\n  return {\n    x: Math.round(Math.abs(rect.left) + (window.innerWidth - sidebarAdjustment) / 2),\n    y: Math.round(Math.abs(rect.top) + window.innerHeight / 2),\n  }\n}\n","var map = {\n\t\"./1.0.0-rc1/IAdvancedSelectOneBlock.json\": \"467b\",\n\t\"./1.0.0-rc1/ICaseBlock.json\": \"24dc\",\n\t\"./1.0.0-rc1/ILocationResponseBlock.json\": \"b194\",\n\t\"./1.0.0-rc1/ILogBlock.json\": \"7074\",\n\t\"./1.0.0-rc1/IMessageBlock.json\": \"aa41\",\n\t\"./1.0.0-rc1/INumericResponseBlock.json\": \"e0ae\",\n\t\"./1.0.0-rc1/IOpenResponseBlock.json\": \"5831\",\n\t\"./1.0.0-rc1/IOutputBlock.json\": \"5663\",\n\t\"./1.0.0-rc1/IPhotoResponseBlock.json\": \"a0ef\",\n\t\"./1.0.0-rc1/IPrintBlock.json\": \"79a9\",\n\t\"./1.0.0-rc1/IReadBlock.json\": \"27e7\",\n\t\"./1.0.0-rc1/IRunFlowBlock.json\": \"bf9a\",\n\t\"./1.0.0-rc1/ISelectManyResponseBlock.json\": \"44db\",\n\t\"./1.0.0-rc1/ISelectOneResponseBlock.json\": \"5149\",\n\t\"./1.0.0-rc1/ISetContactPropertyBlock.json\": \"f37b\",\n\t\"./1.0.0-rc1/ISetGroupMembershipBlock.json\": \"45d5\",\n\t\"./1.0.0-rc1/flowSpecJsonSchema.json\": \"fc41\",\n\t\"./1.0.0-rc2/IAdvancedSelectOneBlock.json\": \"5c3b\",\n\t\"./1.0.0-rc2/ICaseBlock.json\": \"fabe\",\n\t\"./1.0.0-rc2/ILocationResponseBlock.json\": \"24e6\",\n\t\"./1.0.0-rc2/ILogBlock.json\": \"025b\",\n\t\"./1.0.0-rc2/IMessageBlock.json\": \"5402\",\n\t\"./1.0.0-rc2/INumericResponseBlock.json\": \"0999\",\n\t\"./1.0.0-rc2/IOpenResponseBlock.json\": \"6612\",\n\t\"./1.0.0-rc2/IOutputBlock.json\": \"c3a9\",\n\t\"./1.0.0-rc2/IPhotoResponseBlock.json\": \"42f5\",\n\t\"./1.0.0-rc2/IPrintBlock.json\": \"3d43\",\n\t\"./1.0.0-rc2/IReadBlock.json\": \"56d3\",\n\t\"./1.0.0-rc2/IRunFlowBlock.json\": \"4377\",\n\t\"./1.0.0-rc2/ISelectManyResponseBlock.json\": \"468a\",\n\t\"./1.0.0-rc2/ISelectOneResponseBlock.json\": \"897a\",\n\t\"./1.0.0-rc2/ISetContactPropertyBlock.json\": \"9744\",\n\t\"./1.0.0-rc2/ISetGroupMembershipBlock.json\": \"f2ae\",\n\t\"./1.0.0-rc2/flowSpecJsonSchema.json\": \"5a2e\",\n\t\"./1.0.0-rc3/IAdvancedSelectOneBlock.json\": \"ebe9\",\n\t\"./1.0.0-rc3/ICaseBlock.json\": \"df71\",\n\t\"./1.0.0-rc3/ILocationResponseBlock.json\": \"4b5a\",\n\t\"./1.0.0-rc3/ILogBlock.json\": \"5c92\",\n\t\"./1.0.0-rc3/IMessageBlock.json\": \"9f75\",\n\t\"./1.0.0-rc3/INumericResponseBlock.json\": \"ca51\",\n\t\"./1.0.0-rc3/IOpenResponseBlock.json\": \"284f\",\n\t\"./1.0.0-rc3/IOutputBlock.json\": \"bf9b\",\n\t\"./1.0.0-rc3/IPhotoResponseBlock.json\": \"3da6\",\n\t\"./1.0.0-rc3/IPrintBlock.json\": \"b781\",\n\t\"./1.0.0-rc3/IReadBlock.json\": \"5bbb\",\n\t\"./1.0.0-rc3/IRunFlowBlock.json\": \"84e0\",\n\t\"./1.0.0-rc3/ISelectManyResponseBlock.json\": \"347b\",\n\t\"./1.0.0-rc3/ISelectOneResponseBlock.json\": \"8832\",\n\t\"./1.0.0-rc3/ISetContactPropertyBlock.json\": \"9b07\",\n\t\"./1.0.0-rc3/ISetGroupMembershipBlock.json\": \"e4a3\",\n\t\"./1.0.0-rc3/flowSpecJsonSchema.json\": \"29d3\",\n\t\"./1.0.0-rc4/IAdvancedSelectOneBlock.json\": \"171d\",\n\t\"./1.0.0-rc4/ICaseBlock.json\": \"35a7\",\n\t\"./1.0.0-rc4/ILocationResponseBlock.json\": \"c6df\",\n\t\"./1.0.0-rc4/ILogBlock.json\": \"0468\",\n\t\"./1.0.0-rc4/IMessageBlock.json\": \"6faa\",\n\t\"./1.0.0-rc4/INumericResponseBlock.json\": \"d6b7\",\n\t\"./1.0.0-rc4/IOpenResponseBlock.json\": \"6897\",\n\t\"./1.0.0-rc4/IOutputBlock.json\": \"ee9c\",\n\t\"./1.0.0-rc4/IPhotoResponseBlock.json\": \"fdc7\",\n\t\"./1.0.0-rc4/IPrintBlock.json\": \"3897\",\n\t\"./1.0.0-rc4/IReadBlock.json\": \"74af\",\n\t\"./1.0.0-rc4/IRunFlowBlock.json\": \"a629\",\n\t\"./1.0.0-rc4/ISelectManyResponseBlock.json\": \"bcf6\",\n\t\"./1.0.0-rc4/ISelectOneResponseBlock.json\": \"fea9\",\n\t\"./1.0.0-rc4/ISetContactPropertyBlock.json\": \"7464\",\n\t\"./1.0.0-rc4/ISetGroupMembershipBlock.json\": \"f47e\",\n\t\"./1.0.0-rc4/flowSpecJsonSchema.json\": \"9b2d\",\n\t\"./current/IAdvancedSelectOneBlock.json\": \"9e25\",\n\t\"./current/ICaseBlock.json\": \"0e0e\",\n\t\"./current/ILocationResponseBlock.json\": \"24e9\",\n\t\"./current/ILogBlock.json\": \"8b9f\",\n\t\"./current/IMessageBlock.json\": \"1010\",\n\t\"./current/INumericResponseBlock.json\": \"5cb6\",\n\t\"./current/IOpenResponseBlock.json\": \"30f6\",\n\t\"./current/IOutputBlock.json\": \"858c\",\n\t\"./current/IPhotoResponseBlock.json\": \"768e\",\n\t\"./current/IPrintBlock.json\": \"7cfe\",\n\t\"./current/IReadBlock.json\": \"65d3\",\n\t\"./current/IRunFlowBlock.json\": \"2ced\",\n\t\"./current/ISelectManyResponseBlock.json\": \"d713\",\n\t\"./current/ISelectOneResponseBlock.json\": \"d76c\",\n\t\"./current/ISetContactPropertyBlock.json\": \"41c5\",\n\t\"./current/ISetGroupMembershipBlock.json\": \"44b3\",\n\t\"./current/flowSpecJsonSchema.json\": \"0eaa\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"b221\";","import {IChoice} from '@floip/flow-runner'\n\nexport function escapeQuotes(value: string): string {\n  return value.replace(/(['\"])/g, '\\\\$1')\n}\n\nexport function unescapeQuotes(value: string): string {\n  return value.replace(/\\\\(['\"])/g, '$1')\n}\n\nexport function choicesToExpression(choices: IChoice[], propertyValueMapping: Record<string, string | number>): string {\n  const individualLines = Object.entries(propertyValueMapping)\n    .map(([choicePrompt, choiceValue]) => {\n      const choiceName = escapeQuotes(choices.find(choice => choice.prompt === choicePrompt)!.name)\n\n      if (typeof choiceValue === 'string') {\n        return `IF(block.value = '${choiceName}', '${escapeQuotes(choiceValue)}', '')`\n      } else {\n        return `IF(block.value = '${choiceName}', ${choiceValue}, '')`\n      }\n    })\n\n  return `@CONCATENATE(${individualLines.join(',')})`\n}\n\nexport function testExpressionToChoice(expression: string): string {\n  const regex = /^@block\\.response = '(?<choice>.+)'$/\n  const parsedGroups = regex.exec(expression)?.groups as {choice: string} | undefined\n\n  if (parsedGroups !== undefined) {\n    const {choice} = parsedGroups\n    return unescapeQuotes(choice)\n  } else {\n    return expression\n  }\n}\n\nexport function choiceToTestExpression(value: string): string {\n  if (value.includes('@')) {\n    return value\n  } else {\n    return `@block.response = '${escapeQuotes(value)}'`\n  }\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockExit.vue?vue&type=style&index=0&id=0e67b5e0&prod&lang=scss&\"","import {Route} from 'vue-router'\n\nexport const scrollBehavior = (to: Route): void => {\n  if (to.params.field) {\n    const anchor = to.params.field\n    const domElement = document.getElementById(anchor)\n    if (domElement) {\n      domElement.scrollIntoView({behavior: 'smooth', block: 'center'})\n    } else {\n      console.debug('Deep linking: cannot scroll to ', anchor, ' as the DOM element is not found')\n    }\n  }\n}\n\nexport const scrollBlockIntoView = (blockId: string): void => {\n  const blockElement = document.querySelector(`#block\\\\/${blockId} .plain-draggable`)\n  if (blockElement) {\n    console.debug('Deep linking: scrolling to the block', blockId, 'on the DOM', blockElement)\n    blockElement.scrollIntoView({behavior: 'smooth', block: 'center', inline: 'center'})\n  } else {\n    console.debug('Deep linking: cannot scroll block', blockId, 'on the DOM', blockElement)\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=style&index=0&id=272d9def&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-primitive-message-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",function(){return [_c('per-language-resource-editor',{attrs:{\"block\":_vm.block}})]},{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",null,{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IMessageBlock} from '@floip/flow-runner/src/model/block/IMessageBlock'\nimport {cloneDeep} from 'lodash'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.Message'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<IMessageBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankMessageResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankMessageResource.uuid,\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nexport const MobilePrimitives_MessageBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default MobilePrimitives_MessageBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n\nimport {IBlock, IBlockExit, IFlow, IResource} from '@floip/flow-runner'\nimport {IMessageBlock} from '@floip/flow-runner/src/model/block/IMessageBlock'\n\nimport MessageStore, {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_MessageBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\n\n@Component({})\nclass MobilePrimitives_MessageBlock extends mixins(Lang) {\n  @Prop() readonly block!: IMessageBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n}\n\nexport default MobilePrimitives_MessageBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, MessageStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_MessageBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MobilePrimitives_MessageBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobilePrimitives_MessageBlock.vue?vue&type=template&id=4f19f242&\"\nimport script from \"./MobilePrimitives_MessageBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobilePrimitives_MessageBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-run-flow-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor},on:{\"handleBranchingTypeChangedToUnified\":function($event){return _vm.handleBranchingTypeChangedToUnified({block: _vm.block})}}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",function(){return [_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/flow_id`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"form-group\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.destination-flow'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-destination-flow-id'),\"valid-state\":isValid},model:{value:(_vm.destinationFlowId),callback:function ($$v) {_vm.destinationFlowId=$$v},expression:\"destinationFlowId\"}})],1)]}}])})]},{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",null,{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\n\nimport {IRunFlowBlock} from '@floip/flow-runner/src/model/block/IRunFlowBlock'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport RunAnotherFlowStore, {BLOCK_TYPE} from '@/store/flow/block-types/Core_RunFlowBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class Core_RunAnotherFlowBlock extends mixins(Lang) {\n  @Prop() readonly block!: IRunFlowBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n  get destinationFlowId(): string {\n    return this.block.config.flow_id\n  }\n\n  @blockVuexNamespace.Action declare setDestinationFlowId: (\n    {blockId, newDestinationFlowId}: { blockId: string, newDestinationFlowId: string | undefined },\n  ) => Promise<string>\n\n  set destinationFlowId(newDestinationFlowId: string) {\n    if (newDestinationFlowId === '') {\n      this.setDestinationFlowId({blockId: this.block.uuid, newDestinationFlowId: undefined})\n    } else {\n      this.setDestinationFlowId({blockId: this.block.uuid, newDestinationFlowId})\n    }\n  }\n  @blockVuexNamespace.Action handleBranchingTypeChangedToUnified!: ({block}: {block: IBlock}) => void\n  //TODO - add back in or move across to embedding app via slot when ready - pull flows from a backend\n  //@blockVuexNamespace.Getter declare otherFlows: IFlow[]\n\n  @builderVuexNamespace.Getter declare isEditable: boolean\n}\n\nexport default Core_RunAnotherFlowBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, RunAnotherFlowStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_RunFlowBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_RunFlowBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_RunFlowBlock.vue?vue&type=template&id=09d979e0&\"\nimport script from \"./Core_RunFlowBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_RunFlowBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"audio-library-search-field dropdown\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawQuery),expression:\"rawQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.search-audio-library'),\"disabled\":_vm.isEntireLibraryModeEnabled},domProps:{\"value\":(_vm.rawQuery)},on:{\"focus\":_vm.activate,\"blur\":_vm.deactivate,\"input\":[function($event){if($event.target.composing)return;_vm.rawQuery=$event.target.value},_vm.resetPagination]}}),_c('span',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary dropdown-toggle\",class:{active: _vm.isEntireLibraryModeEnabled},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleAudioLibrary.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-search\"})])])]),(_vm.query || _vm.isAudioLibraryEmpty || _vm.isEntireLibraryModeEnabled)?_c('div',{staticClass:\"dropdown-menu\"},[(_vm.isEntireLibraryModeEnabled)?[_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('button',{staticClass:\"close active\",on:{\"click\":_vm.toggleAudioLibrary}},[_vm._v(\"x \")]),_c('i',{staticClass:\"glyphicon glyphicon-info-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.showing-entire-audio-library'))+\" \")]),_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}})]:_vm._e(),(!_vm.isAudioLibraryEmpty)?[_vm._l((_vm.search(_vm.query).slice(_vm.offset * _vm.limit, (_vm.offset + 1) * _vm.limit)),function(audio){return _c('a',{key:audio.audio_uuid,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select(audio)}}},[_vm._v(\" \"+_vm._s(audio.description)+\" \")])}),(_vm.query.length >= 3 && !_vm.search(_vm.query).length)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.no-audio-files-found-for-X'))+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.query))]),_vm._v(\"\\\". \")]):_vm._e(),(_vm.query && _vm.query.length < 3)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.enter-at-least-three-chars'))+\" \")]):_vm._e(),(_vm.hasPrevious || _vm.hasNext)?[_c('div',{staticClass:\"dropdown-divider\",attrs:{\"role\":\"separator\"}}),_c('div',{staticClass:\"pagers dropdown-item\"},[_c('a',{staticClass:\"col-md-6\",class:{disabled: !_vm.hasPrevious},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.decrementPage.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-chevron-left\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.previous'))+\" \")]),_c('a',{staticClass:\"col-md-6 text-right\",class:{disabled: !_vm.hasNext},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.incrementPage.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.next'))+\" \"),_c('i',{staticClass:\"glyphicon glyphicon-chevron-right\"})])])]:_vm._e()]:_vm._e(),(_vm.isAudioLibraryEmpty)?_c('a',{staticClass:\"disabled dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('i',{staticClass:\"glyphicon glyphicon-warning-sign\"}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.audio-lib-empty-for-this-org'))+\" \")]):_vm._e()],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Fuse from 'fuse.js'\nimport {trim} from 'lodash'\nimport VueFocus from 'vue-focus'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IAudioFileSelection} from '@/lib/types'\nimport {IAudioFile} from '../interaction-designer/resource-editors'\n\n@Component({})\nexport class AudioLibrarySearchField extends mixins(Lang, VueFocus.mixin) {\n  @Prop() readonly langId?: string\n  @Prop({required: true}) readonly audioFiles!: IAudioFile[]\n\n  isActive = false\n\n  // querying\n  rawQuery = ''\n  cache: Record<string, IAudioFile[]> = {}\n  isEntireLibraryModeEnabled = false\n\n  // pagination\n  offset = 0\n  limit = 10\n\n  get query(): string {\n    return trim(this.rawQuery)\n  }\n\n  get isAudioLibraryEmpty(): boolean {\n    return this.isActive && this.audioFiles?.length === 0\n  }\n\n  get hasNext(): boolean {\n    return (this.search(this.query).length / (this.offset + 1)) > this.limit\n  }\n\n  get hasPrevious(): boolean {\n    return this.offset > 0\n  }\n\n  search(query: string): IAudioFile[] {\n    if (this.isEntireLibraryModeEnabled) {\n      return this.audioFiles ?? []\n    }\n\n    if (query.length < 3) {\n      return []\n    }\n\n    console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'searching', query)\n\n    if (query in this.cache) {\n      console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache hit', query)\n      return this.cache[query]\n    }\n\n    console.debug('flow-builder.ResourceViewer.AudioLibrarySearchField', 'cache miss', query)\n\n    const keys = ['uri', 'description']\n    this.cache[query] = new Fuse(this.audioFiles, {keys, fieldNormWeight: 1}).search(query).map(result => result.item)\n    return this.cache[query]\n  }\n\n  // TODO: Push pagination into isolated component\n  incrementPage(): void {\n    if (this.hasNext) {\n      this.offset += 1\n    }\n  }\n\n  decrementPage(): void {\n    if (this.hasPrevious) {\n      (this.offset -= 1)\n    }\n  }\n\n  resetPagination(): void {\n    this.offset = 0\n  }\n\n  toggleAudioLibrary(): void {\n    this.isEntireLibraryModeEnabled = !this.isEntireLibraryModeEnabled\n    this.resetPagination()\n  }\n\n  select(audio: IAudioFile): void {\n    this.$emit('select', {value: audio, langId: this.langId} as IAudioFileSelection)\n  }\n\n  activate(): void {\n    this.isActive = true\n  }\n\n  deactivate(): void {\n    this.isActive = false\n  }\n}\n\nexport default AudioLibrarySearchField\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySearchField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioLibrarySearchField.vue?vue&type=template&id=01cc8d75&scoped=true&\"\nimport script from \"./AudioLibrarySearchField.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioLibrarySearchField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AudioLibrarySearchField.vue?vue&type=style&index=0&id=01cc8d75&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01cc8d75\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"audio-library-selection well well-sm\",class:{\n    'tree-audio-control-text-container-selectable': _vm.selectable,\n    'tree-audio-control-text-container-selected': !_vm.selectable},attrs:{\"data-audio-file-container-language\":_vm.langId}},[_c('button',{staticClass:\"audio-library-selection-clear-selection btn-ghost pull-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.clear.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-remove\"})]),_c('div',{staticClass:\"btn-group audio-library-selection-download-dropdown\"},[_vm._m(0),_c('div',{staticClass:\"dropdown-menu dropdown-menu-right\"},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":_vm.audioFileUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.original-file'))+\" \")])])]),_c('p',{staticClass:\"audio-file-description\",attrs:{\"title\":_vm.audioFileUrl}},[_vm._v(\" \"+_vm._s(_vm.audioFileDescription)+\" \")]),_c('div',{staticClass:\"btn-toolbar\"},[(_vm.selectable)?_c('button',{staticClass:\"btn btn-secondary btn-xs\",on:{\"click\":function($event){$event.preventDefault();return _vm.select.apply(null, arguments)}}},[_c('i',{staticClass:\"glyphicon glyphicon-ok\"})]):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"btn btn-ghost dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"glyphicon glyphicon-download-alt\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',{staticClass:\"caret\"})])\n}]\n\nexport { render, staticRenderFns }","import moment, {DurationInputArg1, DurationInputArg2, MomentInput} from 'moment'\n\nimport {Component, Vue} from 'vue-property-decorator'\n\nexport function formatDate(date: MomentInput, format = 'llll'): string {\n  if (date === null || date === undefined) {\n    return ''\n  }\n  return moment.utc(date).format(format)\n}\n\nexport function fromNow(date: MomentInput, withoutSuffix?: boolean): string {\n  return moment.utc(date).fromNow(withoutSuffix)\n}\n\n// This function only gets used in English\nexport function formatDuration(\n  duration: DurationInputArg1,\n  unit: DurationInputArg2 = 'seconds',\n  withSuffix?: boolean,\n): string {\n  const currentLocale = moment.locale()\n  moment.locale('en')\n  const result = moment.duration(duration, unit).humanize(withSuffix)\n  moment.locale(currentLocale)\n  return result\n}\n\nexport function formatDurationLocalized(\n  duration: DurationInputArg1,\n  locale: string,\n  unit: DurationInputArg2 = 'seconds',\n  withSuffix?: boolean,\n): string {\n  const currentLocale = moment.locale()\n  moment.locale(locale)\n  const result = moment.duration(duration, unit).humanize(withSuffix)\n  moment.locale(currentLocale)\n  return result\n}\n\n@Component({\n  filters: {\n    formatDate,\n    fromNow,\n    formatDuration,\n    formatDurationLocalized,\n  },\n})\nexport class Moment extends Vue {}\n\nexport default Moment\n","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport Moment from '@/lib/filters/moment'\nimport {IAudioFile} from '../interaction-designer/resource-editors'\n\n@Component({})\nexport class AudioLibrarySelection extends mixins(Lang, Moment) {\n  @Prop({type: Object, required: true}) audioFile!: IAudioFile\n  @Prop() selectable?: boolean\n  @Prop() langId?: string\n\n  get audioFileUrl(): string {\n    return this.audioFile?.uri\n  }\n\n  get audioFileDescription(): string {\n    return this.audioFile?.description\n  }\n\n  select(): void {\n    this.$emit('select')\n  }\n\n  clear(): void {\n    this.$emit('clear')\n  }\n}\n\nexport default AudioLibrarySelection\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AudioLibrarySelection.vue?vue&type=template&id=2e98f65f&\"\nimport script from \"./AudioLibrarySelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./AudioLibrarySelection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AudioLibrarySelection.vue?vue&type=style&index=0&id=2e98f65f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"audio-library-selector\"},[(_vm.selectedAudioUri)?_c('audio-library-selection',{attrs:{\"audio-file\":_vm.selectedFile,\"lang-id\":_vm.langId},on:{\"clear\":_vm.clearSelection}}):[_c('audio-library-search-field',{attrs:{\"lang-id\":_vm.langId,\"audio-files\":_vm.audioFiles},on:{\"select\":_vm.selectAudioFile}})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"audio-library-selector\">\n    <audio-library-selection\n      v-if=\"selectedAudioUri\"\n      :audio-file=\"selectedFile\"\n      :lang-id=\"langId\"\n      @clear=\"clearSelection\" />\n\n    <template v-else>\n      <!-- todo: refactor audio-library-selection to use v-model's @input + :value -->\n      <!-- <audio-library-selection\n          v-for=\"audioFile in alternateSelections\"\n          :key=\"audioFile && audioFile.id\"\n          :audioFile=\"audioFile\"\n          :selectable=\"selectable\"\n          @select=\"selectAudioFile({value: audioFile, langId})\" /> -->\n\n      <!-- todo: refactor audio-library-search-field to use v-model's @input + :value -->\n      <audio-library-search-field\n        :lang-id=\"langId\"\n        :audio-files=\"audioFiles\"\n        @select=\"selectAudioFile\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"js\">\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {mapActions, mapGetters} from 'vuex'\nimport {SupportedContentType, SupportedMode} from '@floip/flow-runner'\n\nexport const AudioLibrarySelector = {\n  props: [\n    'alternateSelections',\n    'selectedAudioUri',\n    'langId',\n    'audioFiles',\n    'isPlaying',\n    'audioPlayerUrl',\n    'resourceId',\n  ],\n\n  computed: {\n    ...mapGetters(['availableAudiosByUri']),\n    selectedFile() {\n      return this.availableAudiosByUri[this.selectedAudioUri]\n    },\n  },\n\n  methods: {\n    ...mapActions('flow', [\n      'resource_setOrCreateValueModeSpecific',\n    ]),\n\n    clearSelection() {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: {language_id: this.langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n        value: '',\n      })\n      this.$emit('change')\n    },\n\n    selectAudioFile({value, langId}) {\n      this.resource_setOrCreateValueModeSpecific({\n        resourceId: this.resourceId,\n        filter: {language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n        value: value.uri,\n      })\n      this.$emit('change')\n    },\n  },\n}\n\nexport default AudioLibrarySelector\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioLibrarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioLibrarySelector.vue?vue&type=template&id=ba865966&\"\nimport script from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioLibrarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"expression-input form-group\"},[(_vm.label)?_c('label',{class:_vm.labelClass},[_vm._v(_vm._s(_vm.label))]):_vm._e(),_c('div',{staticClass:\"input-group d-flex flex-column\"},[(_vm.prependText)?_c('div',{staticClass:\"input-group-prepend flex-row\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.prependText))])]):_vm._e(),_c('div',{staticClass:\"flex-row\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.expression),expression:\"expression\"}],ref:\"input\",class:['form-control', {'is-invalid': _vm.isInvalid}],attrs:{\"disabled\":_vm.disabled,\"rows\":_vm.rows,\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.expression)},on:{\"click\":function($event){return _vm.handleClick()},\"input\":[function($event){if($event.target.composing)return;_vm.expression=$event.target.value},function($event){return _vm.$emit('input', $event.target.value)}]}})]),_c('div',{ref:\"suggest\",staticClass:\"cloned-auto-suggest-content flex-row\"})]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable import/prefer-default-export */\n\nimport {ISuggestion} from '../types'\n\nexport function getBlockSuggestions(): ISuggestion[] {\n  return [\n    {\n      trigger: '@',\n      values: [\n        '@block',\n      ],\n    },\n    {\n      trigger: '@block.',\n      values: [\n        '@block.entered_at',\n        '@block.response',\n        '@block.value',\n      ],\n    },\n  ]\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport {IExpressionContext, ISuggestion} from '../types'\n\nconst defaultContactPropertyFields = [\n  'phone',\n  'urns',\n  'preferred_mode',\n  'preferred_urn',\n  'active_urn',\n  'created_at',\n  'timezone',\n  'language',\n  'groups',\n  'properties',\n]\n\nexport function getContactSuggestions(context: IExpressionContext): ISuggestion[] {\n  const subscriberPropertyFields = context.subscriberPropertyFields\n\n  const contactSuggestions: ISuggestion = {\n    trigger: '@contact.',\n    values: defaultContactPropertyFields.map(name => `@contact.${name}`),\n  }\n\n  const contactPropertiesSuggestions: ISuggestion = {\n    trigger: '@contact.properties.',\n    values: [],\n  }\n\n  const subscriberPropertyFieldsSuggestions: ISuggestion[] = []\n\n  subscriberPropertyFields.forEach(field => {\n    if (!defaultContactPropertyFields.includes(field.name)) {\n      contactSuggestions.values.push(`@contact.${field.name}`)\n\n      subscriberPropertyFieldsSuggestions.push({\n        trigger: `@contact.${field.name}.`,\n        values: Object.keys(field).map(key => `@contact.${field.name}.${key}`),\n      })\n    }\n\n    contactPropertiesSuggestions.values.push(`@contact.properties.${field.name}`)\n\n    subscriberPropertyFieldsSuggestions.push({\n      trigger: `@contact.properties.${field.name}.`,\n      values: Object.keys(field).map(key => `@contact.properties.${field.name}.${key}`),\n    })\n  })\n\n  return [\n    {\n      trigger: '@',\n      values: [\n        '@contact',\n      ],\n    },\n    contactSuggestions,\n    contactPropertiesSuggestions,\n    ...subscriberPropertyFieldsSuggestions,\n  ]\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport {IBlock} from '@floip/flow-runner'\nimport {IExpressionContext, ISuggestion} from '../types'\n\nexport function getFlowIdentifiersSuggestions(context: IExpressionContext): ISuggestion[] {\n  const blockIdentifiers = new Set(\n    context.blocks\n      .map((block: IBlock) => ([\n        `@flow.${block.uuid}`,\n        `@flow.${block.name}`,\n      ]))\n      .flat(),\n  )\n\n  return [\n    {\n      trigger: '@',\n      values: [\n        '@flow',\n      ],\n    },\n    {\n      trigger: '@flow.',\n      values: [\n        ...blockIdentifiers,\n      ],\n    },\n  ]\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport {MethodNodeEvaluatorFactory} from '@floip/expression-evaluator/dist/Evaluator/NodeEvaluator/MethodNodeEvaluator/Factory'\nimport {ISuggestion} from '../types'\n\nfunction getEvaluatorMethods(): Map<string, Function[]> {\n  const methods = new Map()\n\n  /* eslint-disable no-restricted-syntax */\n  for (const handler of MethodNodeEvaluatorFactory.defaultHandlers()) {\n    for (const method of handler.handles()) {\n      const trigger = method.substring(0, 2)\n      const upperTrigger = trigger.toUpperCase()\n      const upperMethod = method.toUpperCase()\n      if (methods.has(trigger)) {\n        methods.set(trigger, [...methods.get(trigger), method])\n        methods.set(upperTrigger, [...methods.get(upperTrigger), upperMethod])\n      } else {\n        methods.set(trigger, [method])\n        methods.set(upperTrigger, [upperMethod])\n      }\n    }\n  }\n  /* eslint-enable no-restricted-syntax */\n  return methods\n}\n\nexport function getMethodSuggestions(): ISuggestion[] {\n  return Array.from(getEvaluatorMethods().entries()).map(([trigger, methods]) => ({\n    trigger,\n    values: methods.map((i) => ({\n      value: `${i}()`,\n      focusText: [-1, -1],\n    })),\n  }))\n}\n","import {uniq} from 'lodash'\nimport {IExpressionContext, ISuggestion, ISuggestionValue} from '../types'\n\nexport type SuggestionValueOrString = ISuggestionValue | string\n\nfunction validateValuePrefixes(trigger: string, values: SuggestionValueOrString[]): void {\n  if (trigger.startsWith('@')) {\n    values.forEach(value => {\n      const stringValue = typeof value === 'string' ? value : value.value\n\n      console.assert(\n        stringValue.startsWith('@'),\n        `${stringValue} for trigger ${trigger} does not start with @`,\n      )\n    })\n  }\n}\n\nexport function merge(suggestions: ISuggestion[]): ISuggestion[] {\n  const map = new Map<string, SuggestionValueOrString[]>()\n\n  for (let i = 0; i < suggestions.length; i += 1) {\n    const {trigger, values} = suggestions[i]\n    validateValuePrefixes(trigger, values)\n\n    map.set(trigger, uniq([\n      ...map.get(trigger) ?? [],\n      ...values,\n    ]))\n  }\n\n  return Array.from(map.entries()).map(([trigger, values]) => ({\n    trigger,\n    values,\n  }))\n}\n\nexport function getBlockNames(context: IExpressionContext): string[] {\n  return context.blocks\n    .map(block => block.name)\n    .filter(Boolean) ?? []\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport {IExpressionContext, ISuggestion} from '../types'\nimport {getBlockNames} from './suggestionHelpers'\n\nexport function getResultSuggestionsForBlockNames(blockNames: string[], prefix: string) : ISuggestion[] {\n  return blockNames.flatMap(name => ([\n    {\n      trigger: `${prefix}.`,\n      values: blockNames.map(name => `${prefix}.${name}`),\n    },\n    {\n      trigger: `${prefix}.${name}.`,\n      values: [\n        `${prefix}.${name}.entered_at`,\n        `${prefix}.${name}.exited_at`,\n        `${prefix}.${name}.response`,\n        `${prefix}.${name}.value`,\n        `${prefix}.${name}.block`,\n        `${prefix}.${name}.exit`,\n      ],\n    },\n    {\n      trigger: `${prefix}.${name}.block.`,\n      values: [\n        `${prefix}.${name}.block.id`,\n        `${prefix}.${name}.block.name`,\n        `${prefix}.${name}.block.label`,\n      ],\n    },\n    {\n      trigger: `${prefix}.${name}.exit.`,\n      values: [\n        `${prefix}.${name}.exit.name`,\n        `${prefix}.${name}.exit.id`,\n      ],\n    },\n  ])) as ISuggestion[]\n}\n\nexport function getResultsSuggestions(context: IExpressionContext): ISuggestion[] {\n  return [\n    {\n      trigger: '@',\n      values: [\n        '@results',\n      ],\n    },\n    ...getResultSuggestionsForBlockNames(getBlockNames(context), '@results'),\n  ]\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport {IExpressionContext, ISuggestion} from '../types'\nimport {getResultSuggestionsForBlockNames} from './getResultsSuggestions'\nimport {getBlockNames} from './suggestionHelpers'\n\nfunction getRunSuggestionsWithPrefix(prefix: string): ISuggestion[] {\n  return [\n    {\n      trigger: `${prefix}.`,\n      values: [\n        `${prefix}.language`,\n        `${prefix}.localization`,\n        `${prefix}.entered_at`,\n        `${prefix}.exited_at`,\n        `${prefix}.flow`,\n        `${prefix}.mode`,\n        `${prefix}.results`,\n        `${prefix}.parent`,\n        `${prefix}.child`,\n      ],\n    },\n    {\n      trigger: `${prefix}.language.`,\n      values: [\n        `${prefix}.language.id`,\n        `${prefix}.language.label`,\n        `${prefix}.language.variant`,\n        `${prefix}.language.iso_639_3`,\n      ],\n    },\n    {\n      trigger: `${prefix}.flow.`,\n      values: [\n        `${prefix}.flow.id`,\n        `${prefix}.flow.name`,\n      ],\n    },\n  ]\n}\n\nexport function getRunSuggestions(context: IExpressionContext): ISuggestion[] {\n  const blockNames = getBlockNames(context)\n\n  return [\n    {\n      trigger: '@',\n      values: [\n        '@run',\n      ],\n    },\n    ...getRunSuggestionsWithPrefix('@run'),\n    ...getResultSuggestionsForBlockNames(blockNames, '@run.results'),\n    ...getRunSuggestionsWithPrefix('@run.parent'),\n    ...getRunSuggestionsWithPrefix('@run.child'),\n    {\n      trigger: '@',\n      values: [\n        '@parent',\n        '@child',\n      ],\n    },\n    ...getRunSuggestionsWithPrefix('@parent'),\n    ...getRunSuggestionsWithPrefix('@child'),\n  ]\n}\n","import {IBlock} from '@floip/flow-runner'\nimport {IExpressionContext, ISuggestion} from '../types'\n\nimport {getBlockSuggestions} from './getBlockSuggestions'\nimport {getContactSuggestions} from './getContactSuggestions'\nimport {getFlowIdentifiersSuggestions} from './getFlowIdentifiersSuggestions'\nimport {getMethodSuggestions} from './getMethodSuggestions'\nimport {getResultsSuggestions} from './getResultsSuggestions'\nimport {getRunSuggestions} from './getRunSuggestions'\n\nimport {merge} from './suggestionHelpers'\n\nexport interface ISuggestionsContext {\n  blocks: IBlock[],\n}\n\nexport function getSuggestions(context: IExpressionContext): ISuggestion[] {\n  return merge([\n    {\n      trigger: '@',\n      values: [\n        {\n          value: '@()',\n          focusText: [-1, -1],\n        },\n      ],\n    },\n    ...getBlockSuggestions(),\n    ...getContactSuggestions(context),\n    ...getFlowIdentifiersSuggestions(context),\n    ...getMethodSuggestions(),\n    ...getRunSuggestions(context),\n    ...getResultsSuggestions(context),\n  ])\n}\n","\nimport AutoSuggest from '@avcs/autosuggest'\nimport '@avcs/autosuggest/dropdown.css'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {Getter, namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {IFlow} from '@floip/flow-runner'\nimport {ISubscriberPropertyField, ISuggestion} from '@/lib/types'\nimport {getSuggestions} from '@/lib/suggestions'\n\ninterface IAutoSuggest {\n  dropdown: {\n    dropdown: HTMLElement,\n  },\n}\n\nconst flowNamespace = namespace('flow')\n\n@Component({})\nexport class ExpressionInput extends mixins(Lang) {\n  @Prop({type: [String, Number], required: true}) readonly label!: string | number\n  @Prop({type: String, default: 'text-primary'}) readonly labelClass!: string\n  @Prop({type: String, default: ''}) readonly placeholder!: string\n  @Prop({type: String}) readonly currentExpression?: string\n  @Prop({type: [String, Number], default: null}) readonly expressionIdentifier!: string | number | null\n  @Prop({type: Number, default: 1}) readonly rows!: number\n  @Prop({type: Boolean, default: null}) readonly validState!: boolean|null\n  @Prop({type: String, default: ''}) readonly prependText!: string\n  @Prop({type: Boolean, default: false}) readonly disabled!: boolean\n  @Prop({type: Boolean, default: false}) readonly disabledAutoComplete!: boolean\n\n  suggest: IAutoSuggest = {} as IAutoSuggest\n\n  get autoSuggestDropdown(): HTMLElement {\n    return this.suggest.dropdown?.dropdown\n  }\n\n  get refAutoSuggestElement(): HTMLElement {\n    return this.$refs.suggest as HTMLElement\n  }\n\n  get refInputElement(): HTMLInputElement {\n    return this.$refs.input as HTMLInputElement\n  }\n\n  get isInvalid(): boolean {\n    return this.validState === false\n  }\n\n  get expression(): string | undefined {\n    return this.currentExpression\n  }\n\n  set expression(value: string | undefined) {\n    if (value === undefined) {\n      return\n    }\n    if (this.expressionIdentifier === null) {\n      this.$emit('commitExpressionChange', value)\n    } else {\n      this.$emit('commitExpressionChange', {\n        identifier: this.expressionIdentifier,\n        value,\n      })\n    }\n  }\n\n  get suggestions(): ISuggestion[] {\n    return getSuggestions({\n      blocks: this.activeFlow?.blocks ?? [],\n      subscriberPropertyFields: this.subscriberPropertyFields,\n    })\n  }\n\n  /**\n   * Making sure we port the auto-suggest under desired dom\n   */\n  portAutoSuggestContent(): void {\n    // override position which came from AutoSuggest original code\n    this.autoSuggestDropdown.style.position = 'relative'\n    this.autoSuggestDropdown.style.left = '0px'\n    this.autoSuggestDropdown.style.top = `0px`\n\n    // move the created autoSuggestDropdown inside the desired dom\n    this.refAutoSuggestElement?.appendChild(this.autoSuggestDropdown)\n  }\n\n  /**\n   * Delay the portal to make sure AutoSuggest has finished the update.\n   */\n  debounce_portAutoSuggestContent(): void {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.portAutoSuggestContent()\n      }, 500)\n    })\n  }\n\n  handleClick(): void {\n    if (this.disabledAutoComplete === false) {\n      // this is required in case the user re-clicks at the input without updating the expression\n      this.debounce_portAutoSuggestContent()\n    } else {\n      console.debug('ExpressionInput', 'handleClick', 'disabledAutoComplete is false')\n    }\n  }\n\n  mounted(): void {\n    if (this.disabledAutoComplete === false) {\n      const input = this.refInputElement\n      this.suggest = new AutoSuggest({\n        caseSensitive: false,\n        suggestions: this.suggestions,\n        onChange: () => input.dispatchEvent(new Event('input')),\n      }, input)\n\n      // Unfortunately there is no `updated()` hook in AutoSuggest, so we will wait a bit\n      this.debounce_portAutoSuggestContent()\n    } else {\n      console.debug('ExpressionInput', 'mounted', 'disabledAutoComplete is false')\n    }\n  }\n\n  updated(): void {\n    if (this.disabledAutoComplete === false) {\n      // Unfortunately there is no `updated()` hook in AutoSuggest, so we will wait a bit\n      this.debounce_portAutoSuggestContent()\n    } else {\n      console.debug('ExpressionInput', 'updated', 'disabledAutoComplete is false')\n    }\n  }\n\n  focus(): void {\n    this.refInputElement.focus()\n  }\n\n  @flowNamespace.Getter activeFlow?: IFlow\n  @Getter subscriberPropertyFields!: ISubscriberPropertyField[]\n}\n\nexport default ExpressionInput\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpressionInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpressionInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExpressionInput.vue?vue&type=template&id=4923e564&\"\nimport script from \"./ExpressionInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExpressionInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"float-editor\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.label))]),_c('div',[_c('input',{staticClass:\"form-control\",class:{ 'is-invalid': _vm.isInvalid },attrs:{\"type\":\"number\",\"min\":_vm.min,\"placeholder\":_vm.placeholder,\"step\":_vm.step},domProps:{\"value\":_vm.value},on:{\"keypress\":_vm.filterFloat,\"keydown\":function($event){return _vm.$emit('keydown', $event)},\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\n\n@Component({})\nexport class FloatEditor extends mixins(Lang) {\n  @Prop({type: [String, Number], required: true}) readonly label!: string | number\n  @Prop({type: String, default: ''}) readonly placeholder!: string\n  @Prop({type: String, default: '0.1'}) readonly step!: string\n  @Prop({type: [String, Number], required: true}) readonly value!: string | number\n  // Meaning it's accepting negative by default\n  @Prop({type: [String, Number], required: true, default: ''}) readonly min!: string | number\n  @Prop({type: String, default: '[0-9-.,]'}) readonly regexFloatFiltering!: string\n  @Prop({type: Boolean}) readonly validState?: boolean\n\n  get isInvalid(): boolean {\n    return typeof this.validState === 'boolean' && !this.validState\n  }\n\n  filterFloat(e: KeyboardEvent): void {\n    if ((new RegExp(this.regexFloatFiltering, 'g').exec(e.key)) === null) {\n      e.preventDefault()\n    }\n  }\n}\n\nexport default FloatEditor\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FloatEditor.vue?vue&type=template&id=95413f7c&\"\nimport script from \"./FloatEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./FloatEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"keypad-digits-selector\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.label))]),_c('vue-multiselect',{class:{ invalid: _vm.validState === false },attrs:{\"options\":_vm.options,\"placeholder\":_vm.placeholder,\"show-labels\":false,\"preselect-first\":true,\"track-by\":\"name\",\"label\":\"label\"},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport VueMultiselect from 'vue-multiselect'\nimport Lang from '@/lib/filters/lang'\n\nconst KEYS = '1234567890#*'\n\ntype MultiselectOption = {\n  name: string,\n  label: string,\n};\n\n@Component({\n  components: {VueMultiselect},\n})\nexport class KeypadDigitsSelector extends mixins(Lang) {\n  @Prop({type: String, required: true}) label!: string;\n  @Prop({type: String, required: true}) value!: string;\n  @Prop({type: String, default: ''}) placeholder!: string;\n  @Prop({type: Boolean, default: true}) validState!: boolean;\n\n  get options(): MultiselectOption[] {\n    return [\n      {\n        name: KEYS,\n        label: this.trans('flow-builder.any-key'),\n      },\n      ...KEYS.split('').map((key) => ({\n        name: key,\n        label: key,\n      })),\n    ]\n  }\n\n  get modelValue(): MultiselectOption | undefined {\n    return this.options.find((option) => this.value.includes(option.name))\n  }\n\n  set modelValue(value: MultiselectOption | undefined) {\n    this.$emit('input', value?.name)\n  }\n}\n\nexport default KeypadDigitsSelector\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./KeypadDigitsSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./KeypadDigitsSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KeypadDigitsSelector.vue?vue&type=template&id=008079cd&scoped=true&\"\nimport script from \"./KeypadDigitsSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./KeypadDigitsSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./KeypadDigitsSelector.vue?vue&type=style&index=0&id=008079cd&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"008079cd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_vm.tag,{tag:\"component\",staticClass:\"markdown-view\",domProps:{\"innerHTML\":_vm._s(_vm.html)}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {marked} from 'marked'\nimport * as DOMPurify from 'dompurify'\n\nexport const SIMPLE_TYPOGRAPHY = ['b', 'i', 'strong', 'em']\n\nexport function markdownToHtml(markdown: string, ALLOWED_TAGS: string[] = SIMPLE_TYPOGRAPHY): string {\n  return DOMPurify.sanitize(marked.parse(markdown), {ALLOWED_TAGS})\n}\n","\nimport {defineComponent} from 'vue'\nimport {markdownToHtml} from '@/lib/markdown'\n\nexport const MarkdownView = defineComponent({\n  name: 'MarkdownView',\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    markdown: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    html(): string {\n      return markdownToHtml(this.markdown)\n    },\n  },\n})\n\nexport default MarkdownView\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MarkdownView.vue?vue&type=template&id=236cb50a&\"\nimport script from \"./MarkdownView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MarkdownView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"numeric-editor\"},[_c('label',{staticClass:\"text-primary mb-0 d-flex justify-content-between\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.tooltipHint)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.tooltipHint),expression:\"tooltipHint\",modifiers:{\"hover\":true}}],staticClass:\"fa-btn text-primary\",attrs:{\"icon\":['fas', 'info-circle']}}):_vm._e()],1),_c('div',{staticClass:\"small mb-2\"},[_vm._v(\" \"+_vm._s(_vm.subTitle)+\" \")]),_c('div',[_c('input',{staticClass:\"form-control\",class:{ 'is-invalid': _vm.isInvalid },attrs:{\"type\":\"number\",\"min\":\"0\",\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.value},on:{\"keypress\":_vm.filterNumeric,\"keydown\":function($event){return _vm.$emit('keydown', $event)},\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\n\n@Component({})\nexport class NumericEditor extends mixins(Lang) {\n  @Prop({type: Boolean}) readonly validState?: boolean\n  @Prop({type: [String, Number], required: true}) readonly label!: string | number\n  @Prop({type: String, default: ''}) readonly placeholder!: string\n  @Prop({type: [String, Number]}) readonly value?: string | number\n  @Prop({type: String, default: '[0-9-]'}) readonly regexNumericFiltering!: string\n  @Prop({type: String, default: ''}) readonly subTitle!: string\n  @Prop({type: String, default: ''}) readonly tooltipHint!: string\n\n  get isInvalid(): boolean {\n    // Strict comparison, because `undefined` doesn't mean invalid\n    return typeof this.validState === 'boolean' && !this.validState\n  }\n\n  filterNumeric(e: KeyboardEvent): void {\n    if ((new RegExp(this.regexNumericFiltering, 'g').exec(e.key)) === null) {\n      e.preventDefault()\n    }\n  }\n}\n\nexport default NumericEditor\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NumericEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NumericEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NumericEditor.vue?vue&type=template&id=ac6b969c&\"\nimport script from \"./NumericEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./NumericEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"plain-draggable\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop, Watch} from 'vue-property-decorator'\nimport PlainDraggableLib from 'plain-draggable'\nimport Lang from '@/lib/filters/lang'\nimport {IPositionLeftTop} from '@/lib/types'\nimport {namespace} from 'vuex-class'\n\nconst builderNamespace = namespace('builder')\n\n@Component({})\nexport class PlainDraggable extends mixins(Lang) {\n  @Prop(Number) startX?: number\n  @Prop(Number) startY?: number\n  @Prop({type: Boolean, required: true}) isEditable!: boolean\n  @Prop(String) dragHandleId?: string\n\n  // The plain-draggable library has no types yet\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  draggable: any = null\n\n  @Watch('isEditable')\n  onToggleEditable(value: boolean): void {\n    this.draggable.disabled = !value\n  }\n\n  mounted(): void {\n    // todo: modify this to instantiate blank draggable onCreate, then set options when props change\n    console.debug('PlainDraggable.vue', 'mounted')\n\n    // this.$nextTick(() => {\n\n    this.draggable = new PlainDraggableLib(this.$el, this.plainDraggableLibOptions)\n    // draggable.rect.{left,top,x,y,...}\n\n    // todo: why this doesn't work?\n\n    // this.draggable.snap = {x: 50, y: 50, width: 50, height: 50}\n    // this.draggable.snap = {step: 21}\n\n    this.handleInitialized()\n    // })\n  }\n\n  updated(): void {\n    this.draggable.setOptions(this.plainDraggableLibOptions)\n  }\n\n  get plainDraggableLibOptions(): Record<string, unknown> {\n    const handle = this.dragHandleId !== undefined\n      ? document.getElementById(this.dragHandleId)\n      : this.$el.querySelectorAll('.draggable-handle')[0]\n\n    return {\n      containment: document.querySelector('.builder-canvas'),\n      autoScroll: true,\n\n      // prevent css translate() animations for move\n      // they don't seem to be throttled enough for leaderline to follow tightly\n      leftTop: false,\n      // synced with src/store/builder/index.ts:isEditable=true\n      disabled: false,\n      onDrag: this.handleDragged.bind(this),\n      onDragStart: this.handleDragStarted.bind(this),\n      onDragEnd: this.handleDragEnded.bind(this),\n      // onMove: this.handleMoved.bind(this),\n      left: this.startX,\n      top: this.startY,\n\n      handle,\n    }\n  }\n\n  destroyed(): void {\n    const {draggable} = this\n    this.$emit('destroyed', {draggable})\n    this.draggable?.remove()\n  }\n\n  handleInitialized(): void {\n    const {draggable} = this\n    // `draggable` reference to reposition if changed externally like:\n    // https://www.npmjs.com/package/plain-draggable#position\n    this.$emit('initialized', {draggable})\n  }\n\n  handleDragged(position: IPositionLeftTop): void {\n    const {draggable} = this\n    this.$emit('dragged', {draggable, position})\n  }\n\n  handleDragStarted(position: IPositionLeftTop): void {\n    const {draggable} = this\n    this.$emit('dragStarted', {draggable, position})\n  }\n\n  // handleMoved(position): void {\n  //   const {draggable} = this\n  //   this.$emit('moved', {draggable, position})\n  // }\n\n  handleDragEnded(position: IPositionLeftTop): void {\n    const {draggable} = this\n    this.$emit('dragEnded', {draggable, position})\n  }\n}\n\nexport default PlainDraggable\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PlainDraggable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PlainDraggable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlainDraggable.vue?vue&type=template&id=40aae0d1&\"\nimport script from \"./PlainDraggable.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlainDraggable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"text-editor\"},[(_vm.label)?_c('label',{class:_vm.labelClass},[_vm._v(_vm._s(_vm.label))]):_vm._e(),_c('textarea',{staticClass:\"form-control\",class:{ 'is-invalid': _vm.isInvalid },attrs:{\"placeholder\":_vm.placeholder,\"rows\":_vm.rows},domProps:{\"value\":_vm.value},on:{\"keydown\":function($event){return _vm.$emit('keydown', $event)},\"input\":function($event){return _vm.$emit('input', $event.target.value)}}}),_vm._v(\" \"),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop, Vue} from 'vue-property-decorator'\n\n@Component({})\nexport class TextEditor extends Vue {\n  @Prop({type: [String, Number], required: true}) readonly label!: string | number\n  @Prop({type: String, default: 'text-primary'}) readonly labelClass!: string\n  @Prop({type: String, required: true}) readonly placeholder!: string\n  @Prop({type: String, required: false}) readonly value?: string\n  @Prop({type: Boolean}) readonly validState?: boolean\n  @Prop({type: Number, default: 1}) readonly rows!: number\n\n  get isInvalid(): boolean {\n    return typeof this.validState === 'boolean' && !this.validState\n  }\n}\n\nexport default TextEditor\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=de5495b6&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"validation-message form-group\",attrs:{\"id\":_vm.messageKey}},[_vm._t(\"input-control\",null,{\"isValid\":_vm.isValid}),(!_vm.shouldHideValidation)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {BAlert} from 'bootstrap-vue'\nimport {namespace} from 'vuex-class'\nimport {IIndexedString} from '@/store/validation'\n\nconst validationVuexNamespace = namespace('validation')\n\n@Component({\n  components: {\n    BAlert,\n  },\n})\nexport class ValidationMessage extends mixins(Lang) {\n  @Prop() messageKey!: string\n  @Prop({default: false}) shouldHideValidation!: boolean\n  @Prop() readonly overrides?: Record<string, string>\n\n  get errorMessage(): string {\n    // get value by property (not by path like with lodash.get()), as the messageKey can contain `.` chars\n    if (!Object.prototype.hasOwnProperty.call(this.flattenErrorMessages, this.messageKey)) {\n      return ''\n    }\n\n    const message = this.flattenErrorMessages[this.messageKey]\n    const messageText = this.messageOverrides.has(message)\n      ? this.messageOverrides.get(message)!\n      : message\n\n    return messageText.trim().replace(/^(.)/, m => m.toUpperCase())\n  }\n\n  get messageOverrides(): Map<string, string> {\n    return Object.entries(this.overrides ?? {}).reduce((map, [lookupKey, replaceKey]) => {\n      map.set(\n        this.trans(`flow-builder-validation.${lookupKey}`),\n        this.trans(`flow-builder-validation.${replaceKey}`),\n      )\n      return map\n    }, new Map<string, string>())\n  }\n\n  get isValid(): boolean {\n    return !this.errorMessage\n  }\n\n  @validationVuexNamespace.Getter flattenErrorMessages!: IIndexedString\n}\n\nexport default ValidationMessage\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationMessage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationMessage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ValidationMessage.vue?vue&type=template&id=1b282f4e&\"\nimport script from \"./ValidationMessage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ValidationMessage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.activeFlow)?_c('div',{staticClass:\"builder-canvas no-select\",style:({ minWidth: `${_vm.canvasWidth}px` , minHeight: `${_vm.canvasHeight}px` })},_vm._l((_vm.activeFlow.blocks),function(block){return _c('block',{key:block.uuid,attrs:{\"block\":block,\"x\":block.ui_metadata.canvas_coordinates.x,\"y\":block.ui_metadata.canvas_coordinates.y}})}),1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {debounce, maxBy} from 'lodash'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow} from '@floip/flow-runner'\n\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\nconst builderVuexNamespace = namespace('builder')\n\nconst MARGIN_HEIGHT_CORRECTION_PX = -10\n\n//ideal value: the xDelta when we compute xPosition from existing active block\nconst MARGIN_WIDTH_CORRECTION_PX = 120\n\nconst DEBOUNCE_SCROLL_TIMER_MS = 300\n\n@Component({})\nexport class BuilderCanvas extends Vue {\n  @Prop({default: 0}) widthAdjustment!: number\n\n  // ##### Canvas dynamic size watchers [\n  @Watch('canvasHeight')\n  onCanvasHeightChanged(newValue: number): void {\n    console.debug('canvas height changed to', newValue)\n    this.debounceVerticalScroll()\n  }\n\n  @Watch('canvasWidth')\n  onCanvasWidthChanged(newValue: number): void {\n    console.debug('canvas width changed to', newValue)\n    this.debounceHorizontalScroll()\n  }\n\n  // !important: do not change to arrow function\n\n  debounceVerticalScroll = debounce(function (this: any) {\n    window.scrollTo({\n      top: this.canvasHeight,\n    })\n  }, DEBOUNCE_SCROLL_TIMER_MS)\n\n  // !important: do not change to arrow function\n\n  debounceHorizontalScroll = debounce(function (this: any) {\n    window.scrollTo({\n      left: this.canvasWidth,\n    })\n  }, DEBOUNCE_SCROLL_TIMER_MS)\n\n  // ] ######## end canvas dynamic size watchers\n\n  get blockHeight(): number {\n    // it returns array as we loop blocks inside v-for\n    const blockElementRef = this.$refs[`block/${this.blockAtTheLowestPosition?.uuid}`] as Vue[]\n    if (!blockElementRef) {\n      console.debug(\n        'Interaction Designer',\n        'Unable to find DOM element corresponding to lowest block id: ',\n        `block/${this.blockAtTheLowestPosition?.uuid}`,\n      )\n      // for UI scroll purpose\n      const temporaryDummyHeight = 84\n      return temporaryDummyHeight\n    }\n    return (<HTMLElement>(<Vue>blockElementRef[0].$refs.draggable).$el).offsetHeight\n  }\n\n  get blockWidth(): number {\n    // it returns array as we loop blocks inside v-for\n    const blockElementRef = this.$refs[`block/${this.blockAtTheFurthestRightPosition?.uuid}`] as Vue[]\n\n    if (!blockElementRef) {\n      console.debug(\n        'Interaction Designer',\n        'Unable to find DOM element corresponding to furthest right block id: ',\n        `block/${this.blockAtTheFurthestRightPosition?.uuid}`,\n      )\n      // for UI scroll purpose\n      const temporaryDummyWidth = 110\n      return temporaryDummyWidth\n    }\n\n    return ((blockElementRef[0].$refs.draggable as Vue).$el as HTMLElement).offsetWidth\n  }\n\n  get blockAtTheLowestPosition(): any {\n    return maxBy(this.activeFlow.blocks, 'ui_metadata.canvas_coordinates.y')\n  }\n\n  get blockAtTheFurthestRightPosition(): any {\n    return maxBy(this.activeFlow.blocks, 'ui_metadata.canvas_coordinates.x')\n  }\n\n  get windowHeight(): number {\n    return window.screen.availHeight\n  }\n\n  get windowWidth(): number {\n    return window.screen.availWidth\n  }\n\n  get canvasHeight(): any {\n    if (this.activeFlow.blocks.length === 0) {\n      return this.windowHeight\n    }\n\n    if (!this.blockAtTheLowestPosition) {\n      console.debug('Interaction Designer', 'Unable to find block at the lowest position')\n      return this.windowHeight\n    }\n\n    const yPosition: number = this.blockAtTheLowestPosition.ui_metadata.canvas_coordinates.y\n    const scrollHeight = yPosition + MARGIN_HEIGHT_CORRECTION_PX\n\n    if (scrollHeight < this.windowHeight) {\n      return this.windowHeight\n    }\n\n    return scrollHeight\n  }\n\n  get canvasWidth(): number {\n    if (this.activeFlow.blocks.length === 0) {\n      return this.windowWidth - this.widthAdjustment\n    }\n\n    if (!this.blockAtTheFurthestRightPosition) {\n      console.debug('Interaction Designer', 'Unable to find block at the furthest right position')\n      return this.windowWidth - this.widthAdjustment\n    }\n\n    const xPosition: number = this.blockAtTheFurthestRightPosition.ui_metadata.canvas_coordinates.x\n    const scrollWidth = xPosition + this.blockWidth + MARGIN_WIDTH_CORRECTION_PX + this.visibleBlockEditorWidth\n\n    if (scrollWidth < this.windowWidth) {\n      return this.windowWidth - this.widthAdjustment\n    }\n\n    return scrollWidth - this.widthAdjustment\n  }\n\n  get visibleBlockEditorWidth(): number {\n    const blockEditorWidth = 365\n    return this.isBlockEditorOpen ? blockEditorWidth : 0\n  }\n\n  @flowVuexNamespace.State flows?: IFlow[]\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n\n  @builderVuexNamespace.State isBlockEditorOpen!: boolean\n}\n\nexport default BuilderCanvas\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderCanvas.vue?vue&type=template&id=1ac702b3&scoped=true&\"\nimport script from \"./BuilderCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderCanvas.vue?vue&type=style&index=0&id=1ac702b3&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ac702b3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('span',{staticClass:\"connection\",attrs:{\"reposition-hook\":_vm.repositionHook}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:`block/${_vm.block.uuid}`,staticClass:\"block\",attrs:{\"id\":`block/${_vm.block.uuid}`},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectBlock.apply(null, arguments)},\"mouseenter\":function($event){return _vm.setIsMouseOnBlock(true)},\"mouseleave\":function($event){return _vm.setIsMouseOnBlock(false)}}},[(_vm.hasLayout)?_c('plain-draggable',{ref:\"draggable\",staticClass:\"block-draggable\",class:{\n      'is-active': _vm.isBlockActivated,\n      'source-block-having-active-connection': _vm.isAssociatedWithActiveConnectionAsSourceBlock,\n      'target-block-having-active-connection': _vm.isAssociatedWithActiveConnectionAsTargetBlock,\n      'target-block-waiting-for-connection': _vm.isWaitingForConnection,\n      'has-toolbar': _vm.isBlockSelected || _vm.shouldShowBlockEditorForCurrentBlock,\n      ['has-exits']: _vm.hasExitsShown,\n      ['has-multiple-exits']: _vm.hasMultipleExitsShown,\n      [`has-${_vm.numberOfExitsShown}-exits`]: true,\n      [`category-${_vm.blockClasses[_vm.block.type].category}`]: true,\n    },attrs:{\"start-x\":_vm.x,\"start-y\":_vm.y,\"is-editable\":_vm.isEditable},on:{\"dragged\":_vm.onMoved,\"dragEnded\":_vm.handleDraggableEndedForBlock,\"destroyed\":_vm.handleDraggableDestroyedForBlock},nativeOn:{\"mouseenter\":function($event){_vm.isConnectionCreateActive && _vm.activateBlockAsDropZone()},\"mouseleave\":function($event){_vm.isConnectionCreateActive && _vm.deactivateBlockAsDropZone()}}},[_c('header',{staticClass:\"block-target draggable-handle\",class:{\n        'initial': false,\n        'pending': _vm.isConnectionCreateActive,\n        'fulfilled': false,\n        'rejected': false,\n        'activated': _vm.isBlockActivated,\n      },attrs:{\"id\":`block/${_vm.block.uuid}/handle`}},[_c('block-toolbar',{attrs:{\"block\":_vm.block,\"is-activated-by-connection\":_vm.isAssociatedWithActiveConnectionAsTargetBlock,\"is-block-selected\":_vm.isBlockSelected,\"is-editor-visible\":_vm.shouldShowBlockEditorForCurrentBlock,\"is-waiting-for-connection\":_vm.isWaitingForConnection},on:{\"after-block-duplicate\":(...args) => _vm.$emit('after-block-duplicate', ...args)}}),_c('block-title',{attrs:{\"block\":_vm.block}}),_c('h3',{staticClass:\"block-label\",class:{'empty': !_vm.block.label},style:({ maxWidth: `${_vm.labelContainerMaxWidth}px` })},[_vm._v(\" \"+_vm._s(_vm.block.label || _vm.trans('flow-builder.untitled-block'))+\" \")]),_vm._t(\"after-label\")],2),_c('footer',{ref:`block/${_vm.block.uuid}/exits`,staticClass:\"block-exits d-flex mt-1\",class:{'pointer-events-none': !_vm.isEditable},attrs:{\"id\":`block/${_vm.block.uuid}/exits`}},_vm._l((_vm.block.exits),function(exit){return _c('block-exit',{key:exit.uuid,attrs:{\"id\":`exit/${exit.uuid}`,\"exit\":exit,\"block\":_vm.block},on:{\"connection-create-start\":function($event){return _vm.setIsConnectionSource(true)},\"connection-create-end\":function($event){return _vm.setIsConnectionSource(false)}}})}),1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport Vue from 'vue'\nimport {filter, forEach, includes, isNumber} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop, Watch} from 'vue-property-decorator'\nimport {namespace, State} from 'vuex-class'\nimport {IBlock, IBlockExit, IFlow} from '@floip/flow-runner'\nimport {\n  IConnectionContext,\n  IPosition,\n  OperationKind,\n  SupportedOperation,\n} from '@/store/builder'\nimport Lang from '@/lib/filters/lang'\nimport {BlockClassNames} from '@/lib/types'\n\nconst flowNamespace = namespace('flow')\nconst builderNamespace = namespace('builder')\n\ntype BlockAction = ({block}: { block: IBlock }) => void\ntype BlockPositionAction = ({block, position}: { block: IBlock, position: IPosition }) => void\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Draggable = any\n\nconst LABEL_CONTAINER_MAX_WIDTH = 650\nexport const BLOCK_RESET_CONNECTIONS = 'BLOCK_RESET_CONNECTIONS'\n\n@Component({})\nexport class Block extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n  @Prop({type: Number, required: true}) readonly x!: number\n  @Prop({type: Number, required: true}) readonly y!: number\n\n  labelContainerMaxWidth = LABEL_CONTAINER_MAX_WIDTH\n  blockWidth = 0\n  isConnectionSource = false\n\n  created(): void {\n    this.initDraggableForExitsByUuid()\n  }\n\n  updated(): void {\n    if (this.$refs.draggable) {\n      this.blockWidth = (this.$refs.draggable as Vue).$el.clientWidth\n    }\n  }\n\n  mounted(): void {\n    this.$nextTick(function onMounted() {\n      this.updateLabelContainerMaxWidth()\n    })\n\n    window.addEventListener('message', message => {\n      if (message.data === BLOCK_RESET_CONNECTIONS) {\n        this.activeConnectionsContext.forEach(context => {\n          this.deactivateConnectionFromExitUuid({exitUuid: context.exitId})\n        })\n      }\n    })\n  }\n\n  @Watch('blockExitsLength')\n  onBlockExitsLengthChanged(newValue: number, oldValue: number): void {\n    this.$nextTick(() => {\n      this.updateLabelContainerMaxWidth(newValue, newValue < oldValue)\n    })\n  }\n\n  @flowNamespace.State selectedBlocks!: IBlock['uuid'][]\n  @builderNamespace.State activeBlockId!: IBlock['uuid'] | null\n  @builderNamespace.State operations!: Record<OperationKind, SupportedOperation>\n  @builderNamespace.State activeConnectionsContext!: IConnectionContext[]\n  @builderNamespace.State isBlockEditorOpen!: boolean\n  @builderNamespace.State draggableForExitsByUuid: Record<string, Draggable>\n  @builderNamespace.State isConnectionCreationInProgress!: boolean\n  @State(({trees: {ui}}) => ui.blockClasses) blockClasses!: BlockClassNames\n  @builderNamespace.Getter isEditable!: boolean\n  @flowNamespace.Getter activeFlow?: IFlow\n\n  isMouseOnBlock = false\n\n  get blockExitsLength(): number {\n    return this.block.exits.length\n  }\n\n  get numberOfExitsShown(): number {\n    const {exits} = this.block\n    // With the `Default` exit\n    return exits.length\n  }\n\n  get hasExitsShown(): boolean {\n    return this.numberOfExitsShown > 0\n  }\n\n  get hasMultipleExitsShown(): boolean {\n    return this.numberOfExitsShown > 1\n  }\n\n  get hasLayout(): boolean {\n    return isNumber(this.x) && isNumber(this.y)\n  }\n\n  get isAssociatedWithActiveConnection(): boolean {\n    const {block, activeConnectionsContext} = this\n    return !!filter(activeConnectionsContext, (context) => context.sourceId === block.uuid || context.targetId === block.uuid).length\n  }\n\n  get isAssociatedWithActiveConnectionAsSourceBlock(): boolean {\n    const {block, activeConnectionsContext} = this\n    return !!filter(activeConnectionsContext, (context) => context.sourceId === block.uuid).length\n  }\n\n  get isAssociatedWithActiveConnectionAsTargetBlock(): boolean {\n    const {block, activeConnectionsContext} = this\n    return !!filter(activeConnectionsContext, (context) => context.targetId === block.uuid).length\n  }\n\n  get isWaitingForConnection(): boolean {\n    return !this.isConnectionSource && this.isMouseOnBlock && this.isConnectionCreationInProgress\n  }\n\n  get isBlockSelected(): boolean {\n    return includes(this.selectedBlocks, this.block.uuid)\n  }\n\n  // todo: does this component know too much, what out of the above mapped state can be mapped?\n  // todo: We should likely also proxy our resource resolving so that as to mitigate the need to see all resources and generate a context\n\n  get isConnectionCreateActive(): boolean {\n    const {operations} = this\n    return !!operations[OperationKind.CONNECTION_CREATE].data\n  }\n\n  get isBlockActivated(): boolean {\n    const {activeBlockId, isAssociatedWithActiveConnection, block, operations} = this\n    if ((activeBlockId && activeBlockId === block.uuid) || isAssociatedWithActiveConnection) {\n      return true\n    }\n\n    const {data} = operations[OperationKind.CONNECTION_CREATE]\n    return data?.targetId === block.uuid\n  }\n\n  get shouldShowBlockEditorForCurrentBlock(): boolean {\n    return this.isBlockEditorOpen && this.activeBlockId === this.block.uuid\n  }\n\n  @builderNamespace.Mutation activateBlock!: () => void\n  @builderNamespace.Mutation initDraggableForExitsByUuid!: () => void\n  @builderNamespace.Mutation setIsBlockEditorOpen!: (value: boolean) => void\n  @builderNamespace.Mutation deactivateConnectionFromExitUuid!: ({exitUuid}: {exitUuid: IBlockExit['uuid']}) => void\n\n  // ConnectionCreate\n  @builderNamespace.Action setConnectionCreateTargetBlock!: BlockAction\n  @builderNamespace.Action setConnectionCreateTargetBlockToNullFrom!: BlockAction\n  @builderNamespace.Action setBlockPositionTo!: BlockPositionAction\n\n  setIsMouseOnBlock(value: boolean): void {\n    this.isMouseOnBlock = value\n  }\n\n  setIsConnectionSource(value: boolean): void {\n    this.isConnectionSource = value\n  }\n\n  updateLabelContainerMaxWidth(blockExitsLength = this.blockExitsLength, isRemoving = false): void {\n    // one exit\n    const blockExitElement = document.querySelector(`#block\\\\/${this.block.uuid} .block-exit`) as HTMLElement\n\n    if (!blockExitElement) {\n      console.debug('blockExitWidth', 'DOM not ready yet on', `#block\\\\/${this.block.uuid} .block-exit`)\n      return\n    }\n\n    // This allows us to shrink .block-exit into the min-width before extending the block label container\n    // Removing exit\n    if (isRemoving) {\n      // -1: to force having LABEL_CONTAINER_MAX_WIDTH as possible\n      if (LABEL_CONTAINER_MAX_WIDTH < (blockExitsLength - 1) * blockExitElement.offsetWidth) {\n        // but set with `n x {outer width}`\n        this.labelContainerMaxWidth = (blockExitsLength - 1) * blockExitElement.offsetWidth\n        return\n      }\n      // Adding new exit\n    } else if (LABEL_CONTAINER_MAX_WIDTH < blockExitsLength * blockExitElement.clientWidth) {\n        // -1: to force having LABEL_CONTAINER_MAX_WIDTH as possible (especially when removing exits)\n        // but set with `n x {outer width}`\n        this.labelContainerMaxWidth = blockExitsLength * blockExitElement.offsetWidth\n        return\n      }\n\n    this.labelContainerMaxWidth = LABEL_CONTAINER_MAX_WIDTH\n  }\n\n  isExitActivatedForCreate(exit: IBlockExit): boolean {\n    const {data} = this.operations[OperationKind.CONNECTION_CREATE]\n    return data?.source?.exitId === exit.uuid\n  }\n\n  activateBlockAsDropZone(): void {\n    const {block} = this\n    this.setConnectionCreateTargetBlock({block})\n  }\n\n  deactivateBlockAsDropZone(): void {\n    const {block} = this\n\n    if ((this.operations[OperationKind.CONNECTION_CREATE]).data?.targetId !== null) {\n      this.setConnectionCreateTargetBlockToNullFrom({block})\n    }\n  }\n\n  onMoved({position: {left: x, top: y}}: {position: {left: number, top: number}}): void {\n    // todo: try this the vuejs way where we push the change into state, then return false + modify draggable w/in store ?\n\n    const {block} = this\n    this.$nextTick(() => {\n      this.setBlockPositionTo({position: {x, y}, block})\n\n      forEach(this.draggableForExitsByUuid, (draggable, key) => {\n        try {\n          draggable.position()\n        } catch (e) {\n          console.warn('Block', 'onMoved', 'positioning draggable on', key, 'can\\'t access property \"initElm\", props is undefined')\n        }\n      })\n      console.debug('Block', 'onMoved', 'positioned all of', this.draggableForExitsByUuid)\n    })\n  }\n\n  // todo: store the leaderlines in vuex and manip there --- aka the leaderline itself would simply _produce_ the\n  //       domain object which we thenceforth manip in vuex ?\n\n  selectBlock(): void {\n    let shouldBlockEditorBeVisible\n    if (this.activeBlockId !== this.block.uuid) {\n      shouldBlockEditorBeVisible = true\n    } else {\n      shouldBlockEditorBeVisible = !this.isBlockEditorOpen\n    }\n\n    this.setIsBlockEditorOpen(shouldBlockEditorBeVisible)\n\n    let routerName\n    if (this.isBlockEditorOpen) {\n      routerName = 'block-selected-details'\n      this.$emit('before-minimize')\n    } else {\n      routerName = 'block-selected'\n      this.$emit('before-expand')\n    }\n\n    this.$router.replace(\n      {\n        name: routerName,\n        params: {blockId: this.block.uuid},\n      },\n      undefined,\n      (err) => {\n        if (err == null) {\n          console.warn('Unknown navigation error has occurred when selecting a block')\n        } else if (err.name !== 'NavigationDuplicated') {\n          console.warn(err)\n        }\n      },\n    )\n  }\n\n  handleDraggableEndedForBlock(): void {\n    console.debug('Block', 'handleDraggableEndedForBlock')\n    forEach(this.block.exits, (exit) => {\n      delete this.draggableForExitsByUuid[exit.uuid]\n    })\n  }\n\n  handleDraggableDestroyedForBlock(): void {\n    console.debug('Block', 'handleDraggableDestroyedForBlock')\n    forEach(this.block.exits, (exit) => {\n      delete this.draggableForExitsByUuid[exit.uuid]\n    })\n  }\n}\n\nexport default Block\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=12a45214&\"\nimport script from \"./Block.vue?vue&type=script&lang=ts&\"\nexport * from \"./Block.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Block.vue?vue&type=style&index=0&id=12a45214&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport LeaderLine from 'leader-line'\nimport {set} from 'lodash'\nimport {IBlock, IBlockExit} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport {IConnectionContext} from '@/store/builder'\nimport {BLOCK_RESET_CONNECTIONS} from './block/Block.vue'\n\nexport const colorStates = {\n  ON_HOVER: '#A31E65',\n  CONNECTING: '#10661E',\n  // For states: Disconnected, Connected, Extremity element in focus\n  DEFAULT: '#707070',\n}\n\nconst builderNamespace = namespace('builder')\n\ninterface ILeaderLineOptions {\n  color: string,\n  endPlugColor?: string,\n  endPlugSize: number,\n  endSocket: string,\n  gradient?: true,\n  outline?: boolean,\n  outlineColor?: string,\n  path: string,\n  size: number,\n  startPlug: string,\n  startPlugColor?: string,\n  startSocket: string,\n}\n\n@Component({})\nexport class Connection extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly exit!: IBlockExit\n  @Prop({type: Function, required: true}) readonly repaintCacheKeyGenerator!: Function\n  @Prop({type: Object}) readonly source!: IBlock\n  @Prop({type: Object}) readonly target!: IBlock\n  @Prop({type: Object}) readonly position!: { x: number, y: number }\n  @Prop({type: String}) readonly color!: string\n\n  // The leader-line library has no types yet\n  // No need to set up observers over this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  line: any = undefined\n  isPermanentlyActive = false\n\n  get hasDestination(): Boolean {\n    return this.exit.destination_block != null\n  }\n\n  /**\n   * these options come from the Leader-line doc: https://anseki.github.io/leader-line/#options\n   */\n  get options(): ILeaderLineOptions {\n    return {\n      startPlug: 'square',\n      color: this.color,\n      startSocket: 'bottom',\n      endSocket: 'top',\n      size: 4,\n      path: 'grid',\n      endPlugSize: 1,\n      // middleLabel: LeaderLine.captionLabel(this.exit.name, {\n      //   color: darkColor,\n      //   fontSize: 12,\n      //   // lineOffset: 65,\n      // }),\n    }\n  }\n\n  get onHoverOptions(): Partial<ILeaderLineOptions> {\n    return {\n      color: colorStates.ON_HOVER,\n    }\n  }\n\n  get connectionContext(): IConnectionContext {\n    return {\n      sourceId: this.source?.uuid ?? '',\n      targetId: this.target?.uuid ?? '',\n      exitId: this.exit?.uuid ?? '',\n    }\n  }\n\n  get sourceElementId(): string {\n    return `exit/${this.exit.uuid}`\n  }\n\n  get targetElementId(): string {\n    const {exit} = this\n    return exit.destination_block\n      ? `block/${exit.destination_block}/handle`\n      : `exit/${exit.uuid}/pseudo-block-handle`\n  }\n\n  // todo: externalize as `positionCacheKey` + deprecate `position` prop\n  //       but rather include that in `positionCacheKey`'s domain definition\n  get repositionHook(): string | null {\n    if (!this.repaintCacheKeyGenerator) {\n      return null\n    }\n\n    // @note - intentional side-effect; todo: move this into vuex responding to data changes\n    // todo: we only want this called if something changes.\n    this.$nextTick(() => {\n      this.reposition()\n    })\n\n    // generate drafts while 'between exits' or 'source/destination unknown'\n    // todo: push these out into ?block?\n    const source = this.source || {\n      ...set({}, 'ui_metadata.canvas_coordinates.x', this.position?.x),\n      ...set({}, 'ui_metadata.canvas_coordinates.y', this.position?.y),\n    }\n\n    const target = this.target || {\n      ...set({}, 'ui_metadata.canvas_coordinates.x', this.position?.x),\n      ...set({}, 'ui_metadata.canvas_coordinates.y', this.position?.y),\n    }\n\n    return this.repaintCacheKeyGenerator(source, target)\n      .join('\\n')\n  }\n\n  mounted(): void {\n    // todo: add an invisible centered dot on a node header\n    // if (!this.datum.source || !this.datum.target) {\n    //   return\n    // }\n\n    // todo: I think we can do something like this instead; will this prevent all the hairy business if we use pointAnchors?\n    //       See: https://github.com/anseki/leader-line#element\n    //       What I'm thinking is that we can just leverage these x/y's? How do we then update them?\n    // new LeaderLine(element1, LeaderLine.pointAnchor(element3, {x: 10, y: 30}));\n\n    // const {sourcePosition, targetPosition} = this\n    // this.line = new LeaderLine(\n    //     LeaderLine.pointAnchor(document.body, sourcePosition),\n    //     LeaderLine.pointAnchor(document.body, targetPosition), options)\n\n    const blockPaddingOffset = {x: '50%', y: -7}\n    const start = document.getElementById(this.sourceElementId)\n    const end = this.position\n      ? document.getElementById(this.targetElementId)\n      : LeaderLine.pointAnchor(document.getElementById(this.targetElementId), blockPaddingOffset)\n\n    this.line = new LeaderLine(start, end, this.options)\n\n    // The only way to identify current line so far: https://github.com/anseki/leader-line/issues/185\n    const connectionElement: Element | null = document.querySelector('body>.leader-line:last-of-type')\n\n    // Add event listeners\n    if (connectionElement !== null) {\n      connectionElement.addEventListener('click', this.clickHandler.bind(this), false)\n      document.addEventListener('click', this.clickAwayHandler.bind(this, connectionElement), false)\n      connectionElement.addEventListener('mouseover', this.mouseOverHandler.bind(this), false)\n      connectionElement.addEventListener('mouseout', this.mouseOutHandler.bind(this), false)\n    }\n\n    // stop listening to scroll and window resize hooks\n    // LeaderLine.positionByWindowResize = false\n    // this.line.positionByWindowResize = false\n\n    window.addEventListener('message', message => {\n      if (message.data === BLOCK_RESET_CONNECTIONS) {\n        this.resetActiveConnection()\n      }\n    })\n  }\n\n  beforeDestroy(): void {\n    this.line.remove()\n  }\n\n  @builderNamespace.Mutation activateConnection!: ({connectionContext}: { connectionContext: IConnectionContext }) => void\n  @builderNamespace.Mutation deactivateConnection!: ({connectionContext}: { connectionContext: IConnectionContext }) => void\n  @builderNamespace.Mutation activateBlock!: ({blockId}: { blockId: IBlock['uuid'] | null }) => void\n\n  reposition(): void {\n    if (!this.line) {\n      return\n    }\n\n    const position = this.line.position()\n\n    console.debug('connection', 'repositioning', {\n      sourceId: this.source?.uuid,\n      targetId: this.target?.uuid,\n      position,\n      y: this.line.top,\n      x: this.line.left,\n    })\n  }\n\n  mouseOverHandler(): void {\n    // Do not handle anything if we don't have the destination yet\n    if (!this.hasDestination) {\n      return\n    }\n\n    this.line.setOptions(this.onHoverOptions)\n    this.activateConnection({connectionContext: this.connectionContext})\n    this.$emit('lineMouseIn')\n  }\n\n  mouseOutHandler(): void {\n    // Do not handle anything if we don't have the destination yet\n    if (!this.hasDestination) {\n      return\n    }\n\n    if (!this.isPermanentlyActive) {\n      this.line.setOptions(this.options)\n      this.deactivateConnection({connectionContext: this.connectionContext})\n    }\n    this.$emit('lineMouseOut')\n  }\n\n  clickHandler(): void {\n    this.isPermanentlyActive = true\n    this.activateConnection({connectionContext: this.connectionContext})\n    this.activateBlock({blockId: null})\n    this.$emit('lineMouseIn')\n    this.$emit('lineMouseClickedIn')\n  }\n\n  clickAwayHandler(connectionElement: Element, event: Event): void {\n    // Do not listen if the connection was not fully set\n    // TODO: Correctly implement the commented removeEventListener in case of performance issue on multiple bocks\n    try {\n      if (!this.line?.end) {\n        // document.removeEventListener('click', this.clickAwayHandler.bind(this, connectionElement), false)\n        return\n      }\n    } catch (e) {\n      // document.removeEventListener('click', this.clickAwayHandler.bind(this, connectionElement), false)\n      return\n    }\n\n    const isClickInside = connectionElement.contains(event.target as Element)\n\n    if (!isClickInside) {\n      this.resetActiveConnection()\n    }\n    this.$emit('lineMouseOut')\n  }\n\n  resetActiveConnection(): void {\n    this.isPermanentlyActive = false\n\n    try {\n      this.line.setOptions(this.options)\n    } catch (e) {\n      /**\n       * TODO: There is a runtime error with vue-multiselect in stacktrace, which should not\n       * be involved at all. Suppressing, as it does not affect the functionality.\n       */\n    }\n\n    this.deactivateConnection({connectionContext: this.connectionContext})\n    this.$emit('lineMouseClickedOut')\n  }\n}\n\nexport default Connection\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Connection.vue?vue&type=template&id=272d9def&\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts&\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Connection.vue?vue&type=style&index=0&id=272d9def&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"resource-viewer\"},[_vm._t(\"vendor-header\"),_c('div',{staticClass:\"resource-viewer-contents\"},_vm._l((_vm.activeFlow?.blocks ?? []),function(block){return _c('resource-viewer-block',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleBlocks === null || _vm.visibleBlocks.includes(block.uuid)),expression:\"visibleBlocks === null || visibleBlocks.includes(block.uuid)\"}],key:block.uuid,attrs:{\"id\":`block/${block.uuid}`,\"block\":block},on:{\"change\":_vm.debounce_persistFlow}})}),1),_vm._t(\"vendor-footer\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport {debounce} from 'lodash'\nimport {mapActions, mapGetters} from 'vuex'\n\nexport const DEBOUNCE_FLOW_PERSIST_MS = 1500\n\nexport default {\n  name: 'ResourceViewer',\n  mixins: [Lang],\n  props: {\n    visibleBlocks: {\n      type: Array,\n      // if null, all blocks are visible\n      default: () => null,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      activeFlow: 'flow/activeFlow',\n    }),\n    id() {\n      return this.$route.params.id\n    },\n  },\n  mounted() {\n    console.debug('VueJS flow resources viewer mounted!')\n  },\n  methods: {\n    ...mapActions('builder', [\n      'persistFlowAndHandleUiState',\n    ]),\n    debounce_persistFlow: debounce(function () {\n      return this.persistFlowAndHandleUiState()\n    }, DEBOUNCE_FLOW_PERSIST_MS),\n  },\n}\n","var render, staticRenderFns\nimport script from \"./CommonVoiceChoiceConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonVoiceChoiceConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceViewer.vue?vue&type=template&id=0c25d160&\"\nimport script from \"./ResourceViewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceViewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResourceViewer.vue?vue&type=style&index=0&id=0c25d160&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"choices-builder form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.choices')))]),_vm._l((_vm.choiceResourcesOrderedByResourcesList),function(resource,i){return [_c('resource-variant-text-editor',{key:resource.uuid,ref:\"choices\",refInFor:true,staticClass:\"choices-builder-item\",attrs:{\"index\":0,\"prepend-text\":(i + 1).toString(),\"title\":resource.uuid,\"rows\":1,\"placeholder\":'Enter choice...',\"resource-id\":resource.uuid,\"resource-variant\":resource.values[0],\"mode\":_vm.SupportedMode.TEXT,\"disabled-auto-complete\":true},on:{\"afterResourceVariantChanged\":function($event){return _vm.handleExistingResourceVariantChangedFor(\n        {choiceIndex: i},\n        $event\n      )}}})]}),(_vm.draftResource)?_c('resource-variant-text-editor',{ref:\"draftChoice\",staticClass:\"choices-builder-item\",attrs:{\"prepend-text\":(_vm.choiceResourcesOrderedByResourcesList.length + 1).toString(),\"rows\":1,\"placeholder\":'Enter choice...',\"resource-id\":_vm.draftResource.uuid,\"resource-variant\":_vm.findOrGenerateStubbedVariantOn(\n      _vm.draftResource,\n      {language_id: _vm.activeFlow.languages[0].id,\n       content_type: _vm.SupportedContentType.TEXT,\n       mime_type: _vm.choiceMimeType,\n       modes: [_vm.SupportedMode.TEXT]}),\"mode\":_vm.SupportedMode.TEXT,\"disabled-auto-complete\":true},on:{\"beforeResourceVariantChanged\":_vm.addDraftResourceToChoices,\"afterResourceVariantChanged\":_vm.handleNewChoiceChange}}):_vm._e(),_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/choices`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return undefined}}])}),_c('choice-mapping-modal',{attrs:{\"block\":_vm.block}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"choice-mapping-modal\"},[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"disabled\":_vm.block.config.choices.length === 0},on:{\"click\":_vm.showModal}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.set-choice-options'))+\" \")])]),_c('b-modal',{ref:\"edit-choice-mapping-modal\",attrs:{\"ok-title\":_vm.trans('flow-builder.close'),\"title\":_vm.trans('flow-builder.choice-options'),\"ok-only\":\"\",\"size\":\"lg\"}},[(_vm.shouldHaveTabs)?_c('div',{staticClass:\"choice-mapping-navs\"},[_c('nav',[_c('div',{staticClass:\"nav nav-tabs\",attrs:{\"id\":\"choice-options-nav-tab\",\"role\":\"tablist\"}},[(_vm.hasVoiceMode)?_c('a',{staticClass:\"nav-item nav-link\",class:{'active': _vm.hasVoiceMode},attrs:{\"id\":\"nav-voice-tab\",\"aria-controls\":\"nav-home\",\"aria-selected\":\"true\",\"data-toggle\":\"tab\",\"href\":\"#nav-voice\",\"role\":\"tab\"}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.voice'))+\" (\"+_vm._s(_vm.trans('flow-builder.all-languages'))+\") \")]):_vm._e(),(_vm.hasTextMode)?_vm._l((_vm.textLanguages),function({id: languageId, label: language},index){return _c('a',{key:languageId,staticClass:\"nav-item nav-link\",class:{'active': !_vm.hasVoiceMode && _vm.hasTextMode && index === 0},attrs:{\"id\":`nav-lang-tab-${languageId}`,\"href\":`#nav-lang-${languageId}`,\"title\":language || _vm.trans('flow-builder.unknown-language'),\"aria-controls\":\"nav-profile\",\"aria-selected\":\"false\",\"data-toggle\":\"tab\",\"role\":\"tab\"}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.data-type-text'))+\" (\"+_vm._s(language || _vm.trans('flow-builder.unknown-language'))+\") \")])}):_vm._e()],2)]),_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"choice-options-nav-tab-content\"}},[(_vm.hasVoiceMode)?_c('div',{staticClass:\"tab-pane fade\",class:{'show active': _vm.hasVoiceMode},attrs:{\"id\":\"nav-voice\",\"aria-labelledby\":\"nav-voice-tab\",\"role\":\"tabpanel\"}},[_c('div',{staticClass:\"mt-3\"},[_c('voice-mapping-table',{attrs:{\"block\":_vm.block}})],1)]):_vm._e(),(_vm.hasTextMode)?_vm._l((_vm.textLanguages),function({id: languageId, label: language},index){return _c('div',{key:languageId,staticClass:\"tab-pane fade\",class:{'show active': !_vm.hasVoiceMode && _vm.hasTextMode && index === 0},attrs:{\"id\":`nav-lang-${languageId}`,\"aria-labelledby\":\"nav-lang-tab\",\"role\":\"tabpanel\"}},[_c('div',{staticClass:\"mt-3\"},[_c('text-mapping-table',{attrs:{\"block\":_vm.block,\"lang-id\":languageId}})],1)])}):_vm._e()],2)]):_c('div',[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.cannot-map-choices-hint'))+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"voice-mapping-table table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"col-5 align-top\"},[_vm._v(_vm._s(_vm.trans('flow-builder.choice-name')))]),_c('th',{staticClass:\"align-top\"},[_vm._v(_vm._s(_vm.trans('flow-builder.voice-key-press')))]),_c('th',{staticClass:\"col-5 align-top\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.expressions'))+\" \"),_c('h5',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.trans('flow-builder.voice-choice-mapping-expression')))])])])]),_c('tbody',_vm._l((_vm.block.config.choices),function(choice,index){return _c('voice-mapping-row',{key:index,attrs:{\"block\":_vm.block,\"current-choice\":choice,\"index\":index}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('tr',{staticClass:\"voice-mapping-row\"},[_c('td',{staticClass:\"d-flex\"},[_vm._v(\" \"+_vm._s(_vm.currentChoice.name)+\" \"),_c('div',{staticClass:\"custom-control custom-checkbox ml-auto\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shouldUseExpression),expression:\"shouldUseExpression\"}],staticClass:\"custom-control-input\",attrs:{\"id\":`useExpression-${_vm.index}`,\"name\":`useExpression-${_vm.index}`,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.shouldUseExpression)?_vm._i(_vm.shouldUseExpression,null)>-1:(_vm.shouldUseExpression)},on:{\"change\":function($event){var $$a=_vm.shouldUseExpression,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.shouldUseExpression=$$a.concat([$$v]))}else{$$i>-1&&(_vm.shouldUseExpression=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.shouldUseExpression=$$c}}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":`useExpression-${_vm.index}`}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.use-expressions'))+\" \")])])]),_c('td',[_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('key-press-selector',{attrs:{\"block\":_vm.block,\"current-choice\":_vm.currentChoice,\"disabled\":_vm.shouldUseExpression,\"index\":_vm.index}})],1)]),_c('td',[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/choices/${_vm.index}/ivr_test/test_expression`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{staticClass:\"mb-1\",attrs:{\"current-expression\":_vm.currentExpression,\"label\":'',\"placeholder\":_vm.trans('flow-builder.enter-expression'),\"valid-state\":isValid,\"disabled\":!_vm.shouldUseExpression},on:{\"commitExpressionChange\":_vm.updateCurrentExpression}})]}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keypress),expression:\"keypress\"}],staticClass:\"voice-key-press-selector\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.keypress=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.options),function(value){return _c('option',{key:value,attrs:{\"disabled\":_vm.disabled},domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(value)+\" \")])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport {mapActions} from 'vuex'\nimport {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport {BLOCK_RESPONSE_EXPRESSION} from '@/store/flow/block/choice'\nimport {IChoice, ISelectOneResponseBlock} from '@floip/flow-runner'\n\nexport default {\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n    currentChoice: {\n      type: IChoice,\n      required: true,\n    },\n    index: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      options: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '*'],\n      BLOCK_RESPONSE_EXPRESSION,\n    }\n  },\n  computed: {\n    currentExpressionWithoutSpaces() {\n      return this.currentExpression !== undefined ? this.currentExpression.replace(/\\s/g, '') : undefined\n    },\n    currentExpression() {\n      return this.currentChoice.ivr_test?.test_expression\n    },\n    /**\n     * Test if:\n     * - the expression starts with `block.response='` (floip schema) or `@block.response='` (from partner's flow)\n     * - and if the estimated key_press is part of the options' elements\n     */\n    isKeyPressIdentifiable() {\n      if (\n        this.currentExpressionWithoutSpaces.endsWith('\\'') === true\n        && (this.currentExpressionWithoutSpaces?.startsWith(`${BLOCK_RESPONSE_EXPRESSION}='`) === true\n        || this.currentExpressionWithoutSpaces?.startsWith(`@${BLOCK_RESPONSE_EXPRESSION}='`) === true)\n      ) {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        if (this.options.includes(this.estimatedKeyPress) === true) {\n          return true\n        }\n      }\n\n      return false\n    },\n    estimatedKeyPress() {\n      return String(this.currentExpressionWithoutSpaces?.split('\\'')?.[1])\n    },\n    keypress: {\n      get() {\n        if (this.isKeyPressIdentifiable === true) {\n          return this.estimatedKeyPress\n        }\n\n        // Provide an incremental value based on existing choices\n        // For now, just a simple incremental logic without considering the choice's ivr_test value\n        const nextIndex = Number(this.index) + 1\n        return nextIndex <= 9 ? String(nextIndex) : '*'\n      },\n      set(value) {\n        this.updateCurrentExpression(`${BLOCK_RESPONSE_EXPRESSION} = '${value}'`)\n      },\n    },\n  },\n\n  methods: {\n    ...mapActions(`flow/${BLOCK_TYPE}`, ['block_setChoiceIvrExpressionOnIndex']),\n    updateCurrentExpression(value) {\n      this.block_setChoiceIvrExpressionOnIndex({\n        blockId: this.block.uuid,\n        index: this.index,\n        value,\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommonVoiceChoiceConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CommonVoiceChoiceConfig.vue?vue&type=script&lang=js&\"","<template>\n  <select\n    v-model=\"keypress\"\n    class=\"voice-key-press-selector\">\n    <option v-for=\"value in options\" :key=\"value\" :disabled=\"disabled\" :value=\"value\">\n      {{ value }}\n    </option>\n  </select>\n</template>\n\n<script>\nimport CommonVoiceChoiceConfig from './mixins/CommonVoiceChoiceConfig.vue'\n\nexport default {\n  extends: CommonVoiceChoiceConfig,\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n}\n</script>\n\n<style scoped>\n.key-press-selector {\n  width: 4.5em\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceKeyPressSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceKeyPressSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoiceKeyPressSelector.vue?vue&type=template&id=156d9deb&scoped=true&\"\nimport script from \"./VoiceKeyPressSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./VoiceKeyPressSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VoiceKeyPressSelector.vue?vue&type=style&index=0&id=156d9deb&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"156d9deb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <tr class=\"voice-mapping-row\">\n    <td class=\"d-flex\">\n      {{ currentChoice.name }}\n      <div class=\"custom-control custom-checkbox ml-auto\">\n        <input\n          :id=\"`useExpression-${index}`\"\n          v-model=\"shouldUseExpression\"\n          :name=\"`useExpression-${index}`\"\n          class=\"custom-control-input\"\n          type=\"checkbox\">\n        <label :for=\"`useExpression-${index}`\" class=\"custom-control-label font-weight-normal\">\n          {{ trans('flow-builder.use-expressions') }}\n        </label>\n      </div>\n    </td>\n    <td>\n      <div class=\"d-flex justify-content-center\">\n        <key-press-selector\n          :block=\"block\"\n          :current-choice=\"currentChoice\"\n          :disabled=\"shouldUseExpression\"\n          :index=\"index\"/>\n      </div>\n    </td>\n    <td>\n      <validation-message\n        #input-control=\"{ isValid }\"\n        :message-key=\"`block/${block.uuid}/config/choices/${index}/ivr_test/test_expression`\">\n        <expression-input\n          :current-expression=\"currentExpression\"\n          :label=\"''\"\n          :placeholder=\"trans('flow-builder.enter-expression')\"\n          :valid-state=\"isValid\"\n          class=\"mb-1\"\n          :disabled=\"!shouldUseExpression\"\n          @commitExpressionChange=\"updateCurrentExpression\" />\n      </validation-message>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport Lang from '@/lib/filters/lang'\nimport {mapGetters} from 'vuex'\nimport KeyPressSelector from './VoiceKeyPressSelector.vue'\nimport CommonVoiceChoiceConfig from './mixins/CommonVoiceChoiceConfig.vue'\n\nexport default {\n  name: 'VoiceMappingRow',\n  components: {\n    KeyPressSelector,\n  },\n  extends: CommonVoiceChoiceConfig,\n  mixins: [Lang],\n\n  created() {\n    // We already provide a default value for ivr_test.test_expression during choice creation\n    // But, there might be a scenario where we still have it undefined, eg: for imported blocks\n    // Therefore, we set it here to make sure we use key_press selector by default\n    if (this.hasVoiceMode === true && this.currentChoice?.ivr_test?.test_expression === undefined) {\n      this.updateCurrentExpression(`${this.BLOCK_RESPONSE_EXPRESSION} = '${this.keypress}'`)\n    }\n  },\n\n  computed: {\n    ...mapGetters('flow', ['hasVoiceMode']),\n    shouldUseExpression: {\n      get() {\n        return !(this.isKeyPressIdentifiable === true)\n      },\n      set(value) {\n        if (value === true) {\n          this.updateCurrentExpression('')\n        } else {\n          this.updateCurrentExpression(`${this.BLOCK_RESPONSE_EXPRESSION} = '${this.keypress}'`)\n        }\n      },\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceMappingRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceMappingRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoiceMappingRow.vue?vue&type=template&id=38d7b64e&scoped=true&\"\nimport script from \"./VoiceMappingRow.vue?vue&type=script&lang=js&\"\nexport * from \"./VoiceMappingRow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38d7b64e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <table class=\"voice-mapping-table table table-striped\">\n    <thead>\n    <tr>\n      <th class=\"col-5 align-top\">{{ trans('flow-builder.choice-name') }}</th>\n      <th class=\"align-top\">{{ trans('flow-builder.voice-key-press') }}</th>\n      <th class=\"col-5 align-top\">\n        {{ trans('flow-builder.expressions') }}\n        <h5 class=\"small\">{{ trans('flow-builder.voice-choice-mapping-expression')}}</h5>\n      </th>\n    </tr>\n    </thead>\n    <tbody>\n      <voice-mapping-row\n        v-for=\"(choice, index) in block.config.choices\"\n        :key=\"index\"\n        :block=\"block\"\n        :current-choice=\"choice\"\n        :index=\"index\" />\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport Lang from '@/lib/filters/lang'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner'\nimport VoiceMappingRow from './VoiceMappingRow.vue'\n\nexport default {\n  name: 'VoiceMappingTable',\n  components: {\n    VoiceMappingRow,\n  },\n  mixins: [Lang],\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceMappingTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./VoiceMappingTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoiceMappingTable.vue?vue&type=template&id=08e84526&\"\nimport script from \"./VoiceMappingTable.vue?vue&type=script&lang=js&\"\nexport * from \"./VoiceMappingTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"text-mapping-table table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"col-5 align-top\"},[_vm._v(_vm._s(_vm.trans('flow-builder.choice-name')))]),_c('th',{staticClass:\"align-top\"},[_vm._v(_vm._s(_vm.trans('flow-builder.synonyms'))+\" / \"+_vm._s(_vm.trans('flow-builder.text-expression')))])])]),_c('tbody',_vm._l((_vm.block.config.choices),function(choice,index){return _c('text-mapping-row',{key:index,attrs:{\"block\":_vm.block,\"current-choice\":choice,\"index\":index,\"lang-id\":_vm.langId}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('tr',{staticClass:\"text-mapping-row\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm.currentChoice.name)+\" \")]),_c('td',[_c('text-synonyms-editor',{attrs:{\"block\":_vm.block,\"current-choice\":_vm.currentChoice,\"index\":_vm.index,\"lang-id\":_vm.langId}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-synonyms-editor\"},[_vm._l((_vm.synonymsForLanguage),function({ test_expression, visible_expression, globalIndex },synonymIndex){return _c('validation-message',{key:synonymIndex,attrs:{\"message-key\":`block/${_vm.block.uuid}/config/choices/${_vm.index}/text_tests/${globalIndex}/test_expression`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{ref:\"expressionInputs\",refInFor:true,staticClass:\"mb-1\",attrs:{\"current-expression\":visible_expression,\"title\":test_expression,\"label\":'',\"placeholder\":_vm.trans('flow-builder.enter-expression'),\"valid-state\":isValid},on:{\"commitExpressionChange\":function($event){return _vm.updateCurrentExpression(synonymIndex, $event)}}})]}}],null,true)})}),_c('expression-input',{staticClass:\"mb-1\",attrs:{\"current-expression\":_vm.draftExpression,\"label\":'',\"placeholder\":_vm.trans('flow-builder.enter-expression')},on:{\"commitExpressionChange\":_vm.addNewExpression}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-synonyms-editor\">\n    <validation-message\n      v-for=\"({ test_expression, visible_expression, globalIndex }, synonymIndex) in synonymsForLanguage\"\n      :key=\"synonymIndex\"\n      :message-key=\"`block/${block.uuid}/config/choices/${index}/text_tests/${globalIndex}/test_expression`\">\n      <template #input-control=\"{ isValid }\">\n        <expression-input\n          ref=\"expressionInputs\"\n          :current-expression=\"visible_expression\"\n          :title=\"test_expression\"\n          :label=\"''\"\n          :placeholder=\"trans('flow-builder.enter-expression')\"\n          :valid-state=\"isValid\"\n          class=\"mb-1\"\n          @commitExpressionChange=\"updateCurrentExpression(synonymIndex, $event)\" />\n      </template>\n    </validation-message>\n\n    <!--empty input to add new synonyms-->\n    <expression-input\n      :current-expression=\"draftExpression\"\n      :label=\"''\"\n      :placeholder=\"trans('flow-builder.enter-expression')\"\n      class=\"mb-1\"\n      @commitExpressionChange=\"addNewExpression\" />\n  </div>\n</template>\n\n<script>\nimport {IChoice, ISelectOneResponseBlock} from '@floip/flow-runner'\nimport {mapActions} from 'vuex'\nimport {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {testExpressionToChoice} from '@/components/interaction-designer/block-editors/choices/expressionTransformers'\n\nexport default {\n  name: 'TextSynonymsEditor',\n  mixins: [Lang],\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n    currentChoice: {\n      type: IChoice,\n      required: true,\n    },\n    index: {\n      type: Number,\n      required: true,\n    },\n    langId: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      /**\n       * Despite using local state, this component does not cause problems with undo/redo\n       * because the UI within a modal dialog is updated before the undo/redo action,\n       * which means re-rendering of the entire component.\n       *\n       * See CORE-573 for more details.\n       */\n      draftExpression: '',\n    }\n  },\n\n  computed: {\n    synonymsForLanguage() {\n      return this.choiceTests\n        .map((text_test, globalIndex) => ({\n          ...text_test,\n          visible_expression: testExpressionToChoice(text_test.test_expression),\n          globalIndex,\n        }))\n        .filter(({language}) => language === this.langId)\n    },\n    choiceTests() {\n      return this.currentChoice.text_tests\n    },\n  },\n\n  created() {\n    // We already provide a default value for text_tests[0].test_expression during choice creation\n    // But, there might be a scenario where we still have it undefined, eg: for imported blocks\n    // Therefore, we set it here to make sure we use key_press selector by default\n    const testIndex = 0\n    if (this.currentChoice?.text_tests?.[testIndex]?.test_expression === undefined) {\n      this.updateCurrentExpression(testIndex, {value: this.currentChoice.name})\n    }\n  },\n\n  methods: {\n    ...mapActions(`flow/${BLOCK_TYPE}`, [\n      'choice_setSynonymForLanguage',\n      'choice_removeTextTestsExpressionOnIndex',\n    ]),\n\n    updateCurrentExpression(testIndex, value) {\n      if (value > '') {\n        // ADD\n        this.choice_setSynonymForLanguage({\n          blockId: this.block.uuid,\n          resourceId: this.currentChoice.prompt,\n          language: this.langId,\n          index: testIndex,\n          value,\n        })\n      } else {\n        // DELETION\n        this.choice_removeTextTestsExpressionOnIndex({\n          choice: this.currentChoice,\n          testIndex,\n        })\n\n        // Hack the dom rendering to make sure we update the UI\n        this.draftExpression = value\n        this.$nextTick(() => {\n          this.draftExpression = ''\n        })\n      }\n    },\n    addNewExpression(value) {\n      this.draftExpression = value\n\n      this.choice_setSynonymForLanguage({\n        blockId: this.block.uuid,\n        resourceId: this.currentChoice.prompt,\n        language: this.langId,\n        value,\n      })\n\n      // Wait the dom to be ready before resetting back\n      this.$nextTick(() => {\n        this.draftExpression = ''\n        this.$refs.expressionInputs.at(-1).focus()\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextSynonymsEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextSynonymsEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextSynonymsEditor.vue?vue&type=template&id=b6441f8e&\"\nimport script from \"./TextSynonymsEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextSynonymsEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <tr class=\"text-mapping-row\">\n    <td>\n      {{ currentChoice.name }}\n    </td>\n    <td>\n      <text-synonyms-editor :block=\"block\" :current-choice=\"currentChoice\" :index=\"index\" :lang-id=\"langId\"/>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport Lang from '@/lib/filters/lang'\nimport {IChoice, ISelectOneResponseBlock} from '@floip/flow-runner'\nimport TextSynonymsEditor from './TextSynonymsEditor.vue'\n\nexport default {\n  name: 'TextMappingRow',\n  components: {\n    TextSynonymsEditor,\n  },\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n    currentChoice: {\n      type: IChoice,\n      required: true,\n    },\n    index: {\n      type: Number,\n      required: true,\n    },\n    langId: {\n      type: String,\n      required: true,\n    },\n  },\n  mixins: [Lang],\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMappingRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMappingRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextMappingRow.vue?vue&type=template&id=a3613528&scoped=true&\"\nimport script from \"./TextMappingRow.vue?vue&type=script&lang=js&\"\nexport * from \"./TextMappingRow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3613528\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <table class=\"text-mapping-table table table-striped\">\n    <thead>\n    <tr>\n      <th class=\"col-5 align-top\">{{ trans('flow-builder.choice-name') }}</th>\n      <th class=\"align-top\">{{ trans('flow-builder.synonyms') }} / {{ trans('flow-builder.text-expression') }}</th>\n    </tr>\n    </thead>\n    <tbody>\n      <text-mapping-row\n        v-for=\"(choice, index) in block.config.choices\"\n        :key=\"index\"\n        :block=\"block\"\n        :current-choice=\"choice\"\n        :index=\"index\"\n        :lang-id=\"langId\" />\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport Lang from '@/lib/filters/lang'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner'\nimport TextMappingRow from './TextMappingRow.vue'\n\nexport default {\n  name: 'TextMappingTable',\n  components: {\n    TextMappingRow,\n  },\n  mixins: [Lang],\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n    langId: {\n      type: String,\n      required: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMappingTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMappingTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextMappingTable.vue?vue&type=template&id=721a50de&\"\nimport script from \"./TextMappingTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TextMappingTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"choice-mapping-modal\">\n    <div class=\"form-group\">\n      <button :disabled=\"block.config.choices.length === 0\" class=\"btn btn-primary btn-sm\" @click=\"showModal\">\n        {{ trans('flow-builder.set-choice-options') }}\n      </button>\n    </div>\n\n    <b-modal\n      ref=\"edit-choice-mapping-modal\"\n      :ok-title=\"trans('flow-builder.close')\"\n      :title=\"trans('flow-builder.choice-options')\"\n      ok-only\n      size=\"lg\">\n      <div v-if=\"shouldHaveTabs\" class=\"choice-mapping-navs\">\n        <nav>\n          <div id=\"choice-options-nav-tab\" class=\"nav nav-tabs\" role=\"tablist\">\n            <a\n              v-if=\"hasVoiceMode\"\n              id=\"nav-voice-tab\"\n              :class=\"{'active': hasVoiceMode}\"\n              aria-controls=\"nav-home\"\n              aria-selected=\"true\"\n              class=\"nav-item nav-link\"\n              data-toggle=\"tab\"\n              href=\"#nav-voice\"\n              role=\"tab\">\n              {{ trans('flow-builder.voice') }} ({{ trans('flow-builder.all-languages') }})\n            </a>\n            <template v-if=\"hasTextMode\">\n              <a\n                v-for=\"({id: languageId, label: language}, index) in textLanguages\"\n                :id=\"`nav-lang-tab-${languageId}`\"\n                :key=\"languageId\"\n                :class=\"{'active': !hasVoiceMode && hasTextMode && index === 0}\"\n                :href=\"`#nav-lang-${languageId}`\"\n                :title=\"language || trans('flow-builder.unknown-language')\"\n                aria-controls=\"nav-profile\"\n                aria-selected=\"false\"\n                class=\"nav-item nav-link\"\n                data-toggle=\"tab\"\n                role=\"tab\">\n                {{ trans('flow-builder.data-type-text') }} ({{ language || trans('flow-builder.unknown-language') }})\n              </a>\n            </template>\n          </div>\n        </nav>\n        <div id=\"choice-options-nav-tab-content\" class=\"tab-content\">\n          <div\n            v-if=\"hasVoiceMode\"\n            id=\"nav-voice\"\n            :class=\"{'show active': hasVoiceMode}\"\n            aria-labelledby=\"nav-voice-tab\"\n            class=\"tab-pane fade\"\n            role=\"tabpanel\">\n            <div class=\"mt-3\">\n              <voice-mapping-table :block=\"block\"/>\n            </div>\n          </div>\n          <template v-if=\"hasTextMode\">\n            <div\n              v-for=\"({id: languageId, label: language}, index) in textLanguages\"\n              :id=\"`nav-lang-${languageId}`\"\n              :key=\"languageId\"\n              :class=\"{'show active': !hasVoiceMode && hasTextMode && index === 0}\"\n              aria-labelledby=\"nav-lang-tab\"\n              class=\"tab-pane fade\"\n              role=\"tabpanel\">\n              <div class=\"mt-3\">\n                <text-mapping-table :block=\"block\" :lang-id=\"languageId\"/>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n      <div v-else>\n        {{ trans('flow-builder.cannot-map-choices-hint') }}\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport {BModal} from 'bootstrap-vue'\nimport Lang from '@/lib/filters/lang'\nimport {mapGetters} from 'vuex'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner'\nimport VoiceMappingTable from './VoiceMappingTable.vue'\nimport TextMappingTable from './TextMappingTable.vue'\n\nexport default {\n  name: 'ChoiceMappingModal',\n  components: {\n    BModal,\n    VoiceMappingTable,\n    TextMappingTable,\n  },\n  mixins: [Lang],\n\n  props: {\n    block: {\n      type: ISelectOneResponseBlock,\n      required: true,\n    },\n  },\n\n  computed: {\n    ...mapGetters('flow', ['activeFlow', 'hasTextMode', 'hasVoiceMode']),\n    textLanguages() {\n      return this.hasTextMode === true ? this.activeFlow.languages : []\n    },\n    shouldHaveTabs() {\n      return this.hasVoiceMode === true || (this.hasTextMode === true && this.activeFlow.languages.length > 0)\n    },\n  },\n  methods: {\n    showModal() {\n      const editFlowModal = this.$refs['edit-choice-mapping-modal']\n      if (editFlowModal !== undefined) {\n        editFlowModal.show()\n      } else {\n        console.error('showModal', 'ref `edit-choice-mapping-modal` not found')\n      }\n    },\n    hideModal() {\n      const editFlowModal = this.$refs['edit-choice-mapping-modal']\n      if (editFlowModal !== undefined) {\n        editFlowModal.hide()\n      } else {\n        console.error('hideModal', 'ref `edit-choice-mapping-modal` not found')\n      }\n    },\n  },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../../../scss/custom_variables\";\n\n/*override bootstrap style to match with design*/\n.choice-mapping-navs .nav-link.active {\n  background-color: transparent;\n  border-bottom: 2px solid;\n  color: $primary-900;\n}\n\n.choice-mapping-navs .nav-item {\n  border-color: transparent;\n}\n\n.choice-mapping-navs .nav-tabs {\n  border-bottom: none;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoiceMappingModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoiceMappingModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChoiceMappingModal.vue?vue&type=template&id=aea19712&scoped=true&\"\nimport script from \"./ChoiceMappingModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ChoiceMappingModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChoiceMappingModal.vue?vue&type=style&index=0&id=aea19712&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aea19712\",\n  null\n  \n)\n\nexport default component.exports","\nimport {intersectionWith, isEmpty, last} from 'lodash'\nimport {findOrGenerateStubbedVariantOn} from '@/store/flow/utils/resourceHelpers'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock, IFlow, IResource, IResourceValue, SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/src/model/block/ISelectOneResponseBlock'\nimport {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectOneResponseBlockStore'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport ChoiceMappingModal from '@/components/interaction-designer/block-editors/choices/ChoiceMappingModal.vue'\nimport Vue from 'vue'\n\nconst flowVuexNamespace = namespace('flow')\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst validationVuexNamespace = namespace('validation')\n\n@Component<any>({\n  components: {\n    ChoiceMappingModal,\n  },\n})\nexport class ChoicesBuilder extends mixins(Lang) {\n  @Prop() readonly block!: ISelectOneResponseBlock\n\n  draftResource: IResource | null = null\n  SupportedContentType = SupportedContentType\n  SupportedMode = SupportedMode\n  findOrGenerateStubbedVariantOn = findOrGenerateStubbedVariantOn\n\n  get choiceResourcesOrderedByResourcesList(): IResource[] {\n    return intersectionWith(this.activeFlow.resources, this.block.config.choices,\n      (resource, choice) => resource.uuid === choice?.prompt)\n  }\n\n  created(): void {\n    this.generateDraftResource()\n  }\n\n  async generateDraftResource(): Promise<void> {\n    // todo: abstract as createResourceForVanillaChoice()\n    this.draftResource = await this.resource_createWith({\n      props: {uuid: await (new IdGeneratorUuidV4()).generate()},\n    })\n  }\n\n  async addDraftResourceToChoices(): Promise<void> {\n    if (this.draftResource == null) {\n      console.warn(\n        'interaction-designer/block-editors/ChoicesBuilder',\n        'Unable to add absent draft resource to block choices.',\n        {block: this.block},\n)\n      return\n    }\n\n    this.resource_add({resource: this.draftResource})\n    this.addChoiceByResourceIdTo({blockId: this.block.uuid, resourceId: this.draftResource.uuid})\n\n    this.$nextTick(() =>\n      this.focusInputElFor(last(this.$refs.choices as Vue[])))\n\n    await this.generateDraftResource()\n  }\n\n  focusInputElFor(editor?: Vue): void {\n    if (editor) {\n      // Target input may be nested inside another Vue component\n      (editor.$el.querySelector('input, textarea') as HTMLElement)?.focus()\n    }\n  }\n\n  @blockVuexNamespace.Action choice_create!: (\n    {blockId, resourceId, value}: {blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: string},\n  ) => void\n  @blockVuexNamespace.Action choice_change!: (\n    {blockId, resourceId, value}: {blockId: IBlock['uuid'], resourceId: IResource['uuid'], value: IResourceValue['value']},\n  ) => void\n\n  handleExistingResourceVariantChangedFor(\n    {choiceIndex}: {choiceIndex: number},\n    {variant, resourceId, value}: {variant: IResourceValue, resourceId: IResource['uuid'], value: IResourceValue['value']},\n  ): void {\n    const isLast = choiceIndex === this.choiceResourcesOrderedByResourcesList.length - 1\n    const hasEmptyValue = isEmpty(value)\n\n    if (isLast && hasEmptyValue) {\n      this.deleteLastAndPreviousChoicesIfEmpty(choiceIndex)\n      this.focusInputElFor(this.$refs.draftChoice as Vue)\n    } else {\n      this.choice_change({blockId: this.block.uuid, resourceId, value})\n    }\n\n    this.$emit('choiceChanged', {resourceId})\n  }\n\n  deleteLastAndPreviousChoicesIfEmpty(choiceIndex: number): void {\n    let i = choiceIndex\n    let choice = this.block.config.choices[i]\n\n    do {\n      console.debug('delete previous empty choice at index', i)\n      this.deleteChoiceByResourceIdFrom({blockId: this.block.uuid, resourceId: choice.prompt})\n      // important to delete the choice before removing the resource, otherwise this will throw an error\n      this.flow_removeResourcesAndRelatedValidationsOnActiveFlow({\n        resourceUuids: [choice.prompt],\n      })\n      i -= 1\n      choice = this.block.config.choices[i]\n    } while (i >= 0 && choice.name === '')\n  }\n\n  handleNewChoiceChange({variant, resourceId, value}: {variant: IResourceValue, resourceId: IResource['uuid'], value: string}): void {\n    this.choice_create({\n      blockId: this.block.uuid,\n      resourceId,\n      value,\n    })\n    this.$emit('choiceChanged', {resourceId})\n  }\n\n  @validationVuexNamespace.Getter choiceMimeType!: string\n\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Action resource_add!: ({resource}: {resource: IResource}) => void\n  @flowVuexNamespace.Action resource_createWith!: ({props}: { props: { uuid: string } & Partial<IResource> }) => Promise<IResource>\n  @flowVuexNamespace.Action flow_removeResourcesAndRelatedValidationsOnActiveFlow!:\n    ({resourceUuids}: { resourceUuids: IResource['uuid'][] }) => Promise<void>\n\n  @blockVuexNamespace.Action deleteChoiceByResourceIdFrom!:\n    ({blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) => void\n  @blockVuexNamespace.Action block_setChoiceIvrExpressionOnIndex!:\n    ({blockId, index, value}: { blockId: string, index: number, value: string }) => void\n  @blockVuexNamespace.Action addChoiceByResourceIdTo!:\n    ({blockId, resourceId}: {blockId: IBlock['uuid'], resourceId: IResource['uuid']}) => void\n}\nexport default ChoicesBuilder\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoicesBuilder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChoicesBuilder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChoicesBuilder.vue?vue&type=template&id=42185b8e&\"\nimport script from \"./ChoicesBuilder.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChoicesBuilder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"select-one-response-block-contact-property-editor\"},[_c('generic-contact-property-editor',{attrs:{\"block\":_vm.block,\"disable-expression-input\":true},on:{\"toggleSetContactProperty\":_vm.onSetContactPropertyToggle,\"changeContactPropertyType\":_vm.resetMapping,\"updateShouldUseCurrentBlockResponse\":_vm.onShouldUseCurrentBlockResponseUpdate}},[_c('template',{slot:\"entry-from-this-block\"},[_c('div',{staticClass:\"mt-2 mb-2\"},[(_vm.choices.length === 0)?_c('div',{staticClass:\"mt-2 mb-2 text-danger\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.enter-at-least-one-choice-above'))+\" \")]):[(_vm.isMultipleChoiceProperty)?_c('div',[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.select-value-for-choices-for-selected-property'))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.enter-value-for-choices-for-selected-property'))+\" \")]),_vm._l((_vm.choices),function({prompt: choicePrompt, name: choiceName}){return _c('div',{key:choicePrompt,staticClass:\"mt-2\"},[_c('label',[_vm._v(_vm._s(_vm.trans('flow-builder.choice'))+\": \"+_vm._s(choiceName))]),(_vm.isTextProperty)?_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.trans('flow-builder.enter-value')},domProps:{\"value\":_vm.getChoiceValue(choicePrompt)},on:{\"input\":function($event){return _vm.setChoiceValue($event.target.value, choicePrompt)}}}):_vm._e(),(_vm.isNumberProperty)?_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"placeholder\":_vm.trans('flow-builder.enter-value')},domProps:{\"value\":_vm.getChoiceValue(choicePrompt)},on:{\"input\":function($event){_vm.setChoiceValue(Number($event.target.value), choicePrompt)}}}):_vm._e(),(_vm.isBooleanProperty)?_c('vue-multiselect',{attrs:{\"value\":_vm.getBooleanChoiceValueOption(choicePrompt),\"options\":_vm.booleanChoiceValueOptions,\"show-labels\":false,\"placeholder\":_vm.trans('flow-builder.select-a-value'),\"preselect-first\":true,\"track-by\":\"value\",\"label\":\"description\"},on:{\"input\":function($event){return _vm.setBooleanChoiceValueOption($event, choicePrompt)}}}):_vm._e(),(_vm.isMultipleChoiceProperty)?_c('vue-multiselect',{attrs:{\"value\":_vm.getChoiceValueOption(choicePrompt),\"options\":_vm.choiceValueOptions,\"show-labels\":false,\"placeholder\":_vm.trans('flow-builder.select-a-value'),\"preselect-first\":true,\"track-by\":\"value\",\"label\":\"description\"},on:{\"input\":function($event){return _vm.setChoiceValueOption($event, choicePrompt)}}}):_vm._e()],1)})]],2)])],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"select-one-response-block-contact-property-editor\">\n    <generic-contact-property-editor\n      :block=\"block\"\n      :disable-expression-input=\"true\"\n      @toggleSetContactProperty=\"onSetContactPropertyToggle\"\n      @changeContactPropertyType=\"resetMapping\"\n      @updateShouldUseCurrentBlockResponse=\"onShouldUseCurrentBlockResponseUpdate\">\n      <template slot=\"entry-from-this-block\">\n        <div class=\"mt-2 mb-2\">\n          <div\n            v-if=\"choices.length === 0\"\n            class=\"mt-2 mb-2 text-danger\">\n            {{ trans('flow-builder.enter-at-least-one-choice-above') }}\n          </div>\n          <template v-else>\n            <div v-if=\"isMultipleChoiceProperty\">\n              {{ trans('flow-builder.select-value-for-choices-for-selected-property') }}\n            </div>\n            <div v-else>\n              {{ trans('flow-builder.enter-value-for-choices-for-selected-property') }}\n            </div>\n            <div\n              v-for=\"{prompt: choicePrompt, name: choiceName} in choices\"\n              :key=\"choicePrompt\"\n              class=\"mt-2\">\n              <label>{{ trans('flow-builder.choice') }}: {{ choiceName }}</label>\n              <input\n                v-if=\"isTextProperty\"\n                :value=\"getChoiceValue(choicePrompt)\"\n                type=\"text\"\n                class=\"form-control\"\n                :placeholder=\"trans('flow-builder.enter-value')\"\n                @input=\"setChoiceValue($event.target.value, choicePrompt)\">\n              <input\n                v-if=\"isNumberProperty\"\n                :value=\"getChoiceValue(choicePrompt)\"\n                type=\"number\"\n                class=\"form-control\"\n                :placeholder=\"trans('flow-builder.enter-value')\"\n                @input=\"setChoiceValue(Number($event.target.value), choicePrompt)\">\n              <vue-multiselect\n                v-if=\"isBooleanProperty\"\n                :value=\"getBooleanChoiceValueOption(choicePrompt)\"\n                :options=\"booleanChoiceValueOptions\"\n                :show-labels=\"false\"\n                :placeholder=\"trans('flow-builder.select-a-value')\"\n                :preselect-first=\"true\"\n                track-by=\"value\"\n                label=\"description\"\n                @input=\"setBooleanChoiceValueOption($event, choicePrompt)\" />\n              <vue-multiselect\n                v-if=\"isMultipleChoiceProperty\"\n                :value=\"getChoiceValueOption(choicePrompt)\"\n                :options=\"choiceValueOptions\"\n                :show-labels=\"false\"\n                :placeholder=\"trans('flow-builder.select-a-value')\"\n                :preselect-first=\"true\"\n                track-by=\"value\"\n                label=\"description\"\n                @input=\"setChoiceValueOption($event, choicePrompt)\" />\n            </div>\n          </template>\n        </div>\n      </template>\n    </generic-contact-property-editor>\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapMutations, mapActions} from 'vuex'\nimport VueMultiselect from 'vue-multiselect'\nimport {find} from 'lodash'\nimport {lang} from '@/lib/filters/lang'\nimport {choicesToExpression} from './expressionTransformers'\n\nconst NO_VALUE = 'NULL'\n\nexport const SelectOneResponseBlockContactPropertyEditor = {\n  components: {\n    VueMultiselect,\n  },\n\n  mixins: [lang],\n\n  props: {\n    block: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  computed: {\n    ...mapGetters([\n      'subscriberPropertyFields',\n    ]),\n\n    contactPropertyName() {\n      return this.block.config.set_contact_property?.[0].property_key\n    },\n\n    contactProperty() {\n      return find(this.subscriberPropertyFields, contactProperty => contactProperty.name === this.contactPropertyName) ?? null\n    },\n\n    isTextProperty() {\n      return this.contactProperty?.data_type === 'text'\n    },\n\n    isNumberProperty() {\n      return this.contactProperty?.data_type === 'number'\n    },\n\n    isBooleanProperty() {\n      return this.contactProperty?.data_type === 'boolean'\n    },\n\n    choices() {\n      return this.block.config.choices\n    },\n\n    isMultipleChoiceProperty() {\n      return this.contactProperty?.data_type === 'multiple_choice'\n    },\n\n    choiceValueOptions() {\n      return [\n        {value: NO_VALUE, description: this.trans('flow-builder.no-value')},\n        ...(this.contactProperty?.choices ?? []).map(({value, description}) => ({\n          value,\n          description: description ?? value,\n        })),\n      ]\n    },\n\n    booleanChoiceValueOptions() {\n      return [\n        {value: NO_VALUE, description: this.trans('flow-builder.no-value')},\n        {value: 'TRUE', description: this.trans('flow-builder.true')},\n        {value: 'FALSE', description: this.trans('flow-builder.false')},\n      ]\n    },\n  },\n\n  methods: {\n    ...mapMutations('flow', [\n      'block_updateVendorMetadataByPath',\n      'block_removeVendorMetadataByPath',\n      'block_updateConfigByPath',\n    ]),\n    ...mapActions('flow', [\n      'block_resetContactPropertyMetadata',\n    ]),\n\n    getChoiceValue(choicePrompt) {\n      return this.block.vendor_metadata?.floip?.ui_metadata?.set_contact_property?.property_value_mapping?.[choicePrompt]\n    },\n\n    setChoiceValue(choiceValue, choicePrompt) {\n      this.block_updateVendorMetadataByPath({\n        blockId: this.block.uuid,\n        path: `floip.ui_metadata.set_contact_property.property_value_mapping.${choicePrompt}`,\n        value: choiceValue,\n      })\n\n      this.block_updateConfigByPath({\n        blockId: this.block.uuid,\n        path: 'set_contact_property[0].property_value',\n        value: choicesToExpression(\n          this.block.config.choices,\n          this.block.vendor_metadata?.floip?.ui_metadata?.set_contact_property?.property_value_mapping ?? {},\n        ),\n      })\n    },\n\n    onSetContactPropertyToggle(shouldSetContactProperty) {\n      if (shouldSetContactProperty) {\n        this.resetMapping()\n      } else {\n        this.removeMapping()\n      }\n    },\n\n    onShouldUseCurrentBlockResponseUpdate(shouldUseCurrentBlockResponse) {\n      if (shouldUseCurrentBlockResponse) {\n        this.resetMapping()\n      } else {\n        this.removeMapping()\n      }\n    },\n\n    resetMapping() {\n      this.block_resetContactPropertyMetadata({blockId: this.block.uuid})\n    },\n\n    removeMapping() {\n      this.block_removeVendorMetadataByPath({\n        blockId: this.block.uuid,\n        path: 'floip.ui_metadata.set_contact_property',\n      })\n    },\n\n    getChoiceValueOption(choicePrompt) {\n      const choiceValue = this.getChoiceValue(choicePrompt)\n      return this.choiceValueOptions.find(option => option.value === choiceValue)\n    },\n\n    setChoiceValueOption(choiceValueOption, choicePrompt) {\n      this.setChoiceValue(choiceValueOption.value, choicePrompt)\n    },\n\n    getBooleanChoiceValueOption(choicePrompt) {\n      const choiceValue = this.getChoiceValue(choicePrompt)\n      return this.booleanChoiceValueOptions.find(option => option.value === choiceValue)\n    },\n\n    setBooleanChoiceValueOption(choiceValueOption, choicePrompt) {\n      this.setChoiceValue(choiceValueOption?.value ?? '', choicePrompt)\n    },\n  },\n}\n\nexport default SelectOneResponseBlockContactPropertyEditor\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectOneResponseBlockContactPropertyEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectOneResponseBlockContactPropertyEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectOneResponseBlockContactPropertyEditor.vue?vue&type=template&id=68c71b79&\"\nimport script from \"./SelectOneResponseBlockContactPropertyEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectOneResponseBlockContactPropertyEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"advanced-exit-editor remove-margin-left-right\"},[_c('div',{staticClass:\"put-back-margin-left-right\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend bg-grey\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"name\",staticClass:\"form-control\",attrs:{\"placeholder\":_vm.trans('flow-builder.advanced-exit-name-placeholder'),\"rows\":\"1\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-primary ml-3\",on:{\"click\":function($event){return _vm.$emit('deleteExit', _vm.exit)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'trash-alt']}})],1)]),_c('h6',{staticClass:\"mt-2\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.test-expression'))+\" \")]),_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/exits/${_vm.index}/test`},scopedSlots:_vm._u([{key:\"input-control\",fn:function(){return [_c('expression-input',{ref:\"testExpressionInput\",attrs:{\"label\":\"\",\"placeholder\":_vm.trans('flow-builder.advanced-exit-expression-placeholder'),\"current-expression\":_vm.test,\"rows\":1},on:{\"commitExpressionChange\":_vm.commitExpressionChange}})]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock, IBlockExit} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class AdvancedExitEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop() readonly exit!: IBlockExit\n  @Prop() readonly label!: string\n\n  get index(): number {\n    return this.block.exits?.findIndex(({uuid}) => uuid === this.exit.uuid)\n  }\n\n  get test(): IBlockExit['test'] {\n    return this.exit.test\n  }\n\n  get name(): IBlockExit['name'] {\n    return this.exit.name\n  }\n\n  set name(value: IBlockExit['name']) {\n    const {uuid: blockId} = this.block\n    const {uuid: exitId} = this.exit\n\n    this.$emit('beforeExitNameChanged', {blockId, exitId, value})\n    this.block_setExitName({blockId, exitId, value})\n    this.$emit('afterExitNameChanged', {blockId, exitId, value})\n  }\n\n  async commitExpressionChange(value: IBlockExit['test']): Promise<void> {\n    this.$emit('beforeExitTestChanged', {exitId: this.exit.uuid, blockId: this.block.uuid, value})\n    this.block_setExitTest({exitId: this.exit.uuid, blockId: this.block.uuid, value})\n    this.$emit('afterExitTestChanged', {exitId: this.exit.uuid, blockId: this.block.uuid, value})\n  }\n\n  @flowVuexNamespace.Mutation block_setExitTest!:\n    ({exitId, blockId, value}: { exitId: string, blockId: string, value: IBlockExit['test'] }) => void\n  @flowVuexNamespace.Mutation block_setExitName!:\n    ({exitId, blockId, value}: {exitId: IBlockExit['uuid'], blockId: IBlock['uuid'], value: IBlockExit['name']}) => void\n}\n\nexport default AdvancedExitEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedExitEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedExitEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AdvancedExitEditor.vue?vue&type=template&id=54db1616&\"\nimport script from \"./AdvancedExitEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./AdvancedExitEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"advanced-exits-builder\"},[_c('h6',[_vm._v(_vm._s(_vm.trans('flow-builder.hint-to-set-advance-exit')))]),_vm._l((_vm.block.exits),function(exit,i){return [_c('div',{key:exit.uuid},[(i > 0)?_c('hr'):_vm._e(),(!exit.default)?_c('advanced-exit-editor',{ref:\"exitEditors\",refInFor:true,staticClass:\"advanced-block-exit-builder-item mb-2\",attrs:{\"block\":_vm.block,\"exit\":exit,\"label\":(i + 1).toString()},on:{\"deleteExit\":_vm.handleDeleteExit}}):_vm._e()],1)]}),_c('input',{staticClass:\"btn btn-outline-primary btn-sm w-100\",attrs:{\"type\":\"button\",\"value\":_vm.trans('flow-builder.btn-add-exit')},on:{\"click\":_vm.addDraftExitToBlock}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock, IBlockExit} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport Vue from 'vue'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class AdvancedExitsBuilder extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  async addDraftExitToBlock(): Promise<void> {\n    const uuid = await (new IdGeneratorUuidV4()).generate()\n\n    this.block_addExit({\n      blockId: this.block.uuid,\n      exit: await this.block_createBlockExitWith({\n        props: {uuid} as IBlockExit,\n      }),\n    })\n\n    this.$nextTick(() => {\n      ((this.$refs.exitEditors as Vue[])\n        .find(node => node.$props.exit.uuid === uuid)\n        ?.$refs.name as HTMLInputElement)\n        ?.focus()\n    })\n  }\n\n  handleDeleteExit(exit: IBlockExit): void {\n    this.block_removeExit({blockId: this.block.uuid, exit})\n  }\n\n  @flowVuexNamespace.Mutation block_addExit!: ({blockId, exit}: {blockId: IBlock['uuid'], exit: IBlockExit}) => void\n  @flowVuexNamespace.Mutation block_removeExit!: ({blockId, exit}: {blockId: IBlock['uuid'], exit: IBlockExit}) => void\n  @flowVuexNamespace.Action block_createBlockExitWith!: ({props}: { props: { uuid: string } & Partial<IBlockExit> }) => Promise<IBlockExit>\n}\nexport default AdvancedExitsBuilder\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedExitsBuilder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedExitsBuilder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AdvancedExitsBuilder.vue?vue&type=template&id=613f9c24&\"\nimport script from \"./AdvancedExitsBuilder.vue?vue&type=script&lang=ts&\"\nexport * from \"./AdvancedExitsBuilder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-editor\",style:({top: _vm.topPosition})},[(_vm.activeBlock)?_c('div',[_c('div',{staticClass:\"tree-sidebar-edit-block\",attrs:{\"data-block-type\":_vm.activeBlock && _vm.activeBlock.type,\"data-for-block-id\":_vm.activeBlock && _vm.activeBlock.uuid}},[(_vm.activeBlock)?_c(`Flow${_vm.activeBlock.type.replace('.', '')}`,{tag:\"component\",attrs:{\"block\":_vm.activeBlock,\"flow\":_vm.activeFlow}}):_vm._e()],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\n\nconst builderNamespace = namespace('builder')\nconst flowNamespace = namespace('flow')\n\n@Component({})\nexport class BlockEditor extends mixins(Lang) {\n  @builderNamespace.Getter activeBlock?: IBlock\n  @builderNamespace.Getter interactionDesignerHeaderBoundingClientRect!: DOMRect\n  @flowNamespace.Getter activeFlow?: IFlow\n\n  get topPosition() {\n    // the interaction designer header may change:\n    // - top: related to how the builder is embedded in the consumer UI, eg: the might be other elements above it\n    // - height: related to which toolbar elements are visible, eg: 'multi-select blocks' toolbar is not always visible, same for the validations\n    const correction = 5\n    return `${this.interactionDesignerHeaderBoundingClientRect.top + this.interactionDesignerHeaderBoundingClientRect.height + correction}px`\n  }\n}\n\nexport default BlockEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockEditor.vue?vue&type=template&id=169db367&\"\nimport script from \"./BlockEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlockEditor.vue?vue&type=style&index=0&id=169db367&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-id text-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_setup.trans('flow-builder.block-id'))+\": \"),_c('em',[_vm._v(_vm._s(_setup.blockId))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport {PropType, computed, ComputedRef} from 'vue'\nimport {IBlock} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BlockId',\n  props: {\n  block: Object as PropType<IBlock>,\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst blockId: ComputedRef<string> = computed(() => (props.block.uuid !== undefined ? props.block.uuid : ''))\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst {trans} = Lang\n\nreturn { __sfc: true,props, blockId, trans }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&setup=true&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockId.vue?vue&type=script&lang=ts&setup=true&\"","import { render, staticRenderFns } from \"./BlockId.vue?vue&type=template&id=3ed590aa&\"\nimport script from \"./BlockId.vue?vue&type=script&lang=ts&setup=true&\"\nexport * from \"./BlockId.vue?vue&type=script&lang=ts&setup=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-output-branching-config\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{class:_vm.labelClass},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.output-branching')))]),_c('div',{staticClass:\"btn-group d-block\"},[(_vm.hasExitPerChoice)?_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",value:(_vm.trans('flow-builder.multiple-choice-mode')),expression:\"trans('flow-builder.multiple-choice-mode')\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"btn btn-sm\",class:{\n          active: _vm.isBranchingTypeExitPerChoice,\n          'btn-primary': _vm.isBranchingTypeExitPerChoice,\n          'btn-outline-primary': !_vm.isBranchingTypeExitPerChoice,\n        },on:{\"click\":function($event){_vm.selectedBranchingType = _vm.OutputBranchingType.EXIT_PER_CHOICE}}},[_c('font-awesome-icon',{staticClass:\"exit-type-icons\",attrs:{\"icon\":['fac', 'one-exit-per-choice']}})],1):_vm._e(),(_vm.hasUnifiedExit)?_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",value:(_vm.trans('flow-builder.standard-mode')),expression:\"trans('flow-builder.standard-mode')\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"btn btn-sm\",class:{\n          active: _vm.isBranchingTypeUnified,\n          'btn-primary': _vm.isBranchingTypeUnified,\n          'btn-outline-primary': !_vm.isBranchingTypeUnified,\n        },on:{\"click\":function($event){_vm.selectedBranchingType = _vm.OutputBranchingType.UNIFIED}}},[_c('font-awesome-icon',{staticClass:\"exit-type-icons\",attrs:{\"icon\":['fac', 'single-exit']}})],1):_vm._e(),_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",value:(_vm.trans('flow-builder.advanced-mode')),expression:\"trans('flow-builder.advanced-mode')\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"btn btn-sm\",class:{\n          active: _vm.isBranchingTypeAdvanced,\n          'btn-primary': _vm.isBranchingTypeAdvanced,\n          'btn-outline-primary': !_vm.isBranchingTypeAdvanced,\n        },attrs:{\"disabled\":!_vm.hasUnifiedExit && !_vm.hasExitPerChoice},on:{\"click\":function($event){_vm.selectedBranchingType = _vm.OutputBranchingType.ADVANCED}}},[_c('font-awesome-icon',{staticClass:\"exit-type-icons\",attrs:{\"icon\":['fac', 'advanced-exit']}})],1)])]),_c('block-output-branching-explanations',{attrs:{\"block-type\":_vm.block.type,\"branching-type\":_vm.selectedBranchingType}}),(_vm.isBranchingTypeAdvanced)?_c('advanced-exits-builder',{attrs:{\"block\":_vm.block}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.definitions)?_c('dl',{staticClass:\"block-output-branching-explanations\"},[_vm._l((_vm.definitions),function(definition,i){return [_c('dt',{key:`${i}-dt`},[_vm._v(\" \"+_vm._s(definition.title)+\" \")]),_c('dd',{key:`${i}-dd`},[_c('markdown-view',{attrs:{\"markdown\":definition.description}})],1)]})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {defineComponent} from 'vue'\nimport {lang} from '@/lib/filters/lang'\nimport {IBlockClass, IExplanatoryText} from '@/lib/types'\nimport MarkdownView from '@/components/common/MarkdownView.vue'\n\nexport const BlockOutputBranchingExplanations = defineComponent({\n  name: 'BlockOutputBranchingExplanations',\n  components: {\n    MarkdownView,\n  },\n  props: {\n    blockType: {\n      type: String,\n      required: true,\n    },\n    branchingType: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    blockClasses(): Record<string, IBlockClass> {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return (this as any).$store.state.trees.ui.blockClasses\n    },\n    blockClass(): IBlockClass {\n      return this.blockClasses[this.blockType]\n    },\n    explanatoryTexts(): IExplanatoryText[] {\n      return this.blockClass.explanatory_texts ?? [] as IExplanatoryText[]\n    },\n    definitions() {\n      const definitions = []\n\n      for (let i = 0; i < this.explanatoryTexts.length; i += 1) {\n        const text: IExplanatoryText = this.explanatoryTexts[i]\n\n        if (\n          text.show_for_branching_types === undefined\n          || text.show_for_branching_types.includes(this.branchingType)\n        ) {\n          definitions.push({\n            title: lang.trans(text.title),\n            description: lang.trans(text.description),\n          })\n        }\n      }\n\n      return definitions\n    },\n  },\n})\n\nexport default BlockOutputBranchingExplanations\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockOutputBranchingExplanations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockOutputBranchingExplanations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockOutputBranchingExplanations.vue?vue&type=template&id=8cfe3d5a&\"\nimport script from \"./BlockOutputBranchingExplanations.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockOutputBranchingExplanations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n  import {get, isEmpty} from 'lodash'\n  import {Component, Prop} from 'vue-property-decorator'\n  import {IBlock, IBlockExit} from '@floip/flow-runner'\n  import {mixins} from 'vue-class-component'\n  import Lang from '@/lib/filters/lang'\n  import {namespace} from 'vuex-class'\n  import {ConfigFieldType} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\n  import {OutputBranchingType} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\n  import BlockOutputBranchingExplanations from './BlockOutputBranchingExplanations.vue'\n\n  const flowVuexNamespace = namespace('flow')\n\n  @Component({\n    components: {\n      BlockOutputBranchingExplanations,\n    },\n  })\n  export class BlockOutputBranchingConfig extends mixins(Lang) {\n    @Prop() readonly block!: IBlock\n    @Prop() readonly hasExitPerChoice!: boolean\n    @Prop({default: true}) readonly hasUnifiedExit!: boolean\n    @Prop({default: 'text-primary'}) readonly labelClass?: string\n\n    OutputBranchingType = OutputBranchingType\n\n    mounted(): void {\n      if (isEmpty(this.selectedBranchingType)) {\n        // todo: should this be EXIT_PER_CHOICE for SelectOne block?\n        this.selectedBranchingType = OutputBranchingType.UNIFIED\n      }\n    }\n\n    get selectedBranchingType(): OutputBranchingType {\n      return get(this.block.vendor_metadata, 'floip.ui_metadata.branching_type')\n    }\n\n    set selectedBranchingType(value: OutputBranchingType) {\n      const {uuid: blockId} = this.block\n      this.block_updateVendorMetadataByPath({blockId, path: 'floip.ui_metadata.branching_type', value})\n\n      switch (value) {\n        case OutputBranchingType.UNIFIED:\n          this.$emit('branchingTypeChangedToUnified')\n          break\n        case OutputBranchingType.EXIT_PER_CHOICE:\n          // handled via change event from SelectOne; felt awkward importing SelectOne store here\n          // should likely make branching types extendable\n          //this.reflowExitsFromChoices({blockId})\n          break\n        case OutputBranchingType.ADVANCED:\n          // todo: restore from cache\n          break\n        default:\n          console.warn('block-editors/BlockOutputBranchingConfig',\n            'Unknown branching type received.',\n            {branching_type: value})\n      }\n\n      this.$emit('branchingTypeChanged', {branching_type: value})\n    }\n\n    get isBranchingTypeExitPerChoice(): boolean {\n      return this.selectedBranchingType === OutputBranchingType.EXIT_PER_CHOICE\n    }\n\n    get isBranchingTypeUnified(): boolean {\n      return this.selectedBranchingType === OutputBranchingType.UNIFIED\n    }\n\n    get isBranchingTypeAdvanced(): boolean {\n      return this.selectedBranchingType === OutputBranchingType.ADVANCED\n    }\n\n    @flowVuexNamespace.Mutation block_updateVendorMetadataByPath!:\n      ({blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }) => void\n    @flowVuexNamespace.Mutation block_exitClearDestinationBlockFor!:\n      ({blockExit}: {blockExit: IBlockExit}) => void\n  }\n  export default BlockOutputBranchingConfig\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockOutputBranchingConfig.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockOutputBranchingConfig.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockOutputBranchingConfig.vue?vue&type=template&id=44fefc4d&scoped=true&\"\nimport script from \"./BlockOutputBranchingConfig.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockOutputBranchingConfig.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlockOutputBranchingConfig.vue?vue&type=style&index=0&id=44fefc4d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44fefc4d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"categorization\"},[_c('hr'),_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.categorization')))]),_c('tag-selector',{attrs:{\"block\":_vm.block}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\n@Component({})\nexport class Categorization extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n}\n\nexport default Categorization\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Categorization.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Categorization.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Categorization.vue?vue&type=template&id=5ca13a44&\"\nimport script from \"./Categorization.vue?vue&type=script&lang=ts&\"\nexport * from \"./Categorization.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"contact-property-editor\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.action-label')))]),_c('p',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.contact-property-action-hint')))]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.propertyAction),expression:\"propertyAction\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"setProp\",\"type\":\"radio\",\"name\":\"contactPropAction\"},domProps:{\"value\":_vm.PROPERTY_ACTION.SET,\"checked\":_vm._q(_vm.propertyAction,_vm.PROPERTY_ACTION.SET)},on:{\"change\":function($event){_vm.propertyAction=_vm.PROPERTY_ACTION.SET}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":\"setProp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-contact-property'))+\" \")])]),_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.propertyAction),expression:\"propertyAction\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"clearProp\",\"type\":\"radio\",\"name\":\"contactPropAction\"},domProps:{\"value\":_vm.PROPERTY_ACTION.CLEAR,\"checked\":_vm._q(_vm.propertyAction,_vm.PROPERTY_ACTION.CLEAR)},on:{\"change\":function($event){_vm.propertyAction=_vm.PROPERTY_ACTION.CLEAR}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":\"clearProp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.clear-contact-property'))+\" \")])])]),_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/set_contact_property/0/property_key`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"block-contact-property-key\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.contact-property-label'),\"label-class\":'font-weight-bold',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-contact-property-label'),\"valid-state\":isValid},model:{value:(_vm.propertyKey),callback:function ($$v) {_vm.propertyKey=$$v},expression:\"propertyKey\"}})],1)]}}])}),(_vm.propertyAction === _vm.PROPERTY_ACTION.SET)?_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/set_contact_property/0/property_value`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.value-expression'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-expression'),\"label-class\":'font-weight-bold',\"current-expression\":_vm.propertyValue,\"valid-state\":isValid},on:{\"commitExpressionChange\":_vm.updatePropertyValue}})]}}],null,false,3462627979)}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock, SetContactProperty} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {first, has} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {ConfigFieldType} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\n\nconst flowVuexNamespace = namespace('flow')\n\nconst NULL_STRING_EXPRESSION = '@(null)'\nconst EMPTY_STRING_EXPRESSION = ''\n\n@Component({})\nexport class ContactPropertyEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  PROPERTY_ACTION = {\n    SET: 'set',\n    CLEAR: 'clear',\n  }\n\n  created(): void {\n    if (this.propertyKey === undefined) {\n      this.propertyKey = null\n    }\n  }\n\n  get propertyAction(): string {\n    if (this.propertyValue === NULL_STRING_EXPRESSION) {\n      return this.PROPERTY_ACTION.CLEAR\n    }\n    return this.PROPERTY_ACTION.SET\n  }\n\n  set propertyAction(value: string) {\n    if (value === this.PROPERTY_ACTION.CLEAR) {\n      this.updatePropertyValue(NULL_STRING_EXPRESSION)\n    } else {\n      this.updatePropertyValue(EMPTY_STRING_EXPRESSION)\n    }\n  }\n\n  @flowVuexNamespace.Action block_setContactPropertyKeyOnIndex!: (\n    {index, blockId, propertyKey}: { index: number, blockId: string, propertyKey?: string },\n  ) => void\n\n  get firstProperty(): SetContactProperty | undefined {\n    return first(this.block.config.set_contact_property)\n  }\n\n  get propertyKey(): string | null | undefined {\n    return this.firstProperty?.property_key\n  }\n\n  get propertyValue(): string {\n    return this.firstProperty?.property_value ?? EMPTY_STRING_EXPRESSION\n  }\n\n  updatePropertyValue(value: string): void {\n    this.block_setContactPropertyValueOnIndex({\n      blockId: this.block.uuid,\n      // Consider the 1st element only\n      index: 0,\n      propertyValue: value,\n    })\n  }\n\n  @flowVuexNamespace.Mutation block_updateConfigByPath!: (\n    {blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }\n  ) => void\n\n  set propertyKey(value: string | null | undefined) {\n    this.block_setContactPropertyKeyOnIndex({\n      blockId: this.block.uuid,\n      // Consider the 1st element only\n      index: 0,\n      propertyKey: value === '' || value === undefined ? null : value,\n    })\n  }\n  @flowVuexNamespace.Action block_setContactPropertyValueOnIndex!: (\n    {index, blockId, propertyValue}: { index: number, blockId: string, propertyValue: string },\n  ) => void\n}\n\nexport default ContactPropertyEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactPropertyEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactPropertyEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContactPropertyEditor.vue?vue&type=template&id=621b6f05&\"\nimport script from \"./ContactPropertyEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContactPropertyEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.hasIvr)?_c('div',{staticClass:\"end-recording-digits-editor\"},[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/ivr/end_recording_digits`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('keypad-digits-selector',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.end-recording-by-pressing'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.endRecordingDigits),callback:function ($$v) {_vm.endRecordingDigits=$$v},expression:\"endRecordingDigits\"}})]}}],null,false,1793263103)})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport {IBlock} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\n\n@Component({})\nexport class EndRecordingDigitsEditor extends mixins(Lang) {\n  @Prop({type: Boolean, default: true}) hasIvr!: boolean;\n  @Prop({type: Object, required: true}) block!: IBlock;\n\n  get endRecordingDigits(): string {\n    return this.block?.config?.ivr?.end_recording_digits ?? ''\n  }\n\n  set endRecordingDigits(value: string) {\n    this.$emit('commitEndRecordingDigitsChange', value)\n  }\n}\n\nexport default EndRecordingDigitsEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EndRecordingDigitsEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EndRecordingDigitsEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EndRecordingDigitsEditor.vue?vue&type=template&id=b4ade8de&\"\nimport script from \"./EndRecordingDigitsEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./EndRecordingDigitsEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"exit-semantic-label-editor\"},[_c('text-editor',{attrs:{\"is-editable\":_vm.isEditable,\"label\":_vm._f(\"trans\")('flow-builder.block-exit-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-exit-semantic-label')},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IBlockExit} from '@floip/flow-runner'\n\n@Component({})\nexport class ExitSemanticLabelEditor extends mixins(Lang) {\n  @Prop({type: Boolean, default: true}) readonly isEditable!: boolean\n  @Prop({type: Object, required: true}) readonly exit!: IBlockExit\n\n  get semanticLabel(): string {\n    return this.exit.semantic_label ?? ''\n  }\n\n  set semanticLabel(value: string) {\n    this.exit.semantic_label = value\n    this.$emit('commitSemanticLabel', value)\n  }\n}\n\nexport default ExitSemanticLabelEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitSemanticLabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitSemanticLabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExitSemanticLabelEditor.vue?vue&type=template&id=42824e23&\"\nimport script from \"./ExitSemanticLabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExitSemanticLabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"generic-contact-property-editor\"},[_c('hr'),_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.contact-properties')))]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"id\":\"setContactProperty\",\"type\":\"checkbox\",\"name\":\"setContactProperty\"},domProps:{\"value\":_vm.shouldSetContactProperty,\"checked\":_vm.shouldSetContactProperty},on:{\"change\":_vm.toggleSetContactProperty}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":\"setContactProperty\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-contact-property-with-response'))+\" \")])]),(_vm.shouldSetContactProperty)?_c('div',{staticClass:\"form-group\"},[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/set_contact_property/0/property_key`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"block-contact-property-key\"},[(_vm.hasSubscriberPropertyFields)?_c('div',[_c('label',{attrs:{\"for\":\"contact-property-selector\"}},[_vm._v(_vm._s(_vm.trans('flow-builder.property')))]),_c('vue-multiselect',{attrs:{\"id\":\"contact-property-selector\",\"track-by\":\"id\",\"label\":\"display_label\",\"placeholder\":_vm._f(\"trans\")('flow-builder.select-a-property'),\"options\":_vm.subscriberPropertyFieldsForSelector,\"multiple\":false,\"show-labels\":false,\"searchable\":true},model:{value:(_vm.flowSelectedContactPropertyField),callback:function ($$v) {_vm.flowSelectedContactPropertyField=$$v},expression:\"flowSelectedContactPropertyField\"}})],1):_c('text-editor',{attrs:{\"value\":_vm.propertyKey,\"label\":_vm._f(\"trans\")('flow-builder.property'),\"label-class\":'',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-contact-property-label'),\"valid-state\":isValid},on:{\"input\":_vm.updateFirstContactPropertyKey}})],1)]}}],null,false,1783061412)}),(_vm.flowSelectedContactPropertyField !== null)?[_c('label',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.value')))]),(_vm.isBlockInteractive)?_c('div',{staticClass:\"form-group\"},[(!_vm.disableExpressionInput)?_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.propertyValueAction),expression:\"propertyValueAction\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"setProp\",\"type\":\"radio\",\"name\":\"contactPropAction\"},domProps:{\"value\":_vm.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE,\"checked\":_vm._q(_vm.propertyValueAction,_vm.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE)},on:{\"change\":function($event){_vm.propertyValueAction=_vm.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":\"setProp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.entry-from-this-block'))+\" \")])]):_vm._e(),(_vm.propertyValueAction === _vm.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE)?_vm._t(\"entry-from-this-block\"):_vm._e(),(!_vm.disableExpressionInput)?_c('div',{staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.propertyValueAction),expression:\"propertyValueAction\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"clearProp\",\"type\":\"radio\",\"name\":\"contactPropAction\"},domProps:{\"value\":_vm.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION,\"checked\":_vm._q(_vm.propertyValueAction,_vm.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION)},on:{\"change\":function($event){_vm.propertyValueAction=_vm.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":\"clearProp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.expression'))+\" \")])]):_vm._e()],2):_vm._e(),(_vm.shouldUseOpenExpression)?[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/set_contact_property/0/property_value`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{staticClass:\"mb-1\",attrs:{\"label\":'',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-expression'),\"current-expression\":_vm.propertyValue,\"valid-state\":isValid},on:{\"commitExpressionChange\":_vm.updateFirstContactPropertyValue}})]}}],null,false,4266760352)}),_c('div',{staticClass:\"small\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.hint-to-set-contact-prop-by-expression'))+\" \")])]:_vm._e()]:_vm._e()],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {Getter, namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {find, has, isEmpty, map} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {isBlockInteractive} from '@/store/flow/block'\nimport {ConfigFieldType} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\nimport VueMultiselect from 'vue-multiselect'\nimport {IContactPropertyOption, IContactPropertyOptionForUISelector} from '@/store/flow/block-types/Core_SetContactPropertyStore.model'\n\nconst flowVuexNamespace = namespace('flow')\n\nconst EMPTY_STRING_EXPRESSION = ''\nconst BLOCK_RESPONSE_EXPRESSION = '@block.value'\n\n@Component({\n  components: {\n    VueMultiselect,\n  },\n})\nexport class GenericContactPropertyEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: false}) readonly disableExpressionInput!: boolean\n\n  PROPERTY_VALUE_ACTION = {\n    OPEN_EXPRESSION: 'openExpression',\n    FROM_CURRENT_BLOCK_RESPONSE: 'fromCurrentBlockResponse',\n  }\n\n  created(): void {\n    if (this.propertyValue === undefined) {\n      // default setting\n      if (this.isBlockInteractive) {\n        // interactive blocks will have `Entry from this block` option by default\n        this.propertyValue = BLOCK_RESPONSE_EXPRESSION\n      } else {\n        // non interactive blocks will have `Expression` option by default\n        this.propertyValue = EMPTY_STRING_EXPRESSION\n      }\n    }\n  }\n\n  get isBlockInteractive(): boolean {\n    return isBlockInteractive(this.block)\n  }\n\n  get shouldSetContactProperty(): boolean {\n    return has(this.block.config, 'set_contact_property')\n  }\n\n  set shouldSetContactProperty(value: boolean) {\n    if (value) {\n      this.block_setContactPropertyOnIndex({\n        blockId: this.block.uuid,\n        index: 0,\n        propertyKey: this.propertyKey ?? '',\n        propertyValue: this.shouldUseOpenExpression ? EMPTY_STRING_EXPRESSION : this.propertyValue ?? '',\n      })\n    } else {\n      this.block_removeConfigByKey({blockId: this.block.uuid, key: 'set_contact_property'})\n    }\n  }\n\n  get propertyValueAction(): string {\n    const isInteractive = this.isBlockInteractive\n    const hasNoExpressionInput = this.disableExpressionInput || this.propertyValue === BLOCK_RESPONSE_EXPRESSION\n\n    if (isInteractive && (hasNoExpressionInput)) {\n      return this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE\n    } else {\n      return this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION\n    }\n  }\n\n  set propertyValueAction(value: string) {\n    if (value === this.PROPERTY_VALUE_ACTION.FROM_CURRENT_BLOCK_RESPONSE) {\n      this.$emit('updateShouldUseCurrentBlockResponse', true)\n      this.updateFirstContactPropertyValue(BLOCK_RESPONSE_EXPRESSION)\n    } else {\n      this.$emit('updateShouldUseCurrentBlockResponse', false)\n      this.updateFirstContactPropertyValue(EMPTY_STRING_EXPRESSION)\n    }\n  }\n\n  get shouldUseOpenExpression(): boolean {\n    return this.propertyValueAction === this.PROPERTY_VALUE_ACTION.OPEN_EXPRESSION\n  }\n\n  // for input fields ######################\n  updateFirstContactPropertyKey(value: string): void {\n    this.block_setContactPropertyKeyOnIndex({\n      blockId: this.block.uuid,\n      // Consider the 1st element only\n      index: 0,\n      propertyKey: value,\n    })\n  }\n\n  updateFirstContactPropertyValue(value: string): void {\n    this.propertyValue = value\n    this.block_setContactPropertyValueOnIndex({\n      blockId: this.block.uuid,\n      // Consider the 1st element only\n      index: 0,\n      propertyValue: value,\n    })\n  }\n\n  get propertyKey(): string | null {\n    return this.block.config.set_contact_property?.[0].property_key ?? null\n  }\n\n  get propertyValue(): string | null {\n    return this.block.config.set_contact_property?.[0].property_value ?? null\n  }\n\n  set propertyValue(value: string | null) {\n    this.block_setContactPropertyValueOnIndex({\n      blockId: this.block.uuid,\n      // Consider the 1st element only\n      index: 0,\n      propertyValue: value ?? '',\n    })\n  }\n\n  get flowSelectedContactPropertyField(): IContactPropertyOption | null {\n    const selectedOption = find(\n      this.subscriberPropertyFields,\n      (option: IContactPropertyOption) => option.name === this.propertyKey,\n    )\n    return selectedOption ?? null\n  }\n\n  set flowSelectedContactPropertyField(option: IContactPropertyOption | null) {\n    if (this.flowSelectedContactPropertyField?.data_type !== option?.data_type) {\n      this.$emit('changeContactPropertyType')\n    }\n    this.updateFirstContactPropertyKey(option?.name as string)\n  }\n\n  get hasSubscriberPropertyFields(): boolean {\n    return !isEmpty(this.subscriberPropertyFields)\n  }\n\n  get subscriberPropertyFieldsForSelector(): IContactPropertyOptionForUISelector[] {\n    return map(this.subscriberPropertyFields, (field: IContactPropertyOption) => {\n      let shouldDisable\n      if (this.propertyValue === '') {\n        // users choose to set the contact prop from \"expression\" value\n        shouldDisable = true\n      } else {\n        shouldDisable = this.subscriberPropertyFieldDataTypesMapping[field.data_type].includes(this.block.type)\n      }\n\n      return {...field, $isDisabled: !shouldDisable}\n    })\n  }\n\n  toggleSetContactProperty(): void {\n    this.shouldSetContactProperty = !this.shouldSetContactProperty\n    this.$emit('toggleSetContactProperty', this.shouldSetContactProperty)\n  }\n\n  @flowVuexNamespace.Mutation block_updateConfigByPath!: (\n    {blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }\n  ) => void\n  @flowVuexNamespace.Mutation block_updateVendorMetadataByPath!: (\n    {blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }\n  ) => void\n  @flowVuexNamespace.Mutation block_removeConfigByKey!: ({blockId, key}: { blockId: IBlock['uuid'], key: string}) => void\n\n  @flowVuexNamespace.Action block_setContactPropertyKeyOnIndex!: (\n    {index, blockId, propertyKey}: { index: number, blockId: string, propertyKey: string },\n  ) => void\n  @flowVuexNamespace.Action block_setContactPropertyValueOnIndex!: (\n    {index, blockId, propertyValue}: { index: number, blockId: string, propertyValue: string },\n  ) => void\n  @flowVuexNamespace.Action block_setContactPropertyOnIndex!: (\n    {blockId, index, propertyKey, propertyValue}: { blockId: string, index: number, propertyKey?: string, propertyValue?: string},\n  ) => void\n\n  @Getter subscriberPropertyFields!: IContactPropertyOption[]\n  @Getter subscriberPropertyFieldDataTypesMapping!: Record<string, string[]>\n}\n\nexport default GenericContactPropertyEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GenericContactPropertyEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GenericContactPropertyEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GenericContactPropertyEditor.vue?vue&type=template&id=699e4838&\"\nimport script from \"./GenericContactPropertyEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./GenericContactPropertyEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"group-membership-editor\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.trans('flow-builder.action-label')))]),_c('p',[_vm._v(_vm._s(_vm.trans('flow-builder.group-membership-action-hint')))]),_c('div',{staticClass:\"form-group\"},_vm._l((_vm.availableMembershipActions),function(action){return _c('div',{key:action.id,staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.membershipAction),expression:\"membershipAction\"}],staticClass:\"custom-control-input\",attrs:{\"id\":action.id,\"type\":\"radio\",\"name\":\"groupMembershipAction\"},domProps:{\"value\":action.value,\"checked\":_vm._q(_vm.membershipAction,action.value)},on:{\"change\":function($event){_vm.membershipAction=action.value}}}),_c('label',{staticClass:\"custom-control-label font-weight-normal\",attrs:{\"for\":action.id}},[_vm._v(\" \"+_vm._s(action.label)+\" \")])])}),0),_c('ValidationMessage',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/groups`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({isValid}){return [(_vm.isGroupListVisible)?_c('vue-multiselect',{class:{invalid: isValid === false},attrs:{\"is-loading\":_vm.hasGroupsLoading,\"options\":_vm.groupOptions,\"taggable\":!_vm.availableGroups,\"multiple\":true,\"show-labels\":false,\"track-by\":\"group_key\",\"label\":\"group_name\"},on:{\"seach-change\":_vm.onSearchChange,\"tag\":_vm.onGroupAdd},model:{value:(_vm.selectedGroups),callback:function ($$v) {_vm.selectedGroups=$$v},expression:\"selectedGroups\"}}):_vm._e()]}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock, ISetGroupMembershipBlockConfig, IGroupMembership} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport VueMultiselect from 'vue-multiselect'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\nimport {ConfigFieldType} from '@/store/flow/utils/vuexBlockAndFlowHelpers'\nimport {isEqual, unionWith} from 'lodash'\nimport ValidationMessage from '../../common/ValidationMessage.vue'\n\nconst flowVuexNamespace = namespace('flow')\n\ntype MembershipAction = {\n  id: string,\n  label: string,\n  value: string,\n}\n\nenum MEMBERSHIP_ACTION {\n  ADD = 'add',\n  REMOVE = 'remove',\n  CLEAR = 'clear',\n}\n\n@Component({\n  components: {VueMultiselect},\n})\nexport class GroupMembershipEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  /*\n   * The following two props should be used together\n   * when a user is only be allowed to select groups\n   * from a pre-defined list.\n   *\n   * availableGroups = [\n   *  { group_key: 'gr1', group_name: 'Foo' },\n   *  { group_key: 'gr2', group_name: 'Bar' },\n   * ]\n   *\n   * hasGroupsLoading should be set when the availableGroups\n   * list is unknown yet, e.g., while an asynchronous request\n   * to fetch the list after the group-search event\n   * has not been resolved.\n   */\n  @Prop() readonly availableGroups?: IGroupMembership[]\n  @Prop({type: Boolean, default: false}) readonly hasGroupsLoading!: boolean\n\n  // User adds these  groups with vue-multiselect tagging interface\n  get userAddedGroups(): IGroupMembership[] {\n    return this.block.vendor_metadata?.floip.ui_metadata.user_added_groups ?? []\n  }\n\n  set userAddedGroups(groups) {\n    this.block_updateVendorMetadataByPath({\n      blockId: this.block.uuid,\n      path: 'floip.ui_metadata.user_added_groups',\n      value: groups,\n    })\n  }\n\n  get groupOptions(): IGroupMembership[] {\n    return unionWith(this.availableGroups, this.userAddedGroups, isEqual)\n  }\n\n  get availableMembershipActions(): MembershipAction[] {\n    return [\n      {\n        id: 'addGroup',\n        label: this.trans('flow-builder.set-group-membership'),\n        value: MEMBERSHIP_ACTION.ADD,\n      },\n      {\n        id: 'removeGroup',\n        label: this.trans('flow-builder.remove-group-membership'),\n        value: MEMBERSHIP_ACTION.REMOVE,\n      },\n      {\n        id: 'clearGroup',\n        label: this.trans('flow-builder.clear-group-membership'),\n        value: MEMBERSHIP_ACTION.CLEAR,\n      },\n    ]\n  }\n\n  get membershipAction(): MEMBERSHIP_ACTION {\n    const {clear, is_member: isMember} = this.block.config\n\n    if (clear === true) {\n      return MEMBERSHIP_ACTION.CLEAR\n    }\n\n    return isMember === true\n      ? MEMBERSHIP_ACTION.ADD\n      : MEMBERSHIP_ACTION.REMOVE\n  }\n\n  set membershipAction(value: MEMBERSHIP_ACTION) {\n    if (value === MEMBERSHIP_ACTION.CLEAR) {\n      this.updateBlockConfig({\n        clear: true,\n        is_member: undefined,\n      })\n    } else if (value === MEMBERSHIP_ACTION.ADD || value === MEMBERSHIP_ACTION.REMOVE) {\n      this.updateBlockConfig({\n        clear: false,\n        is_member: value === MEMBERSHIP_ACTION.ADD,\n      })\n    } else {\n      throw new Error(`Unknown membership action ${value}`)\n    }\n  }\n\n  get isGroupListVisible(): boolean {\n    return this.membershipAction !== MEMBERSHIP_ACTION.CLEAR\n  }\n\n  get selectedGroups(): IGroupMembership[] {\n    return this.block.config?.groups ?? []\n  }\n\n  set selectedGroups(groups: IGroupMembership[]) {\n    this.updateBlockConfig({\n      groups,\n    })\n  }\n\n  updateBlockConfig(config: Partial<ISetGroupMembershipBlockConfig>): void {\n    Object.entries(config).forEach(([key, value]) => {\n      this.block_updateConfigByPath({\n        blockId: this.block.uuid,\n        path: key,\n        value,\n      })\n    })\n  }\n\n  onSearchChange(e: Event): void {\n    this.$emit('group-search', e)\n  }\n\n  onGroupAdd(name: string): void {\n    const newGroup: IGroupMembership = {\n      group_key: name,\n      group_name: name,\n    }\n\n    this.userAddedGroups = [...this.userAddedGroups, newGroup]\n    this.selectedGroups = [...this.selectedGroups, newGroup]\n  }\n\n  @flowVuexNamespace.Mutation block_updateConfigByPath!: (\n    {blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }\n  ) => void\n\n  @flowVuexNamespace.Mutation block_updateVendorMetadataByPath!: (\n    {blockId, path, value}: { blockId: string, path: string, value: ConfigFieldType }\n  ) => void\n}\n\nexport default GroupMembershipEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMembershipEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupMembershipEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GroupMembershipEditor.vue?vue&type=template&id=0fca282d&scoped=true&\"\nimport script from \"./GroupMembershipEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./GroupMembershipEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GroupMembershipEditor.vue?vue&type=style&index=0&id=0fca282d&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fca282d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"label-editor\"},[_c('section',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.title')))]),_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/label`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"d-flex\"},[_c('text-editor',{staticClass:\"w-100\",attrs:{\"label\":'',\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-title'),\"valid-state\":isValid},model:{value:(_vm.blockLabel),callback:function ($$v) {_vm.blockLabel=$$v},expression:\"blockLabel\"}}),_c('span',{staticClass:\"btn btn-outline-primary btn-xs align-self-center ml-2\",on:{\"click\":_vm.emitGearClickedEvent}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'settings']}})],1)],1)]}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component\nexport class LabelEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  get blockLabel(): IBlock['label'] {\n    return this.block.label\n  }\n\n  set blockLabel(value: IBlock['label']) {\n    this.block_setLabel({blockId: this.block.uuid, value})\n  }\n\n  emitGearClickedEvent(): void {\n    this.$emit('gearClicked')\n  }\n\n  @flowVuexNamespace.Action block_setLabel!: ({blockId, value}: { blockId: IBlock['uuid'], value: IBlock['label'] }) => void\n}\nexport default LabelEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LabelEditor.vue?vue&type=template&id=7304eb76&\"\nimport script from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.hasIvr)?_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/ivr/max_digits`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"max-digit-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.maximum-digits'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"tooltip-hint\":_vm._f(\"trans\")('flow-builder.max-digits-help-text'),\"valid-state\":isValid},model:{value:(_vm.maxDigits),callback:function ($$v) {_vm.maxDigits=_vm._n($$v)},expression:\"maxDigits\"}})],1)]}}],null,false,2263409743)}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {get} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class MaxDigitEditor extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n  @Prop({type: Boolean, default: true}) readonly hasIvr!: boolean\n\n  get maxDigits(): number {\n    return get(this.block, 'config.ivr.max_digits', '')\n  }\n  set maxDigits(value: number) {\n    this.$emit('commitMaxDigitsChange', value)\n  }\n}\n\nexport default MaxDigitEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxDigitEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxDigitEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaxDigitEditor.vue?vue&type=template&id=164ffaf2&\"\nimport script from \"./MaxDigitEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaxDigitEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.hasIvr)?_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/ivr/max_duration_seconds`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('numeric-editor',{staticClass:\"max-duration-seconds-editor\",attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm.trans('flow-builder.max-duration-in-seconds'),\"placeholder\":_vm.trans('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.duration),callback:function ($$v) {_vm.duration=_vm._n($$v)},expression:\"duration\"}})]}}],null,false,3755351396)}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {get} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class MaxDurationSecondsEditor extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n  @Prop({type: Boolean, default: true}) readonly hasIvr!: boolean\n\n  readonly defaultMaxDuration = 60\n\n  get duration(): number {\n    return get(this.block, 'config.ivr.max_duration_seconds', '')\n  }\n\n  set duration(value: number) {\n    this.$emit('commitMaxDurationChange', value)\n  }\n\n  created(): void {\n    if (!this.duration) {\n      this.duration = this.defaultMaxDuration\n    }\n  }\n}\n\nexport default MaxDurationSecondsEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxDurationSecondsEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxDurationSecondsEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaxDurationSecondsEditor.vue?vue&type=template&id=007297ce&\"\nimport script from \"./MaxDurationSecondsEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaxDurationSecondsEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/maximum_choices`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"maximum-choices-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.maximum-choices'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.maxChoices),callback:function ($$v) {_vm.maxChoices=_vm._n($$v)},expression:\"maxChoices\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {ISelectManyResponseBlock} from '@floip/flow-runner/src/model/block/ISelectManyResponseBlock'\nimport {namespace} from 'vuex-class'\nimport {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore'\nimport {isNumber} from 'lodash'\nimport {IBlock} from '@floip/flow-runner'\n// import {ISelectManyResponseBlockConfig} from '@floip/flow-runner'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class MaximumChoicesEditor extends mixins(Lang) {\n  @Prop() readonly block!: ISelectManyResponseBlock\n\n  mounted(): void {\n    // todo: dispatch default value onto block\n  }\n\n  // eslint-disable-next-line line-comment-position\n  get maxChoices(): number | string { //ISelectManyResponseBlockConfig['minimum_choices'] {\n    const max = this.block.config.maximum_choices\n    return isNumber(max) ? max : ''\n  }\n\n  // eslint-disable-next-line line-comment-position\n  set maxChoices(value: number | string) { //ISelectManyResponseBlockConfig['minimum_choices']) {\n    const {uuid: blockId} = this.block\n    this.setMaxChoices({blockId, value: isNumber(value) ? value : undefined})\n  }\n\n  @blockVuexNamespace.Action setMaxChoices!: ({blockId, value}: {blockId: IBlock['uuid'], value?: number}) => void\n}\n\nexport default MaximumChoicesEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaximumChoicesEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaximumChoicesEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaximumChoicesEditor.vue?vue&type=template&id=7a94e1bf&\"\nimport script from \"./MaximumChoicesEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaximumChoicesEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/validation_maximum`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"maximum-numeric-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.maximum-value-(inclusive)'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.maxValue),callback:function ($$v) {_vm.maxValue=_vm._n($$v)},expression:\"maxValue\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport Lang from '@/lib/filters/lang'\nimport Component, {mixins} from 'vue-class-component'\nimport {Prop} from 'vue-property-decorator'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class MaximumNumericEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  get maxValue() {\n    return this.block.config.validation_maximum\n  }\n  set maxValue(value) {\n    this.$emit('commitValidationMaximumChange', value)\n  }\n}\nexport default MaximumNumericEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaximumNumericEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MaximumNumericEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaximumNumericEditor.vue?vue&type=template&id=167bba0e&\"\nimport script from \"./MaximumNumericEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaximumNumericEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/minimum_choices`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"minimum-choices-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.minimum-choices'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.minChoices),callback:function ($$v) {_vm.minChoices=_vm._n($$v)},expression:\"minChoices\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {ISelectManyResponseBlock} from '@floip/flow-runner/src/model/block/ISelectManyResponseBlock'\nimport {namespace} from 'vuex-class'\nimport {BLOCK_TYPE} from '@/store/flow/block-types/MobilePrimitives_SelectManyResponseBlockStore'\nimport {isNumber} from 'lodash'\nimport {IBlock} from '@floip/flow-runner'\n// import {ISelectManyResponseBlockConfig} from '@floip/flow-runner'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class MinimumChoicesEditor extends mixins(Lang) {\n  @Prop() readonly block!: ISelectManyResponseBlock\n\n  mounted(): void {\n    // todo: dispatch default value onto block\n  }\n\n  // eslint-disable-next-line line-comment-position\n  get minChoices(): number | string { //ISelectManyResponseBlockConfig['minimum_choices'] {\n    const min = this.block.config.minimum_choices\n    return isNumber(min) ? min : ''\n  }\n\n  // eslint-disable-next-line line-comment-position\n  set minChoices(value: number | string) { //ISelectManyResponseBlockConfig['minimum_choices']) {\n    const {uuid: blockId} = this.block\n    this.setMinChoices({blockId, value: isNumber(value) ? value : undefined})\n  }\n\n  @blockVuexNamespace.Action setMinChoices!: ({blockId, value}: {blockId: IBlock['uuid'], value?: number}) => void\n}\n\nexport default MinimumChoicesEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MinimumChoicesEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MinimumChoicesEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MinimumChoicesEditor.vue?vue&type=template&id=9b7f1672&\"\nimport script from \"./MinimumChoicesEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MinimumChoicesEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/validation_minimum`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"minimum-numeric-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.minimum-value-(inclusive)'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.minValue),callback:function ($$v) {_vm.minValue=_vm._n($$v)},expression:\"minValue\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/strict-boolean-expressions */\nimport Lang from '@/lib/filters/lang'\nimport Component, {mixins} from 'vue-class-component'\nimport {Prop} from 'vue-property-decorator'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class MinimumNumericEditor extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n\n  get minValue() {\n    return this.block.config.validation_minimum\n  }\n  set minValue(value) {\n    this.$emit('commitValidationMinimumChange', value)\n  }\n}\nexport default MinimumNumericEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MinimumNumericEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MinimumNumericEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MinimumNumericEditor.vue?vue&type=template&id=aab26b42&\"\nimport script from \"./MinimumNumericEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MinimumNumericEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"name-editor mt-3\"},[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/name`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [(_vm.editBlockName || isValid === false)?_c('div',[_c('h6',[_vm._v(_vm._s(_vm.trans('flow-builder.edit-block-code')))]),_c('div',{staticClass:\"d-flex\"},[_c('text-editor',{staticClass:\"w-100\",attrs:{\"label\":'',\"placeholder\":_vm.trans('flow-builder.enter-block-code'),\"valid-state\":isValid},on:{\"keydown\":_vm.filterName},model:{value:(_vm.blockName),callback:function ($$v) {_vm.blockName=$$v},expression:\"blockName\"}}),_c('span',{staticClass:\"btn btn-primary btn-xs align-self-center ml-2\",on:{\"click\":_vm.handleCompleteEditing}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fas', 'check']}})],1)],1)]):_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"block-code align-self-center\"},[_c('h6',{staticClass:\"d-inline\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.code'))+\": \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.blockName)+\" \")])]),_c('span',{staticClass:\"btn btn-primary btn-xs align-self-baseline ml-2\",on:{\"click\":function($event){_vm.editBlockName = true}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['far', 'edit']}})],1)])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock, IBlockUIMetadata} from '@floip/flow-runner'\nimport {defineComponent} from 'vue'\nimport {mapActions, mapMutations} from 'vuex'\nimport Lang from '@/lib/filters/lang'\n\nexport const NameEditor = defineComponent({\n  name: 'NameEditor',\n  mixins: [Lang],\n  props: {\n    block: {\n      type: Object as () => IBlock,\n      required: true,\n    },\n  },\n  computed: {\n    blockName: {\n      get(): IBlock['name'] {\n        return this.block.name\n      },\n      set(value: IBlock['name']) {\n        this.block_setName({\n          blockId: this.block.uuid,\n          value,\n          lockAutoUpdate: true,\n        })\n      },\n    },\n    editBlockName: {\n      get(): IBlockUIMetadata['editBlockName'] {\n        return this.block.vendor_metadata?.floip.ui_metadata.is_block_name_editable ?? false\n      },\n      set(value: IBlockUIMetadata['editBlockName']) {\n        this.block_updateVendorMetadataByPath({\n          blockId: this.block.uuid,\n          path: 'floip.ui_metadata.is_block_name_editable',\n          value,\n        })\n      },\n    },\n  },\n  methods: {\n    ...mapActions({\n      block_setName: 'flow/block_setName',\n      block_resetName: 'flow/block_resetName',\n    }),\n    ...mapMutations({\n      block_updateVendorMetadataByPath: 'flow/block_updateVendorMetadataByPath',\n    }),\n    filterName(e: KeyboardEvent): void {\n      // Consider user input as name editing\n      this.editBlockName = true\n\n      if (e.key.match(/\\W+|Enter/g)) {\n        e.preventDefault()\n      }\n    },\n    handleCompleteEditing(): void {\n      this.editBlockName = false\n\n      if (this.blockName === '') {\n        // This will turn on automatic name generation from the label\n        this.block_resetName({\n          blockId: this.block.uuid,\n        })\n      }\n    },\n  },\n})\n\nexport default NameEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NameEditor.vue?vue&type=template&id=d99c83b0&scoped=true&\"\nimport script from \"./NameEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./NameEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NameEditor.vue?vue&type=style&index=0&id=d99c83b0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d99c83b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.isFeatureCallToRecordEnabled)?_c('div',{staticClass:\"phone-recorder\"},[_c('phone-recording-recorder-selector',{attrs:{\"is-modal-visible\":_vm.isRecorderSelectorVisible},on:{\"input\":_vm.handleRecorderSelectionChanged},model:{value:(_vm.callConfig),callback:function ($$v) {_vm.callConfig=$$v},expression:\"callConfig\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop, Vue} from 'vue-property-decorator'\nimport {Getter, State} from 'vuex-class'\nimport {Recorder} from '@/components/interaction-designer/block-editors/PhoneRecordingRecorderSelector.vue'\n\n@Component({})\nexport class PhoneRecorder extends Vue {\n  @Prop({type: String, required: true}) readonly recordingKey!: string\n\n  /*\n   * This is set by hooking into the v-model property of <phone-recording-recorder-selector v-model=\"callConfig\">\n   * which $emits a new value that results in setting this variable by reference.\n   */\n  callConfig: Partial<{ recorder: Recorder, description: string }> = {}\n\n  handleRecorderSelectionChanged(): void {\n    this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', {isVisible: false})\n\n    if (this.callConfig.recorder === null) {\n      return\n    }\n\n    // noinspection PointlessBooleanExpressionJS\n    const callConfig = {\n      key: this.recordingKey,\n      description: this.callConfig.description,\n      ...this.callConfig.recorder,\n    }\n\n    this.$store.dispatch('startAudioRecordingFor', callConfig)\n      .finally(() => this.$emit('finish'))\n  }\n\n  // TODO: Deprecate (this + setAudioRecordingConfigVisibilityForSelectedBlock) in favor of modal + local state\n  @State(({audio: {recording: {isRecorderSelectorVisible}}}) => isRecorderSelectorVisible) isRecorderSelectorVisible!: boolean\n  @Getter isFeatureCallToRecordEnabled!: boolean\n}\n\nexport default PhoneRecorder\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecorder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PhoneRecorder.vue?vue&type=template&id=1fc7bc2e&\"\nimport script from \"./PhoneRecorder.vue?vue&type=script&lang=ts&\"\nexport * from \"./PhoneRecorder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-modal',{staticClass:\"phone-recording-recorder-selector\",attrs:{\"size\":\"lg\",\"no-close-on-backdrop\":\"\",\"no-close-on-esc\":\"\",\"title\":_vm._f(\"trans\")('flow-builder.select-a-caller-from-the-list-below'),\"visible\":_vm.isModalVisible,\"ok-title\":_vm._f(\"trans\")('flow-builder.call-this-phone-number'),\"cancel-title\":_vm._f(\"trans\")('flow-builder.close')},on:{\"ok\":_vm.handleModalClosed,\"cancel\":_vm.handleModalCancelled,\"close\":_vm.handleModalCancelled}},[_c('div',{staticClass:\"call-to-record-modal-table-container\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"recorder-selector-field\"}),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.name')))]),_c('th',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.phone-number')))])])]),_c('tbody',{attrs:{\"id\":\"call-to-record-modal-list\"}},_vm._l((_vm.recorders),function(recorder,i){return _c('tr',{key:i,staticClass:\"call-to-record-item\"},[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"id\":`call-to-record-caller-${recorder.id}`,\"type\":\"radio\",\"x-name\":\"calltorecord_caller_select\"},domProps:{\"value\":recorder,\"checked\":_vm._q(_vm.selectedRecorder,recorder)},on:{\"change\":function($event){_vm.selectedRecorder=recorder}}})]),_c('td',[_c('label',{attrs:{\"for\":`call-to-record-caller-${recorder.id}`},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.name))])]),_c('td',[_c('label',{attrs:{\"for\":`call-to-record-caller-${recorder.id}`},on:{\"click\":function($event){return _vm.setSelectedRecorder(recorder)}}},[_vm._v(_vm._s(recorder.phone))])])])}),0)]),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-description-to-this-recording')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"rows\":\"2\",\"placeholder\":_vm._f(\"trans\")('flow-builder.optional-description')},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}}),_c('h4',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.add-a-new-recorder')))]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',{staticClass:\"recorder-selector-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedRecorder),expression:\"selectedRecorder\"}],attrs:{\"id\":\"new_recorder_radio\",\"type\":\"radio\",\"name\":\"calltorecord_caller_select\"},domProps:{\"value\":_vm.draft,\"checked\":_vm._q(_vm.selectedRecorder,_vm.draft)},on:{\"change\":function($event){_vm.selectedRecorder=_vm.draft}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.name),expression:\"draft.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.name')},domProps:{\"value\":(_vm.draft.name)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.draft, \"name\", $event.target.value)}}})]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.draft.phone),expression:\"draft.phone\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"trans\")('flow-builder.phone-number')},domProps:{\"value\":(_vm.draft.phone)},on:{\"click\":_vm.selectNewRecorder,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.draft, \"phone\", $event.target.value)}}})])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {BModal} from 'bootstrap-vue'\nimport {clone} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {State} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\n\nexport type Recorder = {\n  name: string | null,\n  phone: string | null,\n  isNew: boolean,\n} | null\n\n@Component({\n  components: {BModal},\n})\nexport class PhoneRecordingRecorderSelector extends mixins(Lang) {\n  @Prop({type: Boolean, required: true}) readonly isModalVisible!: boolean\n\n  description = null\n  draft: Recorder = null\n  selectedRecorder: Recorder = null\n\n  created(): void {\n    this.reset()\n  }\n\n  selectNewRecorder(): void {\n    this.draft!.isNew = true\n    this.selectedRecorder = this.draft\n  }\n\n  setSelectedRecorder(recorder: Recorder): void {\n    this.selectedRecorder = recorder\n  }\n\n  reset(): void {\n    this.draft = {\n      name: null,\n      phone: null,\n      isNew: true,\n    }\n    this.description = null\n    this.selectedRecorder = null\n  }\n\n  handleModalClosed(): void {\n    const\n      {description} = this\n    const value = clone(this.selectedRecorder)\n\n    this.reset()\n    this.$emit('input', {\n      value,\n      recorder: value,\n      description,\n    })\n  }\n\n  handleModalCancelled(): void {\n    this.reset()\n\n    const\n      {description} = this\n    const value = clone(this.selectedRecorder)\n\n    this.$emit('input', {\n      value,\n      recorder: value,\n      description,\n    })\n  }\n\n  @State(({audio: {recording: {recorders}}}) => recorders) recorders: unknown\n}\n\nexport default PhoneRecordingRecorderSelector\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PhoneRecordingRecorderSelector.vue?vue&type=template&id=0ed07710&scoped=true&\"\nimport script from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./PhoneRecordingRecorderSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=0ed07710&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ed07710\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/semantic_label`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"semantic-label-editor\"},[_c('text-editor',{attrs:{\"label\":_vm._f(\"trans\")('flow-builder.block-exit-semantic-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-block-semantic-label'),\"valid-state\":isValid},model:{value:(_vm.semanticLabel),callback:function ($$v) {_vm.semanticLabel=$$v},expression:\"semanticLabel\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class SemanticLabelEditor extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n\n  get semanticLabel(): IBlock['semantic_label'] {\n    return this.block.semantic_label ?? ''\n  }\n\n  set semanticLabel(value: IBlock['semantic_label']) {\n    this.block_setSemanticLabel({blockId: this.block.uuid, value})\n  }\n\n  @flowVuexNamespace.Mutation block_setSemanticLabel!:\n    ({blockId, value}: {blockId: IBlock['uuid'], value: IBlock['semantic_label']}) => void\n}\n\nexport default SemanticLabelEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SemanticLabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SemanticLabelEditor.vue?vue&type=template&id=0317dae8&\"\nimport script from \"./SemanticLabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./SemanticLabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"simplified-name-editor\"},[_c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/name`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [(_vm.editBlockName || isValid === false)?_c('div',[_c('text-editor',{attrs:{\"label\":'',\"placeholder\":_vm.trans('flow-builder.enter-block-code'),\"valid-state\":isValid},on:{\"keydown\":_vm.filterName},nativeOn:{\"mouseleave\":function($event){return _vm.handleCompleteEditing.apply(null, arguments)}},model:{value:(_vm.blockName),callback:function ($$v) {_vm.blockName=$$v},expression:\"blockName\"}})],1):_c('div',{staticClass:\"block-code\"},[_c('div',{on:{\"mouseenter\":_vm.activateEditing}},[_vm._v(\" \"+_vm._s(_vm.blockName)+\" \")])])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock, IContext} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class SimplifiedNameEditor extends mixins(Lang) {\n  editBlockName = false\n\n  @Prop() readonly block!: IBlock\n  @flowVuexNamespace.Action block_setName!: ({\n    blockId,\n    value,\n    lockAutoUpdate,\n  }: {\n    blockId: IBlock['uuid'],\n    value: IBlock['name'],\n    lockAutoUpdate: boolean,\n  }) => void;\n  @flowVuexNamespace.Action block_resetName!: ({blockId}: { blockId: IBlock['uuid'] }) => void;\n\n  get blockName(): IBlock['name'] {\n    return this.block.name\n  }\n\n  set blockName(value: IBlock['name']) {\n    this.block_setName({\n      blockId: this.block.uuid,\n      value,\n      lockAutoUpdate: true,\n    })\n    this.$emit('change')\n  }\n\n  updated() {\n    if (this.blockName === '') {\n      this.editBlockName = true\n    }\n  }\n\n  filterName(e: KeyboardEvent): void {\n    this.activateEditing()\n\n    // allow [a-zA-Z0-9_] only\n    if (e.key.match(/\\W+|Enter/g)) {\n      e.preventDefault()\n    }\n  }\n\n  activateEditing(): void {\n    this.editBlockName = true\n  }\n\n  handleCompleteEditing(): void {\n    this.editBlockName = false\n\n    if (this.blockName === '') {\n      // This will turn on automatic name generation from the label\n      this.block_resetName({blockId: this.block.uuid})\n    }\n\n    this.$emit('change')\n  }\n}\nexport default SimplifiedNameEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimplifiedNameEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimplifiedNameEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SimplifiedNameEditor.vue?vue&type=template&id=29774d49&scoped=true&\"\nimport script from \"./SimplifiedNameEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./SimplifiedNameEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SimplifiedNameEditor.vue?vue&type=style&index=0&id=29774d49&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29774d49\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/tags`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({isValid}){return [_c('div',{staticClass:\"tag-selector\"},[(!_vm.noLabel)?_c('label',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.tags-label')))]):_vm._e(),_c('vue-multiselect',{class:{invalid: isValid === false},attrs:{\"track-by\":\"name\",\"label\":\"name\",\"multiple\":true,\"placeholder\":_vm._f(\"trans\")('flow-builder.tags-selector-placeholder'),\"options\":_vm.availableTagOptions,\"searchable\":true,\"show-labels\":false,\"close-on-select\":false,\"taggable\":_vm.taggable,\"tag-placeholder\":_vm.taggable ? _vm.trans('flow-builder.create-a-tag-prompt') : '',\"disabled\":!_vm.isEditable},on:{\"tag\":_vm.addTag},scopedSlots:_vm._u([{key:\"clear\",fn:function(){return [(_vm.selectedTags.length)?_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.clear-all')),expression:\"trans('flow-builder.clear-all')\",modifiers:{\"hover\":true}}],staticClass:\"multiselect__clear-all\",on:{\"click\":function($event){return _vm.clearAll()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'times-circle']}})],1):_vm._e()]},proxy:true},{key:\"tag\",fn:function({ remove, option, search }){return [_vm._t(\"tag\",null,{\"remove\":remove,\"option\":option,\"search\":search})]}}],null,true),model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport VueMultiselect from 'vue-multiselect'\nimport {IBlock} from '@floip/flow-runner'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {State, namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {map, uniq} from 'lodash'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\ntype Option = {\n  id: string,\n  name: string,\n}\n\n@Component({\n  components: {\n    VueMultiselect,\n  },\n})\nexport class TagSelector extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop({default: true}) readonly taggable!: boolean\n  @Prop({default: false}) readonly noLabel!: boolean\n  @builderVuexNamespace.Getter isEditable!: boolean\n\n  get selectedTags(): Option[] {\n    return this.stringListToOptions(this.block.tags || [])\n  }\n\n  set selectedTags(value) {\n    this.block_setTags({\n      blockId: this.block.uuid,\n      value: map(value, 'name'),\n    })\n  }\n\n  get availableTagOptions(): Option[] {\n    return this.stringListToOptions(this.blockTags)\n  }\n\n  stringListToOptions(list: string[]): Option[] {\n    return map(uniq(list), (value) => ({id: value, name: value}))\n  }\n\n  addTag(newTag: string): void {\n    this.blockTags.push(newTag)\n    this.block_addTag({\n      blockId: this.block.uuid,\n      value: newTag,\n    })\n  }\n\n  clearAll(): void {\n    this.selectedTags = []\n  }\n\n  @flowVuexNamespace.Mutation block_setTags!: ({blockId, value}: {blockId: IBlock['uuid'], value: string[]}) => void\n  @flowVuexNamespace.Mutation block_addTag!: ({blockId, value}: {blockId: IBlock['uuid'], value: string}) => void\n\n  @State(({trees: {ui: {blockTags}}}) => blockTags) blockTags!: string[]\n}\n\nexport default TagSelector\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TagSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TagSelector.vue?vue&type=template&id=ab24e5b0&scoped=true&\"\nimport script from \"./TagSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./TagSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TagSelector.vue?vue&type=style&index=0&id=ab24e5b0&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab24e5b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ValidationMessage',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/accuracy_threshold_meters`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"threshold-editor\"},[_c('float-editor',{attrs:{\"min\":0,\"regex-float-filtering\":'[0-9.,]',\"label\":_vm._f(\"trans\")('flow-builder.accuracy-threshold-in-meters'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.threshold),callback:function ($$v) {_vm.threshold=_vm._n($$v)},expression:\"threshold\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {get} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class ThresholdEditor extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n\n  readonly defaultValue = 5.0\n\n  get threshold(): number {\n    return get(this.block, 'config.accuracy_threshold_meters', this.defaultValue)\n  }\n\n  set threshold(value: number) {\n    this.$emit('commitAccuracyThresholdMetersChange', value)\n  }\n}\n\nexport default ThresholdEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ThresholdEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ThresholdEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ThresholdEditor.vue?vue&type=template&id=a59ef370&\"\nimport script from \"./ThresholdEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ThresholdEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('validation-message',{attrs:{\"message-key\":`block/${_vm.block.uuid}/config/accuracy_timeout_seconds`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('div',{staticClass:\"timeout-editor\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.accuracy-timeout-in-seconds'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":isValid},model:{value:(_vm.timeout),callback:function ($$v) {_vm.timeout=_vm._n($$v)},expression:\"timeout\"}})],1)]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {get} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {IBlock} from '@floip/flow-runner'\n\n@Component({})\nexport class TimeoutEditor extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly block!: IBlock\n\n  readonly defaultValue = 120\n\n  get timeout(): number {\n    return get(this.block, 'config.accuracy_timeout_seconds', this.defaultValue)\n  }\n\n  set timeout(value: number) {\n    this.$emit('commitAccuracyTimeoutSecondsChange', value)\n  }\n}\n\nexport default TimeoutEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeoutEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeoutEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TimeoutEditor.vue?vue&type=template&id=22312d27&\"\nimport script from \"./TimeoutEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TimeoutEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"upload-monitor\"},[(_vm.hasProgress)?_c('div',{staticClass:\"upload-monitor-progress\"},[_c('h6',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.uploading'))+\" \"+_vm._s(_vm.upload.file.name))]),_c('div',{staticClass:\"progress\"},[_c('b-progress',{staticClass:\"mb-3\",attrs:{\"value\":_vm.progress * 1,\"show-value\":\"\",\"animated\":\"\"}})],1)]):_vm._e(),(_vm.isFailure)?_c('p',{staticClass:\"text-danger small\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.error-uploading-file-try-again'))+\" \"),(_vm.upload.message)?_c('span',{staticClass:\"details\"},[_vm._v(\"(\"+_vm._s(_vm.upload.message)+\")\")]):_vm._e()]):_vm._e(),(!_vm.hasProgress)?_vm._t(\"default\"):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport lodash from 'lodash'\nimport Vue from 'vue'\n\nexport const Statuses = {\n  UPLOADING: -1,\n  UNINITIALIZED: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n}\n\nexport const UploadStatusToStateMap = {\n  [Statuses.UPLOADING]: 'uploading',\n  [Statuses.UNINITIALIZED]: 'uninitialized',\n  [Statuses.SUCCESS]: 'success',\n  [Statuses.FAILURE]: 'failure',\n}\n\nexport default {\n  namespaced: true,\n\n  state: {\n    uploadProgressByKey: {},\n    errorMessageByKey: {},\n\n    uploadsById: {},\n    uploadIdsByKey: {},\n  },\n\n  mutations: {\n    setErrorMessage({errorMessageByKey}, {key, errorMessage}) {\n      Vue.set(errorMessageByKey, key, errorMessage)\n    },\n\n    setUploadProgress({uploadProgressByKey}, {key, uploadProgress}) {\n      Vue.set(uploadProgressByKey, key, uploadProgress)\n    },\n\n    setUploadStatusFor({uploadsById, uploadIdsByKey}, {\n      file: fileWithRefs, key, status, progress, message, cancel,\n    }) {\n      const file = lodash.pick(\n        fileWithRefs,\n        ['averageSpeed', 'currentSpeed', 'error', 'name', 'paused', 'relativePath', 'size', 'uniqueIdentifier'],\n      )\n      Vue.set(uploadsById, file.uniqueIdentifier, {\n        key, status, progress, message, cancel, file,\n      })\n      Vue.set(uploadIdsByKey, key, file.uniqueIdentifier)\n    },\n  },\n\n  actions: {\n    uploadFile({commit}, {\n      key,\n      uploadUrl,\n      formDataFields,\n      onSuccess,\n      onError,\n    }) {\n      if (!uploadUrl) {\n        commit('setUploadProgress', {key, uploadProgress: null})\n        onError(new Error(`url was ${uploadUrl}`))\n        return\n      }\n\n      const formData = new FormData()\n      lodash.forEach(formDataFields, (value, name) => {\n        formData.set(name, value)\n      })\n\n      const config = {\n        onUploadProgress: (progressEvent) => {\n          commit('setUploadProgress', {\n            key,\n            uploadProgress: Math.floor((progressEvent.loaded * 100) / progressEvent.total),\n          })\n        },\n      }\n\n      axios.post(uploadUrl, formData, config)\n        .then((response) => {\n          commit('setUploadProgress', {key, uploadProgress: null})\n          onSuccess(response)\n        })\n        .catch((error) => {\n          commit('setUploadProgress', {key, uploadProgress: null})\n          onError(error)\n        })\n    },\n\n    // todo: this is slightly different, because it implements chunked+resumable uploads; generify\n    // todo: upgrade backend to use more recent composer package that's compatible w/ npm flow.js\n    // https://github.com/flowjs/flow-php-server\n    // todo: handle multi-file-per-key\n    uploadFiles({commit, dispatch, state}, {key, files, uploader}) {\n      const cancel = (_) => uploader.cancel()\n\n      files.forEach((file) => commit('setUploadStatusFor', {\n        file, key, progress: 0, status: Statuses.UNINITIALIZED, message: null, cancel,\n      }))\n\n      uploader.on('fileProgress', (file, e) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: `Upload in progress... ${_.parseInt(file.progress() * 100)}%`}, {root: true})\n        console.debug(`Upload in progress... ${_.parseInt(file.progress() * 100)}%`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: file.progress(),\n          status: Statuses.UPLOADING,\n          message: null,\n          cancel,\n        })\n      })\n\n      uploader.on('fileSuccess', (file, json) => {\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: 'Upload successful!', isComplete: true}, {root: true})\n        console.debug('Upload successful!')\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          progress: 1,\n          status: Statuses.SUCCESS,\n          message: null,\n          cancel,\n        })\n        // clear for next batch\n        // uploader.cancel()\n      })\n\n      uploader.on('error', (json, file) => {\n        const {status_description} = JSON.parse(json) || {}\n        // TODO: enable showAppMessageFor and use it as follow\n        // dispatch('showAppMessageFor', {message: status_description, isComplete: true}, {root: true})\n        console.debug(`Upload has error ${status_description}`)\n        commit('setUploadStatusFor', {\n          file,\n          key,\n          status: Statuses.FAILURE,\n          message: status_description,\n          cancel,\n        })\n        // clear for retry\n        // uploader.cancel()\n      })\n\n      uploader.upload()\n      // TODO: enable showAppMessageFor and use it as follow\n      // dispatch('showAppMessageFor', {message: 'Upload in progress...'}, {root: true})\n      console.debug('Upload in progress...')\n    },\n  },\n}\n","\nimport Lang from '@/lib/filters/lang'\nimport {get} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport {BProgress} from 'bootstrap-vue'\nimport multimediaUpload, {Statuses as UploadStatuses} from '@/store/trees/multimediaUpload'\n\nconst multimediaUploadNamespace = namespace('multimediaUpload')\n\ntype Upload = {\n  progress: number,\n  status: Map<string, number>,\n}\n\n@Component({\n  components: {\n    BProgress,\n  },\n})\nexport class UploadMonitor extends mixins(Lang) {\n  @Prop({type: String, required: true}) readonly uploadKey!: string\n\n  @multimediaUploadNamespace.State uploadsById!: Record<string, Upload>\n  @multimediaUploadNamespace.State uploadIdsByKey!: Record<string, string>\n\n  get upload(): Upload | null {\n    return this.uploadsById[this.uploadIdsByKey[this.uploadKey]] ?? null\n  }\n\n  get hasProgress(): boolean {\n    return this.upload !== null\n      && this.upload.status !== UploadStatuses.SUCCESS\n      && this.upload.status !== UploadStatuses.FAILURE\n  }\n\n  get isFailure(): boolean {\n    return this.upload !== null && this.upload.status === UploadStatuses.FAILURE\n  }\n\n  get progress(): number {\n    return get(this.upload, 'progress', 0) * 100\n  }\n\n  created(): void {\n    const $store = this.$store\n    const moduleName = 'multimediaUpload'\n\n    if (!$store.hasModule(moduleName)) {\n      $store.registerModule(moduleName, multimediaUpload)\n    }\n  }\n}\n\nexport default UploadMonitor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadMonitor.vue?vue&type=template&id=60acf392&\"\nimport script from \"./UploadMonitor.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadMonitor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UploadMonitor.vue?vue&type=style&index=0&id=60acf392&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"exit-block-editor-toggle\"},[(_vm.isEditable && _vm.hasClipboard)?[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-secondary btn-sm\",class:{active: _vm.isExitBlock},attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleExitBlock}},[(_vm.isExitBlock)?[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.unset-as-exit-block'))+\" \")]:[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-as-exit-block'))+\" \")]],2)])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow} from '@floip/flow-runner'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class ExitBlockEditorToggle extends mixins(Lang) {\n  @Prop({type: Object, required: true}) readonly flow!: IFlow\n  // Toggle for particular block\n  @Prop({type: String, default: ''}) readonly blockId!: IBlock['uuid']\n  @Prop({type: Boolean, default: true}) readonly isEditable!: boolean\n  // TODO: Validate use of the variable\n  @Prop({type: Boolean, default: false}) readonly hasClipboard!: boolean\n\n  get isExitBlock(): boolean {\n    return this.blockId === this.flow.exit_block_id\n  }\n\n  toggleExitBlock(): void {\n    this.flow_setExitBlockId({\n      flowId: this.flow.uuid,\n      blockId: this.isExitBlock ? '' : this.blockId,\n    })\n  }\n\n  @flowVuexNamespace.Mutation flow_setExitBlockId!: ({flowId, blockId}: {flowId: string, blockId: IBlock['uuid']}) => void\n}\n\nexport default ExitBlockEditorToggle\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitBlockEditorToggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExitBlockEditorToggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExitBlockEditorToggle.vue?vue&type=template&id=d132eaec&\"\nimport script from \"./ExitBlockEditorToggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExitBlockEditorToggle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"first-block-editor-button\"},[(_vm.isEditable)?[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-sm w-100\",class:{'btn-outline-primary': !_vm.isStartBlock, 'btn-primary': _vm.isStartBlock},attrs:{\"type\":\"button\",\"disabled\":_vm.isStartBlock},on:{\"click\":function($event){return _vm.setStartBlock($event)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'enter']}}),(_vm.isStartBlock)?[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.currently-set-as-starting-block'))+\" \")]:[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.set-as-starting-block'))+\" \")]],2)])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport {namespace} from 'vuex-class'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class FirstBlockEditorButton extends mixins(Lang) {\n  @Prop({default: true}) readonly isEditable!: boolean\n\n  @Prop() readonly blockId!: IBlock['uuid']\n\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n\n  // @ts-ignore\n  setStartBlock(event: any): void {\n    this.flow_setFirstBlockId({\n      flowId: this.activeFlow.uuid,\n      blockId: this.blockId,\n    })\n  }\n\n  get isStartBlock(): boolean {\n    return this.blockId === this.activeFlow.first_block_id\n  }\n  @flowVuexNamespace.Mutation flow_setFirstBlockId!: ({flowId, blockId}: { flowId: IFlow['uuid'], blockId: IBlock['uuid'] }) => void\n}\n\nexport default FirstBlockEditorButton\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FirstBlockEditorButton.vue?vue&type=template&id=f648fb86&\"\nimport script from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FirstBlockEditorButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flow-editor\"},[(_vm.flowHeader)?_c('h3',{staticClass:\"no-room-above\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")(_vm.flowHeader))+\" \")]):_vm._e(),_c('fieldset',{attrs:{\"disabled\":!_vm.isEditable && _vm.isOnSmallContainer}},[_c('div',{staticClass:\"row\"},[_c('validation-message',{class:_vm.firstRowClass,attrs:{\"message-key\":`flow/${_vm.flow.uuid}/name`,\"should-hide-validation\":!_vm.didUserSubmit},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('flow-label-editor',{attrs:{\"flow\":_vm.flow,\"valid-state\":isValid,\"data-cy\":\"flow-label--editor\"}})]}}])}),(!_vm.hasDefaultInteractionTimeout)?_c('validation-message',{class:_vm.firstRowClass,attrs:{\"message-key\":`flow/${_vm.flow.uuid}/interaction_timeout`,\"should-hide-validation\":!_vm.didUserSubmit},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('interaction-timeout-editor',{attrs:{\"flow\":_vm.flow,\"valid-state\":isValid,\"data-cy\":\"interaction-timeout--editor\"}})]}}],null,false,2174225140)}):_vm._e()],1),_c('div',{staticClass:\"row\"},[_c('validation-message',{class:_vm.otherRowsClass,attrs:{\"message-key\":`flow/${_vm.flow.uuid}/languages`,\"should-hide-validation\":!_vm.didUserSubmit},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('languages-editor',{attrs:{\"flow\":_vm.flow,\"data-cy\":\"languages--selector\"}})]}}])}),_c('validation-message',{class:_vm.otherRowsClass,attrs:{\"message-key\":`flow/${_vm.flow.uuid}/supported_modes`,\"should-hide-validation\":!_vm.didUserSubmit},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('modes-editor',{attrs:{\"flow\":_vm.flow,\"data-cy\":\"modes--selector\"}})]}}])})],1),_vm._t(\"vendor-extras\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IFlow, IResource, ILanguage, SupportedMode} from '@floip/flow-runner'\nimport {namespace, State} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({})\nexport class FlowEditor extends mixins(Lang) {\n  @Prop() readonly flow!: IFlow\n  @Prop({default: ''}) readonly flowHeader!: string\n  @Prop({default: true}) readonly isOnSmallContainer!: boolean\n  @Prop({default: false}) readonly didUserSubmit!: boolean\n\n  get hasDefaultInteractionTimeout(): boolean {\n    return Boolean(this.ui.appWideInteractionTimeout)\n  }\n\n  get firstRowClass(): string {\n    if (this.isOnSmallContainer) {\n      // show full width, no matter we have default InteractionTimeout or not\n      return 'col-12'\n    } if (!this.hasDefaultInteractionTimeout) {\n      return 'col-xl-6 col-lg-6 col-md-12 col-sm-12'\n    } else {\n      return 'col-12'\n    }\n  }\n\n  get otherRowsClass(): string {\n    return this.isOnSmallContainer ? 'col-12' : 'col-xl-6 col-lg-6 col-md-12 col-sm-12'\n  }\n\n  @State(({trees: {ui}}) => ui) ui!: any\n  @builderVuexNamespace.Getter isEditable!: boolean\n}\n\nexport default FlowEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FlowEditor.vue?vue&type=template&id=2643e1f0&\"\nimport script from \"./FlowEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./FlowEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"interaction-timeout-editor form-group\"},[_c('numeric-editor',{attrs:{\"regex-numeric-filtering\":'[0-9]',\"label\":_vm._f(\"trans\")('flow-builder.Interaction-timeout'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-value'),\"valid-state\":_vm.validState},model:{value:(_vm.interactionTimeout),callback:function ($$v) {_vm.interactionTimeout=_vm._n($$v)},expression:\"interactionTimeout\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IFlow} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class InteractionTimeoutEditor extends mixins(Lang) {\n  @Prop() readonly flow!: IFlow\n  @Prop() validState?: boolean\n\n  get interactionTimeout(): number {\n    return this.flow.interaction_timeout\n  }\n\n  set interactionTimeout(value: number) {\n    this.flow_setInteractionTimeout({flowId: this.flow.uuid, value})\n  }\n\n  @flowVuexNamespace.Mutation flow_setInteractionTimeout!: ({\n    flowId,\n    value,\n  }: { flowId: IFlow['uuid'], value: IFlow['interaction_timeout'] }) => void\n}\n\nexport default InteractionTimeoutEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionTimeoutEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionTimeoutEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InteractionTimeoutEditor.vue?vue&type=template&id=50763a86&\"\nimport script from \"./InteractionTimeoutEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./InteractionTimeoutEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flow-label-editor form-group\"},[_c('text-editor',{class:{ 'is-invalid': _vm.isInvalid },attrs:{\"valid-state\":_vm.validState,\"label\":_vm._f(\"trans\")('flow-builder.flow-label'),\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-flow-label')},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component\nexport class FlowLabelEditor extends mixins(Lang) {\n  @Prop() readonly flow!: IFlow\n  @Prop() validState?: boolean\n\n  get isInvalid() {\n    // strict comparison, because `undefined` doesn't mean invalid\n    return this.validState === false\n  }\n\n  get label(): IBlock['label'] {\n    return this.flow.label ?? ''\n  }\n\n  set label(label: IBlock['label']) {\n    this.flow_setLabel({flowId: this.flow.uuid, label})\n    //Also set the name\n    this.flow_setNameFromLabel({flowId: this.flow.uuid, label})\n  }\n\n  @flowVuexNamespace.Mutation flow_setLabel!: ({flowId, label}: {flowId: IFlow['uuid'], label: IFlow['label']}) => void\n  @flowVuexNamespace.Mutation flow_setNameFromLabel!: ({flowId, label}: {flowId: IFlow['uuid'], label: IFlow['label']}) => void\n}\n\nexport default FlowLabelEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowLabelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowLabelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FlowLabelEditor.vue?vue&type=template&id=59b757a6&\"\nimport script from \"./FlowLabelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./FlowLabelEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"languages-editor form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.languages')))]),_c('vue-multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"label\",\"placeholder\":_vm._f(\"trans\")('flow-builder.select-languages'),\"options\":_vm.allLanguages,\"multiple\":true,\"show-labels\":false,\"searchable\":true},model:{value:(_vm.selectedLanguages),callback:function ($$v) {_vm.selectedLanguages=$$v},expression:\"selectedLanguages\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport VueMultiselect from 'vue-multiselect'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IFlow} from '@floip/flow-runner'\nimport {ILanguage} from '@floip/flow-runner/dist/flow-spec/ILanguage'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\nimport {namespace, State} from 'vuex-class'\nimport {orderLanguages} from '@/store/flow/flow'\n\nconst flowNamespace = namespace('flow')\n\n@Component({\n  components: {\n    VueMultiselect,\n  },\n})\nexport class LanguagesEditor extends mixins(Lang) {\n  @Prop() readonly flow!: IFlow\n\n  get allLanguages(): ILanguage[] {\n    return orderLanguages(this.availableLanguages ?? [])\n  }\n\n  get selectedLanguages(): ILanguage[] {\n    return orderLanguages(this.flow.languages ?? [])\n  }\n\n  set selectedLanguages(newLanguages: ILanguage[]) {\n    this.flow_updateLanguages({flowId: this.flow.uuid, newLanguages})\n  }\n\n  @State(state => state.trees.ui.languages) availableLanguages: ILanguage[]\n  @flowNamespace.Action flow_updateLanguages: ({flowId, newLanguages}: {flowId: string, newLanguages: ILanguage[]}) => void\n}\n\nexport default LanguagesEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguagesEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguagesEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LanguagesEditor.vue?vue&type=template&id=65036892&\"\nimport script from \"./LanguagesEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./LanguagesEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"modes-editor form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.modes')))]),_c('vue-multiselect',{attrs:{\"placeholder\":_vm._f(\"trans\")('flow-builder.select-modes'),\"options\":_vm.allModes,\"multiple\":true,\"show-labels\":false,\"searchable\":true},model:{value:(_vm.selectedModes),callback:function ($$v) {_vm.selectedModes=$$v},expression:\"selectedModes\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport VueMultiselect from 'vue-multiselect'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {IFlow, SupportedMode} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\nimport {namespace, State} from 'vuex-class'\nimport {orderModes} from '@/store/flow/flow'\n\nconst flowNamespace = namespace('flow')\n\n@Component({\n  components: {\n    VueMultiselect,\n  },\n})\nexport class ModesEditor extends mixins(Lang) {\n  @Prop() readonly flow!: IFlow\n\n  get allModes(): SupportedMode[] {\n    return orderModes(this.availableModes ?? [])\n  }\n\n  get selectedModes(): SupportedMode[] {\n    return orderModes(this.flow.supported_modes ?? [])\n  }\n\n  set selectedModes(newModes: SupportedMode[]) {\n    this.flow_updateModes({flowId: this.flow.uuid, newModes})\n  }\n\n  @State(state => state.trees.ui.supportedModes) availableModes: SupportedMode[]\n  @flowNamespace.Action flow_updateModes!: (args: {flowId: string, newModes: SupportedMode[]}) => void\n}\n\nexport default ModesEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModesEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModesEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModesEditor.vue?vue&type=template&id=03a68081&\"\nimport script from \"./ModesEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModesEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"language-adder\"},[_vm._t(\"default\",function(){return [_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.showAddLanguageModal}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.add-language'))+\" \")])]},{\"showAddLanguageModal\":_vm.showAddLanguageModal}),_c('b-modal',{ref:\"add-language-modal\",attrs:{\"title\":_vm._f(\"trans\")('flow-builder.add-language'),\"ok-title\":_vm._f(\"trans\")('flow-builder.create'),\"cancel-title\":_vm._f(\"trans\")('flow-builder.cancel')},on:{\"ok\":function($event){$event.preventDefault();return _vm.handleCreateLanguage.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('validation-message',{attrs:{\"message-key\":\"language/new_language/label\"},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('text-editor',{attrs:{\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-label'),\"label\":_vm._f(\"trans\")('flow-builder.label'),\"valid-state\":isValid},model:{value:(_vm.newLanguage.label),callback:function ($$v) {_vm.$set(_vm.newLanguage, \"label\", $$v)},expression:\"newLanguage.label\"}})]}}])})],1),_c('div',{staticClass:\"form-group\"},[_c('validation-message',{attrs:{\"message-key\":\"language/new_language/iso_639_3\"},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.iso-639-3-label')))]),_c('vue-multiselect',{class:{invalid: isValid === false},attrs:{\"placeholder\":_vm._f(\"trans\")('flow-builder.language-tag-selector-placeholder'),\"options\":_vm.iso_639_3Tags,\"allow-empty\":false,\"custom-label\":_vm.customLanguageLabel,\"track-by\":\"iso6393\",\"searchable\":true},model:{value:(_vm.iso_639_3),callback:function ($$v) {_vm.iso_639_3=$$v},expression:\"iso_639_3\"}})]}}])})],1),_c('div',{staticClass:\"form-group\"},[_c('validation-message',{attrs:{\"message-key\":\"language/new_language/variant\"},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('text-editor',{attrs:{\"placeholder\":_vm._f(\"trans\")('flow-builder.enter-variant'),\"label\":_vm._f(\"trans\")('flow-builder.language-variant'),\"valid-state\":isValid},on:{\"keydown\":_vm.filterVariant},model:{value:(_vm.variant),callback:function ($$v) {_vm.variant=$$v},expression:\"variant\"}})]}}])})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.iso-3166-1-label')))]),_c('vue-multiselect',{attrs:{\"placeholder\":_vm._f(\"trans\")('flow-builder.language-locale-selector-placeholder'),\"options\":_vm.iso_3166_1Locales(),\"allow-empty\":false,\"track-by\":\"locale\",\"custom-label\":_vm.customLocaleLabel,\"searchable\":true},model:{value:(_vm.iso_3166_1),callback:function ($$v) {_vm.iso_3166_1=$$v},expression:\"iso_3166_1\"}})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.bcp-47-label')))]),_c('validation-message',{attrs:{\"message-key\":\"language/new_language/bcp_47\"},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newLanguage.bcp_47),expression:\"newLanguage.bcp_47\"}],staticClass:\"form-control\",attrs:{\"name\":\"bcp_47\",\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.newLanguage.bcp_47)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.newLanguage, \"bcp_47\", $event.target.value)}}})]}}])})],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport {BModal} from 'bootstrap-vue'\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {Component} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport {iso6393} from 'iso-639-3'\n\nimport {\n  map,\n  keys,\n  isEmpty,\n} from 'lodash'\n\nimport {\n  ILanguage,\n} from '@floip/flow-runner'\nimport {Action, namespace, State} from 'vuex-class'\n\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\n\nimport VueMultiselect from 'vue-multiselect'\n\nconst countries = require('i18n-iso-countries')\ncountries.registerLocale(require('i18n-iso-countries/langs/en.json'))\ncountries.registerLocale(require('i18n-iso-countries/langs/fr.json'))\n\nconst importVuexNamespace = namespace('flow/import')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({\n  components: {\n    BModal,\n    VueMultiselect,\n  },\n})\nexport class LanguageAdder extends mixins(Lang, Routes) {\n  newLanguage: ILanguage = {\n    id: '',\n    label: '',\n    iso_639_3: '',\n    variant: '',\n    bcp_47: '',\n  }\n  selected_iso_639_3: any = {}\n  selected_iso_3166_1: any = {}\n  iso_639_3Tags: any[] = iso6393\n  // There is no obvious way to narrow down ISO 3166-1 from iso 639 languages:\n  // https://www.rfc-editor.org/rfc/rfc5646.html#section-4.2\n  // As a result, we don't attempt to filter this list depending on the iso 639 selection\n  // We use Alpha-2 Codes as apparently they are \"the most widely used\"\n  // https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\n  resetLanguage(): void {\n    this.newLanguage = {\n      id: '',\n      label: '',\n      iso_639_3: '',\n      variant: '',\n      bcp_47: '',\n    } as ILanguage\n    this.selected_iso_639_3 = {}\n    this.selected_iso_3166_1 = {}\n    this.validation_removeNewLanguageValidation()\n  }\n  showAddLanguageModal(): void {\n    this.resetLanguage()\n    const languageModal: any = this.$refs['add-language-modal']\n    languageModal.show()\n  }\n  customLanguageLabel(option: any): string {\n    if (!isEmpty(option)) {\n      return `${option.name} - ${option.iso6393}`\n    }\n    return ''\n  }\n  customLocaleLabel(option: any): string {\n    if (!isEmpty(option)) {\n      return `${option.country} - ${option.locale}`\n    }\n    return ''\n  }\n  iso_3166_1Locales(): object[] {\n    const countriesByLocaleCode = countries.getNames(this.locale, {select: 'official'})\n    return map(keys(countriesByLocaleCode), (localeCode) => ({locale: localeCode, country: countriesByLocaleCode[localeCode]}))\n  }\n  set iso_639_3(selection: any) {\n    this.selected_iso_639_3 = selection\n    if (!isEmpty(selection)) {\n      this.newLanguage.iso_639_3 = selection.iso6393\n      this.updateBCP47()\n    }\n  }\n  get iso_639_3(): string {\n    return this.selected_iso_639_3\n  }\n  set iso_3166_1(selection: any) {\n    this.selected_iso_3166_1 = selection\n    if (!isEmpty(selection)) {\n      this.updateBCP47()\n    }\n  }\n  get iso_3166_1(): string {\n    return this.selected_iso_3166_1\n  }\n  set variant(value: string) {\n    this.newLanguage.variant = value\n    if (!isEmpty(value)) {\n      this.updateBCP47()\n    }\n  }\n  get variant(): string {\n    if (this.newLanguage.variant !== undefined) {\n      return this.newLanguage.variant\n    } else {\n      return ''\n    }\n  }\n\n  //Taken from voto5 restrictions\n  filterVariant(e: KeyboardEvent): void {\n    if (e.key.match(/[^a-z_]/g) && e.keyCode !== 8 && e.keyCode !== 46) { //allow backspace and delete\n      e.preventDefault()\n    }\n    if (this.newLanguage.variant !== undefined && !isEmpty(this.newLanguage.variant)) {\n      const lastCharacter = this.newLanguage.variant[this.newLanguage.variant.length - 1]\n      if (lastCharacter === '_' && e.key.match(/_/g)) {\n        e.preventDefault()\n      }\n    }\n  }\n  /*\n   * For now, we aren't allowing the use of 'script' or other elements in BCP 47 Construction - though the spec allows this.\n   * We only use iso 639 + ISO 3166-1 (and not UN M.49)\n   * https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\n   */\n  updateBCP47(): void {\n    if (!isEmpty(this.selected_iso_639_3)) {\n      let bcp_47 = `${this.newLanguage.iso_639_3}`\n      if (!isEmpty(this.selected_iso_3166_1)) {\n        bcp_47 += `-${this.selected_iso_3166_1.locale}`\n      }\n      if (this.newLanguage.variant !== undefined && !isEmpty(this.newLanguage.variant)) {\n        bcp_47 += `-${this.newLanguage.variant}`\n      }\n      this.newLanguage.bcp_47 = bcp_47\n    }\n  }\n  async handleCreateLanguage(): Promise<void> {\n    this.newLanguage.id = await (new IdGeneratorUuidV4()).generate()\n\n    const persistRoute = this.route('languages.persistLanguage', {})\n    const valid = await this.validateAndAddOrgLanguage({language: this.newLanguage, persistRoute})\n    if (!valid) {\n      return\n    }\n    this.$emit('onLanguageAddition')\n    const languageModal: any = this.$refs['add-language-modal']\n    languageModal.hide()\n  }\n  @Action validateAndAddOrgLanguage!: ({language, persistRoute}: { language: ILanguage, persistRoute: string }) => Promise<boolean | ILanguage>\n\n  @State locale!: string\n\n  @validationVuexNamespace.Action validation_removeNewLanguageValidation!: () => Promise<void>\n}\n\nexport default LanguageAdder\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageAdder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageAdder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LanguageAdder.vue?vue&type=template&id=4cab50b2&\"\nimport script from \"./LanguageAdder.vue?vue&type=script&lang=ts&\"\nexport * from \"./LanguageAdder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-errors-expandable card w-100\"},[_c('div',{staticClass:\"card-title m-0 px-2 pt-1 menu-bg-color\"},[_vm._v(\" \"+_vm._s(_vm.trans(`flow-builder.${_vm.block.type}`))+\" \"),_c('div',{staticClass:\"text-secondary\"},[_c('small',[_vm._v(_vm._s(_vm.blockLabel))])])]),_vm._l((_vm.errorsToShow),function(error){return _c('div',{key:`${error.dataPath}-${error.keyword}`,staticClass:\"card-body d-flex justify-content-between px-2 py-0 highlight-on-hover menu-bg-color\"},[_c('span',{staticClass:\"text-danger align-self-center\"},[_vm._v(_vm._s(error.message))]),_c('button',{staticClass:\"btn btn-link btn-link-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('fixBlockError', _vm.block.uuid, error.dataPath)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.fix-issue'))+\" \")])])}),(_vm.isListLong)?_c('div',{staticClass:\"btn btn-link text-left px-2 m-0 border-0 text-center menu-bg-color\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleList.apply(null, arguments)}}},[(!_vm.isExpanded)?_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-down'],\"aria-label\":_vm._f(\"trans\")('flow-builder.show-more')}}):_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'chevron-up'],\"aria-label\":_vm._f(\"trans\")('flow-builder.show-less')}})],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component, {mixins} from 'vue-class-component'\nimport {IValidationStatus} from '@/store/validation'\nimport Lang from '@/lib/filters/lang'\nimport {ErrorObject} from 'ajv'\nimport {Prop} from 'vue-property-decorator'\nimport {IBlock, IFlow, IResource, IResources} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\nimport {get, map} from 'lodash'\n\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\n\nconst DEFAULT_LIST_SIZE = 3\n\n@Component({})\nexport class BlockErrorsExpandable extends mixins(Lang) {\n  @Prop({required: true}) readonly block!: IBlock\n\n  isExpanded = false\n\n  get errorsToShow(): ErrorObject[] {\n    return this.isExpanded\n      ? this.allErrors ?? []\n      : this.allErrors?.slice(0, DEFAULT_LIST_SIZE) ?? []\n  }\n\n  /**\n   * get allErrors to consider errors from:\n   * - block validation\n   * - resource validation\n   */\n  get allErrors(): ErrorObject[] {\n    return [\n      ...this.blockValidationStatusesForCurrentBlock,\n      ...this.resourceValidationStatusesForCurrentBlock,\n      ...this.backendBlockValidationStatusesForCurrentBlock,\n      ...this.backendResourceValidationStatusesForCurrentBlock,\n    ]\n      .filter(Boolean)\n  }\n\n  get isListLong(): boolean {\n    return this.allErrors.length > DEFAULT_LIST_SIZE\n  }\n\n  get blockLabel(): string {\n    return this.block.label ?? this.trans('flow-builder.untitled-block')\n  }\n\n  get currentBlockResourceUuids(): IResource['uuid'][] {\n    const choiceResourceUuids = this.block.config?.choices !== undefined\n      ? map(this.block.config.choices, 'prompt')\n      : []\n\n    return [\n      this.block.config?.prompt,\n      ...choiceResourceUuids,\n    ]\n  }\n\n  get resourceValidationStatusesForCurrentBlock(): ErrorObject[] {\n    return this.currentBlockResourceUuids.map((uuid) => this.getAjvErrorsFor('resource', uuid)).flat()\n  }\n\n  get backendResourceValidationStatusesForCurrentBlock(): ErrorObject[] {\n    return this.currentBlockResourceUuids.map((uuid) => this.getAjvErrorsFor('backend/resource', uuid)).flat()\n  }\n\n  get backendBlockValidationStatusesForCurrentBlock(): ErrorObject[] {\n    return this.getAjvErrorsFor('backend/block', this.block.uuid)\n  }\n\n  get blockValidationStatusesForCurrentBlock(): ErrorObject[] {\n    return this.getAjvErrorsFor('block', this.block.uuid)\n  }\n\n  getAjvErrorsFor(type: 'block' | 'resource' | 'backend/block' | 'backend/resource', uuid: string): ErrorObject[] {\n    const validationStatus = get(this.validationStatuses, `${type}/${uuid}`)\n\n    if (validationStatus === undefined || !validationStatus.ajvErrors) {\n      return []\n    }\n\n    return validationStatus.ajvErrors.map((ajvError) => ({\n      ...ajvError,\n      dataPath: `${type}/${uuid}${ajvError.dataPath}`,\n    }))\n  }\n\n  toggleList(): void {\n    this.isExpanded = !this.isExpanded\n  }\n\n  @validationVuexNamespace.State validationStatuses!: { [key: string]: IValidationStatus }\n  @flowVuexNamespace.Getter activeFlow?: IFlow\n}\nexport default BlockErrorsExpandable\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockErrorsExpandable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockErrorsExpandable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockErrorsExpandable.vue?vue&type=template&id=2809301f&scoped=true&\"\nimport script from \"./BlockErrorsExpandable.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockErrorsExpandable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlockErrorsExpandable.vue?vue&type=style&index=0&id=2809301f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2809301f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('main',{staticClass:\"error-notifications\"},[(_vm.flowValidationErrors.length > 0)?_c('section',{staticClass:\"alert alert-danger d-flex mb-0 py-sm-1 px-2\",attrs:{\"role\":\"alert\"}},[_c('span',{staticClass:\"align-self-center ml-2\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-error-message'))+\" \")]),_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-link btn-link-text dropdown-toggle\",attrs:{\"id\":\"flowErrorsDropdown\",\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.show-issues'))+\" \"),_c('span',{staticClass:\"caret\"})]),_c('ul',{staticClass:\"notification dropdown-menu\",attrs:{\"aria-labelledby\":\"flowErrorsDropdown\"}},_vm._l((_vm.flowValidationErrors),function(error){return _c('li',{key:error.dataPath},[_c('div',{staticClass:\"d-flex justify-content-between px-2 py-0 highlight-on-hover\"},[_c('span',{staticClass:\"text-danger align-self-center\"},[_vm._v(_vm._s(error.message))]),(error.dataPath !== '/first_block_id')?_c('button',{staticClass:\"btn btn-link btn-link-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.fixFlowError()}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.fix-issue'))+\" \")]):_vm._e()])])}),0)])]):_vm._e(),(_vm.numberOfBlocksWithErrors > 0)?_c('section',{staticClass:\"alert alert-danger d-flex py-sm-1 px-2 mb-1\",attrs:{\"role\":\"alert\"}},[_c('span',{staticClass:\"align-self-center ml-2\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.block-error-message',{block_count: _vm.numberOfBlocksWithErrors}))+\" \")]),_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-link btn-link-text dropdown-toggle\",attrs:{\"id\":\"blockErrorsDropdown\",\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.locate-block-issue'))+\" \"),_c('span',{staticClass:\"caret\"})]),_c('ul',{staticClass:\"notification dropdown-menu\",attrs:{\"aria-labelledby\":\"blockErrorsDropdown\"}},_vm._l((_vm.invalidBlocksInActiveFlow),function(block,key){return _c('li',{key:key},[_c('block-errors-expandable',{attrs:{\"block\":block},on:{\"fixBlockError\":_vm.fixBlockError}})],1)}),0)])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport {castArray, filter, get, pickBy, size, union} from 'lodash'\nimport {IValidationStatus} from '@/store/validation'\nimport Routes from '@/lib/mixins/Routes'\nimport Component, {mixins} from 'vue-class-component'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow, IResource} from '@floip/flow-runner'\nimport {ErrorObject} from 'ajv'\n\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({})\nexport class ErrorNotifications extends mixins(Routes, Lang) {\n  updated(): void {\n    this.$emit('updated')\n  }\n\n  get flowValidationErrors(): ErrorObject[] {\n    const frontendFlowKey = `flow/${this.activeFlow?.uuid}`\n    const backendFlowKey = `backend/flow/${this.activeFlow?.uuid}`\n    return union(\n      this.validationStatuses[frontendFlowKey]?.ajvErrors || [],\n      this.validationStatuses[backendFlowKey]?.ajvErrors || [],\n    )\n  }\n\n  /**\n   * block validation statuses for active flow only\n   */\n  get blockValidationStatuses(): { [key: string]: IValidationStatus } {\n    const blocksMap = this.activeFlow?.blocks.reduce((map: { [key: string]: boolean }, block) => {\n      map[`block/${block.uuid}`] = true\n      map[`backend/block/${block.uuid}`] = true\n      return map\n    }, {})\n    if (!blocksMap || size(blocksMap) === 0) {\n      return {}\n    }\n    // frontend or backend validation keys have `block/` string\n    return pickBy(this.validationStatuses, (value: IValidationStatus, key) => key.includes('block/') && blocksMap[key])\n  }\n\n  hasBlockValidationErrors(uuid: string): boolean {\n    const frontendValidationStatuses = get(this.blockValidationStatuses, `block/${uuid}`)\n    const backendValidationStatuses = get(this.blockValidationStatuses, `backend/block/${uuid}`)\n    if (frontendValidationStatuses === undefined && backendValidationStatuses === undefined) {\n      return false\n    }\n\n    if ((frontendValidationStatuses?.isValid === true || frontendValidationStatuses?.isValid === undefined)\n      && (backendValidationStatuses?.isValid === true || backendValidationStatuses?.isValid === undefined)) {\n      return false\n    }\n\n    return true\n  }\n\n  hasResourceValidationErrors(uuidOrUuids: string | string[]): boolean {\n    const uuids = castArray(uuidOrUuids)\n\n    return uuids.some(uuid => {\n      const isValid = this.validationStatuses[`resource/${uuid}`]?.isValid\n      const doesBelongToActiveFlow = this.activeFlow?.resources.some(resource => resource.uuid === uuid)\n\n      return isValid === false && doesBelongToActiveFlow\n    }, this)\n  }\n\n  isBlockInvalid(block: IBlock): boolean {\n    return this.hasBlockValidationErrors(block.uuid)\n      || this.hasResourceValidationErrors(block.config.prompt)\n      || this.hasResourceValidationErrors(block.config.choices)\n  }\n\n  get invalidBlocksInActiveFlow(): IBlock[] {\n    return filter(this.activeFlow?.blocks, this.isBlockInvalid.bind(this))\n  }\n\n  get numberOfBlocksWithErrors(): number {\n    return size(this.invalidBlocksInActiveFlow)\n  }\n\n  async fixFlowError(): Promise<void> {\n    try {\n      await this.$router.push({\n        name: 'flow-details',\n      })\n    } catch (err) {\n      if (err.name !== 'NavigationDuplicated') {\n        console.error(err)\n      }\n    }\n  }\n\n  async fixBlockError(blockId: string, dataPath: string): Promise<void> {\n    try {\n      await this.$router.push({\n        name: 'block-scroll-to-anchor',\n        params: {\n          blockId,\n          field: dataPath,\n        },\n      })\n    } catch (err) {\n      if (err.name !== 'NavigationDuplicated') {\n        console.error(err)\n      }\n    }\n  }\n\n  @validationVuexNamespace.State validationStatuses!: { [key: string]: IValidationStatus }\n  @flowVuexNamespace.Getter activeFlow?: IFlow\n  @flowVuexNamespace.Getter resourceUuidsOnActiveFlow!: IResource['uuid'][]\n}\nexport default ErrorNotifications\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorNotifications.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorNotifications.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ErrorNotifications.vue?vue&type=template&id=1bf8eedc&scoped=true&\"\nimport script from \"./ErrorNotifications.vue?vue&type=script&lang=ts&\"\nexport * from \"./ErrorNotifications.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ErrorNotifications.vue?vue&type=style&index=0&id=1bf8eedc&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bf8eedc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!!_vm.countSelectedBlocks)?_c('div',{staticClass:\"selection-banner\"},[_c('div',{staticClass:\"alert alert-primary mb-0 d-flex py-sm-2 px-3\",attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"mr-3\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.selected-x-blocks',{x: _vm.countSelectedBlocks}))+\". \")]),(!_vm.deleting)?_c('div',[_c('button',{staticClass:\"btn btn-danger btn-sm mr-2\",on:{\"click\":function($event){_vm.deleting = true}}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'trash-alt']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.delete'))+\" \")],1),_c('button',{staticClass:\"btn btn-outline-dark btn-sm mr-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.handleMultipleDuplicate.apply(null, arguments)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fac', 'copy']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.duplicate'))+\" \")],1),_c('button',{staticClass:\"btn btn-outline-dark btn-sm ml-4\",on:{\"click\":_vm.flow_clearMultiSelection}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.clear-selection'))+\" \")])]):_vm._e(),(_vm.deleting)?_c('div',[_c('b',{staticClass:\"mr-3\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.confirmation-for-delete-selection')))]),_c('button',{staticClass:\"btn btn-outline-dark btn-sm mr-2\",on:{\"click\":function($event){_vm.deleting = false}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.no-cancel'))+\" \")]),_c('button',{staticClass:\"btn btn-danger btn-sm mr-2\",on:{\"click\":_vm.confirmMultipleDeletion}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.yes-delete'))+\" \")])]):_vm._e()])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport Component, {mixins} from 'vue-class-component'\nimport {namespace} from 'vuex-class'\nimport {IBlock} from '@floip/flow-runner'\nimport {size} from 'lodash'\n\nconst flowVuexNamespace = namespace('flow')\nconst undoRedoVuexNamespace = namespace('undoRedo')\n\n@Component({})\nexport class SelectionBanner extends mixins(Lang) {\n  deleting = false\n\n  updated(): void {\n    this.$emit('updated')\n  }\n\n  get countSelectedBlocks(): number {\n    return size(this.selectedBlocks)\n  }\n\n  async confirmMultipleDeletion(): Promise<void> {\n    await this.flow_removeAllSelectedBlocks()\n    this.deleting = false\n  }\n\n  async handleMultipleDuplicate(): Promise<void> {\n    const duplicateBlockUuids = await this.flow_duplicateAllSelectedBlocks()\n    await this.flow_clearMultiSelection()\n    this.$emit('after-multiple-block-duplicate', {duplicateBlockUuids})\n  }\n\n  @flowVuexNamespace.State selectedBlocks!: IBlock['uuid'][]\n  @flowVuexNamespace.Action flow_clearMultiSelection!: () => Promise<void>\n  @flowVuexNamespace.Action flow_removeAllSelectedBlocks!: () => Promise<void>\n  @flowVuexNamespace.Action flow_duplicateAllSelectedBlocks!: () => Promise<string[]>\n}\nexport default SelectionBanner\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionBanner.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionBanner.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectionBanner.vue?vue&type=template&id=40092156&\"\nimport script from \"./SelectionBanner.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectionBanner.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"builder-toolbar\",staticClass:\"tree-builder-toolbar d-flex flex-column\"},[_c('div',{staticClass:\"tree-builder-toolbar-main-menu d-flex flex-column\"},[(_vm.isExportVisible)?_c('div',{staticClass:\"flows-exporter alert alert-info\"},[_c('h3',[_vm._v(_vm._s(_vm.trans('flow-builder.flow-exporter')))]),_c('textarea',{staticClass:\"flow-exporter\",attrs:{\"rows\":\"15\",\"disabled\":\"\"},domProps:{\"value\":_vm.flow}})]):_vm._e(),_c('div',{staticClass:\"tree-workspace-panel-heading panel-heading w-100\"},[_c('div',{staticClass:\"tree-workspace-panel-heading-contents\"},[_c('div',{staticClass:\"btn-toolbar\"},[(_vm.hasToolbarFlowTitle)?_c('h4',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.activeFlow.label),expression:\"activeFlow.label\",modifiers:{\"hover\":true}}],staticClass:\"text-primary mr-4 mb-0 flow-label\"},[_vm._v(\" \"+_vm._s(_vm.activeFlow.label)+\" \")]):_vm._e(),_c('div',[(_vm.hasToolbarHomeButton)?_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.home')),expression:\"trans('flow-builder.home')\",modifiers:{\"hover\":true}}],staticClass:\"mr-2\",attrs:{\"to\":_vm.route('flows.home')}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'home']}})],1):_vm._e(),(_vm.hasToolbarNewFlowButton)?_c('router-link',{staticClass:\"btn btn-primary btn-sm mr-2\",attrs:{\"to\":_vm.route('flows.newFlow')}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.new-flow'))+\" \")]):_vm._e(),_c('button',{staticClass:\"btn btn-sm\",class:{\n                'btn-outline-primary': _vm.hasToolbarNewFlowButton,\n                'btn-primary': !_vm.hasToolbarNewFlowButton },on:{\"click\":_vm.showOrHideEditFlowModal}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-details'))+\" \")]),_c('b-modal',{ref:\"edit-flow-modal\",attrs:{\"ok-only\":\"\",\"ok-title\":_vm._f(\"trans\")('flow-builder.done')},on:{\"ok\":_vm.showOrHideEditFlowModal}},[_c('template',{slot:\"modal-header\"},[_c('h2',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-details'))+\" \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.showOrHideEditFlowModal}},[_vm._v(\"  \")])]),_c('flow-editor',{attrs:{\"flow\":_vm.activeFlow,\"did-user-submit\":true,\"flow-header\":\"\"}})],2),_c('div',{staticClass:\"vertical-divider\"}),(_vm.isResourceViewerEnabled)?_c('div',{staticClass:\"btn-group\"},[_c('router-link',{staticClass:\"btn btn-outline-primary btn-sm\",class:{active: _vm.isBuilderCanvasEnabled, disabled: _vm.isTreeSaving},attrs:{\"to\":_vm.treeUrl},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleFlowViewMenu.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.flow-view'))+\" \")]),_c('router-link',{staticClass:\"btn btn-outline-primary btn-sm\",class:{active: _vm.isResourceViewerCanvasEnabled, disabled: _vm.isTreeSaving},attrs:{\"to\":_vm.resourceUrl},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleResourceViewMenu.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.resource-view'))+\" \")])],1):_vm._e(),(!_vm.ui.isEditableLocked && !_vm.isResourceViewerCanvasEnabled)?_c('div',{staticClass:\"btn-group ml-3\"},[_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.click-to-toggle-editing')),expression:\"trans('flow-builder.click-to-toggle-editing')\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-outline-primary btn-sm\",class:{active: !_vm.isEditable, disabled: _vm.isTreeSaving},attrs:{\"to\":_vm.viewModeUrl,\"event\":\"\",\"aria-disabled\":_vm.isTreeSaving,\"tabindex\":_vm.isTreeSaving ? -1 : undefined},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handlePersistFlow(_vm.viewModeUrl)}}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.view-mode'))+\" \")]),_c('router-link',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.click-to-toggle-editing')),expression:\"trans('flow-builder.click-to-toggle-editing')\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-outline-primary btn-sm\",class:{active: _vm.isEditable, disabled: _vm.isTreeSaving},attrs:{\"to\":_vm.editModeUrl,\"event\":\"\",\"aria-disabled\":_vm.isTreeSaving,\"tabindex\":_vm.isTreeSaving ? -1 : undefined},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handlePersistFlow(_vm.editModeUrl)}}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.edit-mode'))+\" \")])],1):_vm._e(),_c('div',{staticClass:\"vertical-divider\"}),_c('UndoRedoButtonGroup'),_vm._t(\"extra-buttons\")],2),_c('div',{staticClass:\"ml-auto\"},[(_vm.isBuilderCanvasEnabled && _vm.hasSimulator)?_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setSimulatorActive(true)}}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.show-clipboard-simulator'))+\" \")]):_vm._e(),_c('div',{staticClass:\"btn-group\"},[_vm._t(\"right-grouped-buttons\")],2),(_vm.isBuilderCanvasEnabled && _vm.hasToolbarExportButton)?_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",class:{active: _vm.isExportVisible},on:{\"click\":_vm.toggleExportVisibility}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.export'))+\" \")]):_vm._e(),(_vm.isBuilderCanvasEnabled && _vm.isEditable && _vm.isFeatureTreeSaveEnabled)?_c('button',{staticClass:\"btn btn-sm ml-4 save-button\",class:{\n                'btn-outline-primary': !_vm.hasFlowChanges,\n                'btn-primary': _vm.hasFlowChanges\n              },attrs:{\"type\":\"button\",\"disabled\":_vm.isSavingDisabled},on:{\"click\":function($event){return _vm.handlePersistFlow()}}},[_vm._v(\" \"+_vm._s(_vm.saveButtonText)+\" \")]):_vm._e()])])])]),(_vm.isBuilderCanvasEnabled && _vm.isEditable)?_c('div',{staticClass:\"tree-workspace-panel-heading panel-heading w-100 bg-white d-flex justify-content-start pt-0 pb-0\"},[_c('div',{staticClass:\"tree-workspace-panel-heading-contents\"},[_c('ul',{staticClass:\"nav\"},[(!_vm.isEmpty(_vm.blockClassesForContentCategory))?_c('li',{staticClass:\"nav-item dropdown nav\"},[_c('a',{staticClass:\"nav-link dropdown-toggle\",attrs:{\"data-toggle\":\"dropdown\",\"href\":\"#\",\"role\":\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},on:{\"mouseover\":function($event){return _vm.openDropdownMenu($event.target)}}},[_c('span',{staticClass:\"nav-link-text\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.content')))])]),_c('div',{staticClass:\"dropdown-menu mt-0\"},[_vm._l((_vm.blockClassesForContentCategory),function(classDetails,className){return [(_vm.shouldDisplayDividerBefore(_vm.blockClassesForContentCategory, className))?_c('div',{key:`${className}divider`,staticClass:\"dropdown-divider\"}):_vm._e(),(_vm.isBlockAvailableByBlockClass[className])?_c('a',{key:className + 'item',staticClass:\"dropdown-item\",attrs:{\"href\":\"#\",\"data-block-type\":className,\"data-default-num-connections\":classDetails['defaultConnections']},on:{\"click\":function($event){$event.preventDefault();return _vm.handleAddBlockByTypeSelected(classDetails)}}},[_vm._v(\" \"+_vm._s(_vm.translateTreeClassName(className))+\" \")]):_vm._e()]}),_vm._t(\"extra-dropdown-items-for-category1\")],2)]):_vm._e(),(!_vm.isEmpty(_vm.blockClassesForContactCategory))?_c('li',{staticClass:\"nav-item dropdown\"},[_c('a',{staticClass:\"nav-link dropdown-toggle\",attrs:{\"data-toggle\":\"dropdown\",\"href\":\"#\",\"role\":\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},on:{\"mouseover\":function($event){return _vm.openDropdownMenu($event.target)}}},[_c('span',{staticClass:\"nav-link-text\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.contact')))])]),_c('div',{staticClass:\"dropdown-menu mt-0\"},[_vm._l((_vm.blockClassesForContactCategory),function(classDetails,className){return [(_vm.shouldDisplayDividerBefore(_vm.blockClassesForContactCategory, className))?_c('div',{key:`${className}divider`,staticClass:\"dropdown-divider\"}):_vm._e(),(_vm.isBlockAvailableByBlockClass[className])?_c('a',{key:className + 'item',staticClass:\"dropdown-item\",attrs:{\"href\":\"#\",\"data-block-type\":className,\"data-default-num-connections\":classDetails['defaultConnections']},on:{\"click\":function($event){$event.preventDefault();return _vm.handleAddBlockByTypeSelected(classDetails)}}},[_vm._v(\" \"+_vm._s(_vm.translateTreeClassName(className))+\" \")]):_vm._e()]}),_vm._t(\"extra-dropdown-items-for-category2\")],2)]):_vm._e(),(!_vm.isEmpty(_vm.blockClassesForBranchingCategory))?[(Object.keys(_vm.blockClassesForBranchingCategory).length === 1)?_c('li',{staticClass:\"nav-item\"},_vm._l((_vm.blockClassesForBranchingCategory),function(classDetails,className){return _c('a',{key:className + 'item',staticClass:\"nav-link single-menu\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleAddBlockByTypeSelected(classDetails)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.branching'))+\" \")])}),0):_c('li',{staticClass:\"nav-item dropdown\"},[_c('a',{staticClass:\"nav-link dropdown-toggle\",attrs:{\"data-toggle\":\"dropdown\",\"href\":\"#\",\"role\":\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},on:{\"mouseover\":function($event){return _vm.openDropdownMenu($event.target)}}},[_c('span',{staticClass:\"nav-link-text\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.branching')))])]),_c('div',{staticClass:\"dropdown-menu mt-0\"},[_vm._l((_vm.blockClassesForBranchingCategory),function(classDetails,className){return [(_vm.shouldDisplayDividerBefore(_vm.blockClassesForBranchingCategory, className))?_c('div',{key:`${className}divider`,staticClass:\"dropdown-divider\"}):_vm._e(),(_vm.isBlockAvailableByBlockClass[className])?_c('a',{key:className + 'item',staticClass:\"dropdown-item\",attrs:{\"href\":\"#\",\"data-block-type\":className,\"data-default-num-connections\":classDetails['defaultConnections']},on:{\"click\":function($event){$event.preventDefault();return _vm.handleAddBlockByTypeSelected(classDetails)}}},[_vm._v(\" \"+_vm._s(_vm.translateTreeClassName(className))+\" \")]):_vm._e()]}),_vm._t(\"extra-dropdown-items-for-category3\")],2)])]:_vm._e(),(!_vm.isEmpty(_vm.blockClassesForDeveloperCategory))?_c('li',{staticClass:\"nav-item dropdown\"},[_c('a',{staticClass:\"nav-link dropdown-toggle\",attrs:{\"data-toggle\":\"dropdown\",\"href\":\"#\",\"role\":\"button\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},on:{\"mouseover\":function($event){return _vm.openDropdownMenu($event.target)}}},[_c('span',{staticClass:\"nav-link-text\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.advanced')))])]),_c('div',{staticClass:\"dropdown-menu mt-0\"},[_vm._l((_vm.blockClassesForDeveloperCategory),function(classDetails,className){return [(_vm.shouldDisplayDividerBefore(_vm.blockClassesForDeveloperCategory, className))?_c('div',{key:`${className}divider`,staticClass:\"dropdown-divider\"}):_vm._e(),(_vm.isBlockAvailableByBlockClass[className])?_c('a',{key:className + 'item',staticClass:\"dropdown-item\",attrs:{\"href\":\"#\",\"data-block-type\":className,\"data-default-num-connections\":classDetails['defaultConnections']},on:{\"click\":function($event){$event.preventDefault();return _vm.handleAddBlockByTypeSelected(classDetails)}}},[_vm._v(\" \"+_vm._s(_vm.translateTreeClassName(className))+\" \")]):_vm._e()]}),_vm._t(\"extra-dropdown-items-for-category5\")],2)]):_vm._e()],2)])]):_vm._e()]),(_vm.isBuilderCanvasEnabled)?_c('div',{staticClass:\"tree-builder-toolbar-alerts w-100\"},[(_vm.isEditable)?_c('selection-banner',{on:{\"updated\":_vm.handleHeightChangeFromDOM,\"after-multiple-block-duplicate\":(...args) => _vm.$emit('after-multiple-block-duplicate', ...args)}}):_vm._e(),_c('error-notifications',{on:{\"updated\":_vm.handleHeightChangeFromDOM}}),(_vm.isBlockEditorOpen)?_c('block-editor'):_vm._e()],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport {every, find, isArray} from 'lodash'\nimport Component from 'vue-class-component'\nimport {State} from 'vuex-class'\n\nexport function can(userPermissions: { [key: string]: any }, permissionOrPermissions: string[] | string, requireAll = false) {\n  if (isArray(permissionOrPermissions)) {\n    if (requireAll) {\n      return every(permissionOrPermissions, (requestedPermission) => userPermissions[requestedPermission])\n    }\n    return find(permissionOrPermissions, (requestedPermission) => userPermissions[requestedPermission])\n  }\n  return userPermissions[permissionOrPermissions]\n}\n\n@Component\nexport default class Permissions extends Vue {\n  @State permissions!: { [key: string]: any }\n\n  /**\n   * @note This method can not be relied on for any real security measures, but solely provides the\n   * ability to hide and curb navigation to prohibited parts of the app. Authorization still needs to be handled\n   * on all endpoints and actions where necessitated. <3\n   *\n   * Implementation ported from:\n   *  https://github.com/Zizaco/entrust/blob/master/src/Entrust/Traits/EntrustUserTrait.php#L144\n   *\n   * @param permission\n   * @param requireAll\n   * @returns {boolean}  */\n  can(permission: string, requireAll = false) {\n    return can(this.permissions, permission, requireAll)\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable import/prefer-default-export */\n\nimport {Store, Plugin, MutationPayload} from 'vuex'\nimport {debounce} from 'lodash'\n\nexport const VuexUndoRedoPlugin: Plugin<unknown> = (store: Store<any>) => {\n  // Debouncing allows having cascade updates in a single undo/redo step\n  const handleStateChangeDebounced = debounce(() => {\n    store.dispatch('undoRedo/handleStateChange')\n  }, 100)\n\n  const storeChangeHandler = (mutation: MutationPayload): void => {\n    if (mutation.type !== 'flow/flow_resetFlowState' && mutation.type.startsWith('flow/')) {\n      handleStateChangeDebounced()\n    }\n  }\n\n  store.subscribe(storeChangeHandler)\n}\n","\nimport {BModal, BootstrapVue, BTooltip} from 'bootstrap-vue'\nimport Vue from 'vue'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport {identity, isEmpty, isNil, pickBy as _pickBy, reduce, omit} from 'lodash'\nimport flow from 'lodash/fp/flow'\nimport pickBy from 'lodash/fp/pickBy'\nimport {computeBlockCanvasCoordinates} from '@/store/builder'\nimport Component, {mixins} from 'vue-class-component'\nimport {Action, Getter, Mutation, namespace, State} from 'vuex-class'\nimport {IBlock, IContext, IFlow, IResource} from '@floip/flow-runner'\nimport {RawLocation} from 'vue-router'\nimport {Dictionary} from 'vue-router/types/router'\nimport {Watch} from 'vue-property-decorator'\nimport {VuexUndoRedoPlugin} from '@/lib/plugins/vuex-undo-redo-plugin'\nimport undoRedoModule from '@/store/undoRedo'\n\nVue.use(BootstrapVue)\nVue.component('BTooltip', BTooltip)\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\nconst clipboardVuexNamespace = namespace('clipboard')\nconst validationVuexNamespace = namespace('validation')\nconst undoRedoVuexNamespace = namespace('undoRedo')\n\n@Component({\n  components: {\n    BModal,\n  },\n})\nexport class TreeBuilderToolbar extends mixins(Routes, Permissions, Lang) {\n  isExportVisible = false\n  height = 102\n\n  created(): void {\n    const $store = this.$store\n    const moduleName = 'undoRedo'\n\n    if (!$store.hasModule(moduleName)) {\n      $store.registerModule(moduleName, undoRedoModule)\n    }\n\n    VuexUndoRedoPlugin(this.$store)\n  }\n\n  async mounted(): Promise<void> {\n    const routeMeta = this.$route.meta ? this.$route.meta : {}\n    this.onMetaChanged(routeMeta)\n\n    const editFlowModal = this.$refs['edit-flow-modal'] as BModal | undefined\n    if (editFlowModal) {\n      editFlowModal.$on('shown', () => {\n        const routeMeta = this.$route.meta\n        if (!routeMeta || routeMeta.isFlowEditorShown !== true) {\n          this.$router.replace({\n            name: 'flow-details',\n          })\n        }\n      })\n      editFlowModal.$on('hidden', () => {\n        const routeMeta = this.$route.meta\n        if (routeMeta && routeMeta.isFlowEditorShown === true) {\n          this.$router.replace({\n            name: 'flow-canvas',\n          })\n        }\n      })\n    } else {\n      console.debug('Builder Toolbar', 'Unable to find the edit flow modal on mount - deep linking may not work')\n    }\n  }\n\n  @Watch('$route.meta', {immediate: true, deep: true})\n  onMetaChanged(meta: {[key: string]: string}): void {\n    const editFlowModal = this.$refs['edit-flow-modal'] as BModal | undefined\n    if (editFlowModal) {\n      if (meta.isFlowEditorShown) {\n        editFlowModal.show()\n      } else {\n        editFlowModal.hide()\n      }\n    }\n  }\n\n  // Computed ####################\n\n  isEmpty(value?: unknown): boolean {\n    return isEmpty(value)\n  }\n\n  get flow(): string {\n    return JSON.stringify(\n      omit(this.activeFlowContainer, 'isCreated'),\n      null,\n      2,\n    )\n  }\n\n  get resourceUrl(): string {\n    return this.editTreeRoute({\n      component: 'resource-viewer',\n      mode: this.isEditable ? 'edit' : 'view',\n    })\n  }\n\n  get downloadAudioUrl(): string {\n    return this.editTreeRoute({\n      component: 'downloadaudio',\n    })\n  }\n\n  get treeUrl(): string {\n    return this.editTreeRoute({\n      component: 'builder',\n      mode: this.isEditable ? 'edit' : 'view',\n    })\n  }\n\n  @builderVuexNamespace.State activeMainComponent?: string\n\n  get editModeUrl(): string {\n    return this.editTreeRoute({\n      component: this.activeMainComponent,\n      mode: 'edit',\n    })\n  }\n\n  get saveButtonText(): string {\n    if (this.isTreeSaving) {\n      return this.trans('flow-builder.saving')\n    } else if (this.hasFlowChanges) {\n      return this.trans('flow-builder.save')\n    } else {\n      return this.trans('flow-builder.saved')\n    }\n  }\n\n  get isSavingDisabled(): boolean {\n    return this.isTreeSaving === true || !this.hasFlowChanges\n  }\n\n  get blockClassesForContentCategory(): any {\n    return flow(\n      pickBy((classDetails: { [key: string]: any }) => !this.hasClassDetail(classDetails, 'hidden_in_menu')),\n      pickBy((classDetails: { [key: string]: any }) => this.hasMenuCategory(classDetails, 1)),\n    )(this.ui.blockClasses)\n  }\n\n  get blockClassesForContactCategory(): any {\n    return flow(\n      pickBy((classDetails: { [key: string]: any }) => !this.hasClassDetail(classDetails, 'hidden_in_menu')),\n      pickBy((classDetails: { [key: string]: any }) => this.hasMenuCategory(classDetails, 2)),\n    )(this.ui.blockClasses)\n  }\n\n  get blockClassesForBranchingCategory(): any {\n    return flow(\n      pickBy((classDetails: { [key: string]: any }) => !this.hasClassDetail(classDetails, 'hidden_in_menu')),\n      pickBy((classDetails: { [key: string]: any }) => this.hasMenuCategory(classDetails, 3) || this.hasClassDetail(classDetails, 'branchingMenu')),\n    )(this.ui.blockClasses)\n  }\n\n  get blockClassesForDeveloperCategory(): any {\n    return flow(\n      pickBy((classDetails: { [key: string]: any }) => !this.hasClassDetail(classDetails, 'hidden_in_menu')),\n      pickBy((classDetails: { [key: string]: any }) => this.hasMenuCategory(classDetails, 5)),\n    )(this.ui.blockClasses)\n  }\n\n  get canViewResultsTotals(): boolean {\n    return (this.can('view-result-totals') && this.isFeatureViewResultsEnabled)\n  }\n\n  get hasSimulator(): boolean {\n    return this.hasOfflineMode === true && this.isFeatureSimulatorEnabled === true\n  }\n\n  // Methods #####################\n\n  async handleAddBlockByTypeSelected({type}: { type: IBlock['type'] }): Promise<void> {\n    const {uuid: blockId} = await this.flow_addBlankBlockByType({\n      type,\n      ui_metadata: {\n        canvas_coordinates: computeBlockCanvasCoordinates(this.activeBlock),\n      },\n    })\n    this.activateBlock({blockId})\n    await this.$router.push({\n      name: 'block-selected-details',\n      params: {blockId},\n    })\n  }\n\n  async handlePersistFlow(route: RawLocation): Promise<void> {\n    //TODO - hook into validation system when we have it - block the logic here if invalid.\n\n    // Handle redundant navigation\n    if (this.$route.path === route) {\n      return\n    }\n\n    //If we aren't in edit mode there should be nothing to persist\n    if (this.isEditable) {\n      const flowContainer = await this.persistFlowAndHandleUiState()\n      if (!flowContainer) {\n        //TODO - hook into showing validation errors design when we have it\n        //This won't show normal validation errors as the frontend should have caught them. We'll use this to show server errors.\n      }\n    }\n    if (route) {\n      await this.$router.push(route)\n    }\n  }\n  showOrHideEditFlowModal(): void {\n    const editFlowModal: any = this.$refs['edit-flow-modal']\n    if (editFlowModal) {\n      editFlowModal.toggle()\n    }\n  }\n  openDropdownMenu(targetElement: HTMLElement): void {\n    if (!targetElement.hasAttribute('aria-expanded')) {\n      return\n    }\n\n    if (targetElement.getAttribute('aria-expanded') === 'true') {\n      return\n    }\n\n    targetElement.click()\n  }\n\n  toggleExportVisibility(): void {\n    this.isExportVisible = !this.isExportVisible\n  }\n\n  editTreeRoute({component = null, mode = null}: { component?: any, mode?: string | null } = {}): string {\n    const context = this.removeNilValues({\n      flowId: this.activeFlow?.uuid,\n      component,\n      mode,\n    })\n    return this.route('flows.editFlow', context)\n  }\n\n  hasClassDetail(classDetails: { [key: string]: any }, attribute: string): boolean {\n    return !isNil(classDetails[attribute]) && classDetails[attribute]\n  }\n\n  hasMenuCategory(classDetails: { [key: string]: any }, category: number): boolean {\n    return this.hasClassDetail(classDetails, 'menu_category') && classDetails.menu_category === category\n  }\n\n  translateTreeClassName(className: string): string {\n    return this.trans(`flow-builder.${className}`)\n  }\n\n  shouldDisplayDividerBefore(blockClasses: { [key: string]: any }, className: string): string {\n    const shouldShowDividerBeforeBlock = _pickBy(\n      blockClasses,\n      (classDetails) => this.hasClassDetail(classDetails, 'divider_before'),\n    )[className]\n    return shouldShowDividerBeforeBlock && this.isBlockAvailableByBlockClass[className]\n  }\n\n  // handleResourceViewerSelected(): void {\n  //   this.$el.scrollIntoView(true)\n  // }\n\n  // This could be extracted to a helper mixin of some sort so it can be used in other places\n  removeNilValues(obj: any): Dictionary<unknown> {\n    return _pickBy(obj, identity)\n  }\n\n  /**\n   * We have to make sure this is called using $nextTick() because we play with DOM\n   */\n  handleHeightChangeFromDOM(): void {\n    const elementRef = this.$refs['builder-toolbar'] as Element\n    if (!elementRef) {\n      console.debug('Interaction Designer', 'Unable to find DOM element corresponding to builder-toolbar')\n    }\n\n    const height = reduce(\n      elementRef.childNodes,\n      (sum, child) => sum + (child as HTMLElement).offsetHeight,\n      0,\n)\n\n    if (height > 0) {\n      this.height = height\n      this.$emit('height-updated', this.height)\n    }\n  }\n\n  handleFlowViewMenu(): void {\n    this.handlePersistFlow(this.treeUrl)\n  }\n\n  handleResourceViewMenu(): void {\n    this.handlePersistFlow(this.resourceUrl)\n    // scroll back to the top left in case the window has scroll bars from the builder-canvas\n    window.scrollTo(0, 0)\n  }\n\n  // ########### VUEX ###############\n  @State(({trees: {tree}}) => tree) tree!: any\n  @State(({trees: {ui}}) => ui) ui!: any\n  @Getter hasToolbarFlowTitle!: boolean\n  @Getter hasToolbarHomeButton!: boolean\n  @Getter hasToolbarNewFlowButton!: boolean\n  @Getter hasToolbarExportButton!: boolean\n  @Getter isTreeSaving!: boolean\n  @Getter isBlockAvailableByBlockClass?: any\n  @Getter hasChanges!: boolean\n  @Getter isTreeValid!: boolean\n  @Getter selectedBlock?: IBlock\n  @Getter isFeatureTreeSaveEnabled?: boolean\n  @Getter isFeatureTreeSendEnabled?: boolean\n  @Getter isFeatureTreeDuplicateEnabled?: boolean\n  @Getter isFeatureViewResultsEnabled?: boolean\n  @Getter isFeatureSimulatorEnabled?: boolean\n  @Getter isFeatureUpdateInteractionTotalsEnabled?: boolean\n  @Getter isResourceViewerEnabled?: boolean\n  @Mutation setTreeSaving!: (isSaving: boolean) => void\n  @Action attemptSaveTree!: void\n\n  // Flow\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Getter activeFlowContainer?: IContext\n  @flowVuexNamespace.Getter hasOfflineMode?: boolean\n  @flowVuexNamespace.Getter isActiveFlowValid?: boolean\n  @flowVuexNamespace.State flows?: IFlow[]\n  @flowVuexNamespace.State resources?: IResource[]\n  @flowVuexNamespace.Action flow_removeBlock!: ({flowId, blockId}: { flowId?: string, blockId?: IBlock['uuid'] }) => void\n  @flowVuexNamespace.Action flow_addBlankBlockByType!: ({type, ...props}: Partial<IBlock>) => Promise<IBlock>\n  @flowVuexNamespace.Action flow_duplicateBlock!: ({\n    flowId,\n    blockId,\n  }: { flowId?: string, blockId?: IBlock['uuid'] }) => Promise<IBlock>\n\n  // Builder\n  @builderVuexNamespace.Getter isEditable!: boolean\n  @builderVuexNamespace.Getter hasFlowChanges!: boolean\n  @builderVuexNamespace.State activeBlockId?: IBlock['uuid']\n  @builderVuexNamespace.State isBlockEditorOpen!: boolean\n\n  get viewModeUrl(): string {\n    return this.editTreeRoute({\n      component: this.activeMainComponent,\n      mode: 'view',\n    })\n  }\n  @builderVuexNamespace.Getter activeBlock?: IBlock\n  @builderVuexNamespace.Getter isBuilderCanvasEnabled!: boolean\n  @builderVuexNamespace.Getter isResourceViewerCanvasEnabled!: boolean\n  @builderVuexNamespace.Mutation activateBlock!: ({blockId}: { blockId: IBlock['uuid'] | null}) => void\n  @builderVuexNamespace.Action persistFlowAndHandleUiState!: () => Promise<IContext | undefined>\n\n  // Clipboard\n  @clipboardVuexNamespace.Action setSimulatorActive!: (value: boolean) => void\n\n  @validationVuexNamespace.Action remove_block_validation!: ({blockId}: { blockId?: IBlock['uuid']}) => void\n}\n\nexport default TreeBuilderToolbar\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeBuilderToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeBuilderToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TreeBuilderToolbar.vue?vue&type=template&id=079bde86&\"\nimport script from \"./TreeBuilderToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./TreeBuilderToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TreeBuilderToolbar.vue?vue&type=style&index=0&id=079bde86&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('fieldset',{staticClass:\"undo-redo-button-group btn-group\",attrs:{\"disabled\":_setup.isTreeSaving}},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_setup.undoTooltip),expression:\"undoTooltip\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"disabled\":!_setup.hasPreviousSnapshot},on:{\"click\":function($event){$event.stopPropagation();return _setup.handleUndo.apply(null, arguments)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'undo']}})],1),_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_setup.redoTooltip),expression:\"redoTooltip\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"disabled\":!_setup.hasFutureSnapshot},on:{\"click\":function($event){$event.stopPropagation();return _setup.handleRedo.apply(null, arguments)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'redo']}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {inject} from 'vue'\nimport {Store} from 'vuex'\nimport {IRootState} from '@/store/index'\n\n// todo CORE-155: remove this after migration to Vue3; use the built-in useStore() instead\n// eslint-disable-next-line import/prefer-default-export\nexport function useStore(): Store<IRootState> {\n  return inject('store')!\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport {computed} from 'vue'\nimport {useStore} from '@/store/useStore'\nimport {lang} from '@/lib/filters/lang'\nimport {BLOCK_RESET_CONNECTIONS} from '../block/Block.vue'\nimport {ISnapshot} from \"@/store/undoRedo\"\nimport {IFlow} from \"@floip/flow-runner\"\nimport {useRouter} from 'vue-router/composables'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UndoRedoButtonGroup',\n  setup(__props) {\n\nconst store = useStore()\nconst router = useRouter();\n\nconst hasPreviousSnapshot = computed<boolean>(() => store.getters['undoRedo/hasPreviousSnapshot'])\nconst hasFutureSnapshot = computed<boolean>(() => store.getters['undoRedo/hasFutureSnapshot'])\nconst currentSnapshot = computed<ISnapshot>(() => store.getters['undoRedo/currentSnapshot'])\nconst isTreeSaving = computed<boolean>(() => store.getters['isTreeSaving'])\nconst activeFlow = computed<IFlow>(() => store.getters['flow/activeFlow'])\n\n// we need this check because if hasPreviousSnapshot/hasFutureSnapshot becomes false, the button gets disabled and the tooltip doesn't go away\nconst undoTooltip = computed<string>(() => (\n  hasPreviousSnapshot.value ? lang.trans('flow-builder.undo') : ''\n))\nconst redoTooltip = computed<string>(() => (\n  hasFutureSnapshot.value ? lang.trans('flow-builder.redo') : ''\n))\n\nasync function handleUndo(): Promise<void> {\n  window.postMessage(BLOCK_RESET_CONNECTIONS, '*')\n  store.dispatch('undoRedo/undoAndUpdateState', null, {root: true})\n  await navigateToDeepLink()\n}\n\nasync function handleRedo(): Promise<void> {\n  window.postMessage(BLOCK_RESET_CONNECTIONS, '*')\n  store.dispatch('undoRedo/redoAndUpdateState', null, {root: true})\n  await navigateToDeepLink()\n}\n\nasync function navigateToDeepLink(): Promise<void> {\n  const {routeName, routeParams} = currentSnapshot.value as ISnapshot\n  console.debug('navigating to', routeName, routeParams)\n\n  if (routeName === null || routeName === undefined) {\n    return\n  }\n  try {\n    await router.push({\n      name: routeName,\n      params: {\n        id: activeFlow.value?.uuid || '',\n        mode: 'edit',\n        ...routeParams,\n      },\n    })\n  } catch (err) {\n    if (err.name !== 'NavigationDuplicated') {\n      console.error(err)\n    }\n  }\n}\n\nreturn { __sfc: true,store, router, hasPreviousSnapshot, hasFutureSnapshot, currentSnapshot, isTreeSaving, activeFlow, undoTooltip, redoTooltip, handleUndo, handleRedo, navigateToDeepLink }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedoButtonGroup.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedoButtonGroup.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./UndoRedoButtonGroup.vue?vue&type=template&id=290ca959&\"\nimport script from \"./UndoRedoButtonGroup.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./UndoRedoButtonGroup.vue?vue&type=script&setup=true&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",value:(_setup.tooltip),expression:\"tooltip\",modifiers:{\"hover\":true,\"bottom\":true}}],key:_setup.componentKey,staticClass:\"block-exit flex-grow-1\",on:{\"mousemove\":_setup.updateCursorPosition,\"click\":function($event){_vm.exit.destination_block && _setup.handleRemoveConnection()}}},[_c('div',{staticClass:\"block-exit-name badge badge-warning w-100\",class:_setup.exitNameClass,on:{\"mouseenter\":function($event){_setup.isHovered = true},\"mouseleave\":function($event){_setup.isHovered = false}}},[(!(_setup.isHovered || _setup.isExitActivatedForCreate))?_c('div',{staticClass:\"d-flex flex-row justify-content-between align-items-center w-100 px-1\"},[_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",value:(_vm.exit.test),expression:\"exit.test\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"block-exit-name-text\"},[_vm._v(\" \"+_vm._s(_vm.exit.name || '(untitled)')+\" \")]),_vm._t(\"middle\")],2):_vm._e(),_c('span',{staticClass:\"align-self-center d-flex\"},[(_vm.exit.destination_block == null)?[(_setup.isHovered || _setup.isExitActivatedForCreate)?_c('plain-draggable',{key:`exit/${_vm.exit.uuid}/pseudo-block-handle`,staticClass:\"btn btn-xs btn-flat p-0\",attrs:{\"id\":`exit/${_vm.exit.uuid}/pseudo-block-handle`,\"drag-handle-id\":`exit/${_vm.exit.uuid}`,\"is-editable\":_setup.isEditable},on:{\"initialized\":function($event){return _setup.handleDraggableInitializedFor($event)},\"dragStarted\":function($event){return _setup.onCreateExitDragStarted($event)},\"dragged\":function($event){return _setup.onCreateExitDragged($event)},\"dragEnded\":function($event){return _setup.onCreateExitDragEnded($event)},\"destroyed\":function($event){return _setup.handleDraggableDestroyedFor()}}},[_c('i',{staticClass:\"glyphicon glyphicon-move\"})]):_vm._e(),(_setup.isConnectionCreateActive && _setup.isExitActivatedForCreate && _setup.livePosition)?[_c('div',{staticClass:\"btn btn-xs p-0 text-white\",attrs:{\"id\":`exit/${_vm.exit.uuid}/handle`}},[_c('i',{staticClass:\"glyphicon glyphicon-move\"})]),_c('connection',{key:`exit/${_vm.exit.uuid}/line-for-draft`,attrs:{\"color\":_setup.connectionColorAtSourceDragged,\"repaint-cache-key-generator\":_setup.generateConnectionLayoutKeyFor,\"source\":_vm.block,\"target\":_setup.blocksById[_vm.exit.destination_block],\"exit\":_vm.exit,\"position\":_setup.livePosition}})]:_vm._e()]:_vm._e(),(_vm.exit.destination_block != null)?[_c('div',{key:`exit/${_vm.exit.uuid}/handle`,staticClass:\"btn btn-xs btn-flat\",attrs:{\"id\":`exit/${_vm.exit.uuid}/handle`}},[(_setup.isHovered)?_c('font-awesome-icon',{staticClass:\"text-danger\",attrs:{\"title\":\"Click to remove this connection\",\"icon\":['far', 'times-circle']}}):_vm._e()],1),_c('connection',{key:`exit/${_vm.exit.uuid}/line`,attrs:{\"color\":_setup.connectionColorForKnowDestination,\"repaint-cache-key-generator\":_setup.generateConnectionLayoutKeyFor,\"source\":_setup.livePosition ? null : _vm.block,\"target\":_setup.blocksById[_vm.exit.destination_block],\"exit\":_vm.exit,\"position\":_setup.livePosition},on:{\"lineMouseIn\":function($event){return _setup.setIsLineHovered(true)},\"lineMouseClickedIn\":function($event){return _setup.setIsLineClicked(true)},\"lineMouseClickedOut\":function($event){return _setup.setIsLineClicked(false)},\"lineMouseOut\":function($event){return _setup.setIsLineHovered(false)}}})]:_vm._e(),_vm._t(\"right\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport {computed, nextTick, ref} from 'vue'\nimport {IBlock, IBlockExit} from '@floip/flow-runner'\nimport {\n  generateConnectionLayoutKeyFor,\n  OperationKind,\n  SupportedOperation,\n} from '@/store/builder'\nimport {BLOCK_RESET_CONNECTIONS} from '@/components/interaction-designer/block/Block.vue'\nimport {colorStates} from '@/components/interaction-designer/Connection.vue'\nimport {useStore} from '@/store/useStore'\nimport {lang} from '@/lib/filters/lang'\n\ntype Draggable = any\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BlockExit',\n  props: {\n    block: null,\n    exit: null\n  },\n  emits: [\"connection-create-start\", \"connection-create-end\"],\n  setup(__props: any, { emit }: { emit: ({\n  (e: 'connection-create-start'): void,\n  (e: 'connection-create-end'): void,\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n  block: IBlock,\n  exit: IBlockExit,\n}\n\nconst store = useStore()\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst connectionColorAtSourceDragged = colorStates.CONNECTING\nconst connectionColorForKnowDestination = colorStates.DEFAULT\nconst ICON_SIZE = 10\n\n\n\n// eslint-disable-next-line no-spaced-func,func-call-spacing\n\n\nconst isDragged = ref(false)\nconst isHovered = ref(false)\nconst isLineHovered = ref(false)\nconst isLinePermanentlyActive = ref(false)\nconst livePosition = ref<{x: number, y: number} | null>(null)\nconst cursorPosition = ref<{x: number, y: number} | null>(null)\nconst componentKey = ref(0)\n\nconst isEditable = computed<boolean>(() => store.getters['builder/isEditable'])\n\nconst operations = computed<Record<OperationKind, SupportedOperation>>(() =>\n  store.state.builder.operations)\n\nconst isConnectionCreateActive = computed(() =>\n  operations.value[OperationKind.CONNECTION_CREATE].data !== null)\n\nconst isExitActivatedForCreate = computed(() => {\n  const {data} = operations.value[OperationKind.CONNECTION_CREATE]\n  return data?.source?.exitId === props.exit.uuid\n})\n\nconst tooltip = computed<string>(() => {\n  if (!isEditable.value) {\n    return ''\n  } else if (props.exit.destination_block !== undefined) {\n    return lang.trans('flow-builder.tooltip-remove-connection')\n  } else {\n    return lang.trans('flow-builder.tooltip-new-connection')\n  }\n})\n\nconst exitNameClass = computed(() => ({\n  'is-initiating': props.exit.destination_block == null && isDragged.value,\n  'is-connected': props.exit.destination_block != null,\n  'is-disconnected': props.exit.destination_block == null && !isDragged.value,\n  'is-highlighted-from-connection': props.exit.destination_block != null\n    && (isLineHovered.value || isLinePermanentlyActive.value),\n  'is-connected-and-on-hover': props.exit.destination_block != null && isHovered.value,\n}))\n\nconst blocksById = computed<Record<IBlock['uuid'], IBlock>>(() =>\n  store.getters['builder/blocksById'])\n\nconst draggableForExitsByUuid = computed<Record<string, Draggable>>(() =>\n  store.state.builder.draggableForExitsByUuid)\n\nfunction forceRender(): void {\n  componentKey.value += 1\n}\n\nfunction updateCursorPosition(e: MouseEvent): void {\n  cursorPosition.value = {\n    x: e.clientX + window.scrollX,\n    y: e.clientY + window.scrollY,\n  }\n}\n\nfunction handleRemoveConnection(): void {\n  setIsLineClicked(false)\n  store.commit('builder/deactivateConnectionFromExitUuid', {exitUuid: props.exit.uuid}, {root: true})\n  store.dispatch('builder/removeConnectionFrom', {block: props.block, exit: props.exit}, {root: true})\n  // force render, useful if the exit label is very short\n  this.forceRender()\n}\n\nfunction handleDraggableInitializedFor({draggable}: {draggable: Draggable}): void {\n  const exitId = props.exit.uuid\n  draggableForExitsByUuid.value[exitId] = draggable\n\n  const {left, top} = draggable\n\n  console.debug('Block', 'handleDraggableInitializedFor', {blockId: props.block.uuid, exitId, coords: {left, top}})\n}\n\nfunction handleDraggableDestroyedFor(): void {\n  const exitId = props.exit.uuid\n  delete draggableForExitsByUuid.value[exitId]\n}\n\nfunction adjustDraggablePosition(draggable: Draggable): void {\n  const dx = cursorPosition.value.x - draggable.left - ICON_SIZE\n  const dy = cursorPosition.value.y - draggable.top - ICON_SIZE\n\n  draggable.left += dx\n  draggable.top += dy\n}\n\nfunction onCreateExitDragStarted({draggable}: {draggable: Draggable}): void {\n  store.commit('builder/setIsConnectionCreationInProgress', {value: true}, {root: true})\n\n  window.postMessage(BLOCK_RESET_CONNECTIONS, '*')\n\n  isDragged.value = true\n\n  emit('connection-create-start')\n\n  const {left: x, top: y} = draggable\n\n  store.dispatch('builder/initializeConnectionCreateWith', {\n    block: props.block,\n    exit: props.exit,\n    position: {x, y},\n  }, {root: true})\n\n  adjustDraggablePosition(draggable)\n}\n\nfunction onCreateExitDragged({position: {left: x, top: y}}: {position: {left: number, top: number}}): void {\n  livePosition.value = {x, y}\n}\n\nfunction onCreateExitDragEnded({draggable}: {draggable: Draggable}): void {\n  store.commit('builder/setIsConnectionCreationInProgress', {value: false}, {root: true})\n\n  isDragged.value = false\n\n  emit('connection-create-end')\n\n  const {x: left, y: top} = operations.value[OperationKind.CONNECTION_CREATE]!.data!.position\n\n  console.debug('Block', 'onCreateExitDragEnded', 'operation.data.position', {left, top})\n  console.debug('Block', 'onCreateExitDragEnded', 'reset', {left: draggable.left, top: draggable.top})\n\n  Object.assign(draggable, {left, top})\n\n  store.dispatch('builder/applyConnectionCreate', null, {root: true})\n\n  livePosition.value = null\n}\n\nfunction setIsLineHovered(value: boolean): void {\n  nextTick(() => {\n    isLineHovered.value = value\n  })\n}\n\nfunction setIsLineClicked(value: boolean): void {\n  nextTick(() => {\n    isLinePermanentlyActive.value = value\n  })\n}\n\nreturn { __sfc: true,store, connectionColorAtSourceDragged, connectionColorForKnowDestination, ICON_SIZE, props, emit, isDragged, isHovered, isLineHovered, isLinePermanentlyActive, livePosition, cursorPosition, componentKey, isEditable, operations, isConnectionCreateActive, isExitActivatedForCreate, tooltip, exitNameClass, blocksById, draggableForExitsByUuid, forceRender, updateCursorPosition, handleRemoveConnection, handleDraggableInitializedFor, handleDraggableDestroyedFor, adjustDraggablePosition, onCreateExitDragStarted, onCreateExitDragged, onCreateExitDragEnded, setIsLineHovered, setIsLineClicked, generateConnectionLayoutKeyFor }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockExit.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockExit.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./BlockExit.vue?vue&type=template&id=0e67b5e0&\"\nimport script from \"./BlockExit.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./BlockExit.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./BlockExit.vue?vue&type=style&index=0&id=0e67b5e0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-toolbar d-flex justify-content-between\"},[_c('div',{staticClass:\"header-actions-left\"},[(_vm.isEditable)?[(_vm.isBlockSelected)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.deselect-block')),expression:\"trans('flow-builder.deselect-block')\",modifiers:{\"hover\":true}}],staticClass:\"cursor-pointer text-info\",attrs:{\"icon\":['far', 'check-circle']},on:{\"click\":function($event){$event.stopPropagation();_vm.isEditable && _vm.block_deselect({ blockId: _vm.block.uuid })}}}):_vm._e(),(!_vm.isBlockSelected)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.select-block')),expression:\"trans('flow-builder.select-block')\",modifiers:{\"hover\":true}}],staticClass:\"cursor-pointer\",attrs:{\"icon\":['far', 'circle']},on:{\"click\":function($event){$event.stopPropagation();_vm.isEditable && _vm.block_select({ blockId: _vm.block.uuid })}}}):_vm._e()]:_vm._e()],2),_c('div',{staticClass:\"header-actions-right d-flex\"},[_vm._t(\"right\"),(_vm.isEditable)?_c('div',{staticClass:\"mr-1 ml-2\"},[(_vm.isDeleting)?_c('div',[_c('button',{staticClass:\"btn btn-light btn-xs\",on:{\"click\":function($event){$event.stopPropagation();_vm.isDeleting = false}}},[_c('small',[_vm._v(_vm._s(_vm.trans('flow-builder.cancel')))])]),_c('button',{staticClass:\"btn btn-xs ml-1\",class:{\n            'btn-danger': !_vm.isWaitingForConnection && !_vm.isActivatedByConnection,\n            'btn-secondary': _vm.isWaitingForConnection || _vm.isActivatedByConnection,\n          },on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDeleteBlock.apply(null, arguments)}}},[_c('small',[_vm._v(_vm._s(_vm.trans('flow-builder.delete-block')))])])]):_vm._e(),(!_vm.isDeleting)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.tooltip-delete-block')),expression:\"trans('flow-builder.tooltip-delete-block')\",modifiers:{\"hover\":true}}],staticClass:\"cursor-pointer\",class:{\n          'text-danger': !_vm.isWaitingForConnection && !_vm.isActivatedByConnection,\n        },attrs:{\"icon\":['far', 'trash-alt']},on:{\"click\":function($event){$event.stopPropagation();_vm.isDeleting = true}}}):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"mr-1 ml-2\"},[(_vm.isEditable)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",value:(_vm.trans('flow-builder.tooltip-duplicate-block')),expression:\"trans('flow-builder.tooltip-duplicate-block')\",modifiers:{\"hover\":true}}],staticClass:\"cursor-pointer\",attrs:{\"icon\":['fac', 'copy']},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDuplicateBlock.apply(null, arguments)}}}):_vm._e()],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {Prop} from 'vue-property-decorator'\nimport {IBlock} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n\nconst builderVuexNamespace = namespace('builder')\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\nconst undoRedoVuexNamespace = namespace('undoRedo')\n\n@Component({})\nexport class BlockToolbar extends mixins(Lang) {\n  @Prop() readonly block!: IBlock\n  @Prop() readonly isBlockSelected!: boolean\n  @Prop() readonly isEditorVisible!: boolean\n  @Prop() readonly isWaitingForConnection!: boolean\n  @Prop() readonly isActivatedByConnection!: boolean\n\n  isDeleting = false\n\n  async handleDeleteBlock(): Promise<void> {\n    await this.block_deselect({blockId: this.block.uuid})\n    await this.flow_removeBlock({blockId: this.block.uuid})\n    this.isDeleting = false\n    this.$emit('after-delete')\n  }\n\n  async handleDuplicateBlock(): Promise<void> {\n    try {\n      const duplicatedBlock = await this.flow_duplicateBlock({blockId: this.block.uuid})\n      await this.$router.replace({\n        name: 'block-selected-details',\n        params: {blockId: duplicatedBlock.uuid},\n      })\n      this.$emit('after-block-duplicate', {duplicateBlockUuid: duplicatedBlock.uuid})\n    } catch (e) {\n      console.error('Failed to duplicate a block:', e)\n    }\n  }\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n\n  @flowVuexNamespace.Action block_select!: ({blockId}: {blockId: IBlock['uuid']}) => Promise<void>\n  @flowVuexNamespace.Action block_deselect!: ({blockId}: {blockId: IBlock['uuid']}) => Promise<void>\n  @flowVuexNamespace.Action flow_removeBlock!: ({blockId}: {blockId: IBlock['uuid']}) => Promise<void>\n  @flowVuexNamespace.Action flow_duplicateBlock!: ({blockId}: {blockId: IBlock['uuid']}) => Promise<IBlock>\n\n}\nexport default BlockToolbar\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockToolbar.vue?vue&type=template&id=0946295c&\"\nimport script from \"./BlockToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockToolbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"block-title d-flex justify-content-between\"},[_c('p',{staticClass:\"block-type\"},[_vm._v(\" \"+_vm._s(_setup.lang.trans(`flow-builder.${_vm.block.type}`))+\" \")]),_c('div',{staticClass:\"d-flex\"},[_vm._t(\"right\"),(_setup.activeFlow.first_block_id === _vm.block.uuid)?_c('i',{staticClass:\"glyphicon glyphicon-arrow-down\"}):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport {computed} from 'vue'\nimport {IBlock, IFlow} from '@floip/flow-runner'\nimport {useStore} from '@/store/useStore'\nimport {lang} from '@/lib/filters/lang'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BlockTitle',\n  props: {\n    block: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  block: IBlock,\n}\n\nconst store = useStore()\n\n\nconst activeFlow = computed<IFlow>(() => store.getters['flow/activeFlow'])\n\nreturn { __sfc: true,store, props, activeFlow, lang }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockTitle.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockTitle.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./BlockTitle.vue?vue&type=template&id=86760f40&\"\nimport script from \"./BlockTitle.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./BlockTitle.vue?vue&type=script&setup=true&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"resource-editor-cell d-flex flex-column\"},[(_vm.contentType === _vm.SupportedContentType.TEXT)?_c('resource-variant-text-editor',{attrs:{\"index\":_vm.index,\"mode\":_vm.mode,\"resource-id\":_vm.resource.uuid,\"resource-variant\":_vm.resourceVariant},on:{\"afterResourceVariantChanged\":function($event){return _vm.$emit('change')}}}):_vm._e(),(_vm.contentType === _vm.SupportedContentType.AUDIO)?_c('div',[_c('validation-message',{attrs:{\"message-key\":`resource/${_vm.resource.uuid}/values/${_vm.index}/value`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('audio-library-selector',{attrs:{\"audio-files\":_vm.availableAudioFiles,\"lang-id\":_vm.languageId,\"resource-id\":_vm.resource.uuid,\"selected-audio-uri\":_vm.resourceVariant.value},on:{\"change\":function($event){return _vm.$emit('change')}}})]}}],null,false,4105706637)}),(_vm.can(['edit-content', 'send-call-to-records'], true) && !_vm.resourceVariant.value)?_c('phone-recorder',{attrs:{\"recording-key\":`${_vm.block.uuid}:${_vm.languageId}`},on:{\"finish\":function($event){return _vm.$emit('change')}}}):_vm._e(),(!_vm.resourceVariant.value)?[_c('upload-monitor',{attrs:{\"upload-key\":`${_vm.block.uuid}:${_vm.languageId}`}}),_c('div',{staticClass:\"d-flex mt-2 mb-3\"},[(_vm.isEditable && _vm.isFeatureAudioUploadEnabled)?_c('button',{directives:[{name:\"flow-uploader\",rawName:\"v-flow-uploader\",value:({\n            target: _vm.route('trees.resumeableAudioUpload'),\n            token: `${_vm.block.uuid}:${_vm.languageId}`,\n            accept: 'audio/*'}),expression:\"{\\n            target: route('trees.resumeableAudioUpload'),\\n            token: `${block.uuid}:${languageId}`,\\n            accept: 'audio/*'}\"}],staticClass:\"btn btn-primary ivr-buttons\",on:{\"fileError\":function($event){return _vm.handleFileErrorFor($event)},\"fileSuccess\":function($event){return _vm.handleFileSuccessFor(`${_vm.block.uuid}:${_vm.languageId}`, _vm.languageId, $event)},\"filesSubmitted\":function($event){return _vm.handleFilesSubmittedFor(`${_vm.block.uuid}:${_vm.languageId}`, $event)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'upload']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.upload-audio'))+\" \")],1):_vm._e(),(_vm.can(['edit-content', 'send-call-to-records'], true) && _vm.isFeatureAudioUploadEnabled)?_c('button',{staticClass:\"btn btn-primary ivr-buttons ml-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.triggerRecordViaPhoneFor(_vm.languageId)}}},[_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'record-audio']}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.record-audio'))+\" \")],1):_vm._e()])]:_vm._e()],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport {chain, extend} from 'lodash'\nimport Component from 'vue-class-component'\n\n// For now, we're using flowjs 2.0.0 to match with existing backend server of Viamo\n// see readme to see an example of resumeableAudioUpload() controller implementation to handle GET & POST requests from flowjs\nimport Flow from '@flowjs/flow.js'\n\nconst dispatch = (el: HTMLElement, name: string, data: {}): void => {\n  el.dispatchEvent(extend(new Event(name, {\n    bubbles: true,\n    cancelable: true,\n  }), {data}))\n}\n\n@Component({\n  directives: {\n    'flow-uploader': {\n      /**\n       * This binding provides a bridge between Flow and vuejs such that we can continue using our resumable backend\n       */\n      bind(el, binding) {\n        const {\n          accept,\n          target,\n          token: upload_token,\n        } = binding.value\n        const uploader = new Flow({\n          target,\n          singleFile: true,\n          // kbytes, chunked?  \\_()_/\n          chunkSize: 1024 * 512,\n          query: {upload_token},\n        })\n\n        if (!uploader.support) {\n          // Your browser doesn't support HTML5 uploads; please try Firefox or Chrome.\n          return\n        }\n\n        extend(el.style, {overflow: 'hidden'})\n        uploader.assignBrowse([el])\n\n        // eslint-disable-next-line lodash/chaining\n        chain(el.children)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          .find({\n            tagName: 'INPUT',\n            type: 'file',\n          } as any)\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore: Property 'accept' does not exist on type\n          .assign({accept})\n          .value()\n\n        // todo: migrate to proxied catch-all handler (voto5 legacy todo)\n        // uploader.on('catchAll', (name, file/*or files*/, e) => console.debug(name))\n\n        // todo: when do we call upload on a multiselect-upload and file-added triggered multiple times? (voto5 legacy todo)\n        // uploader.upload()\n        // uploader.on('fileAdded', (file, e) => dispatch(el, 'filesSubmitted', {file, uploader}))\n        uploader.on('filesSubmitted', (files: any, _even: any) => dispatch(el, 'filesSubmitted', {\n          files,\n          uploader,\n          // uploader.upload()\n        }))\n        uploader.on('fileProgress', (file: any, _event: any) => dispatch(el, 'fileProgress', {\n          file,\n          uploader,\n        }))\n        uploader.on('fileSuccess', (file: any, json: any) => dispatch(el, 'fileSuccess', {\n          file,\n          uploader,\n          json,\n          // uploader.cancel()\n        }))\n        uploader.on('error', (message: any, file: any) => dispatch(el, 'fileError', {\n          file,\n          uploader,\n          message,\n          // uploader.cancel()\n        }))\n      },\n\n      // unbind(el, binding) {\n      // },\n    },\n  },\n})\nexport default class FlowUploader extends Vue {}\n","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {Getter, Mutation, namespace} from 'vuex-class'\nimport {\n  IBlock,\n  IFlow,\n  ILanguage,\n  IResource,\n  IResourceValue,\n  SupportedContentType,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport {findIndexForResourceVariant, findOrGenerateStubbedVariantOn} from '@/store/flow/utils/resourceHelpers'\nimport {\n  IAudioFile,\n  IResourceDefinitionVariantOverModesWithOptionalValue,\n} from '@/components/interaction-designer/resource-editors/ResourceEditor.model'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class ResourceEditorCell extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n  @Prop({required: true}) contentType!: string\n  @Prop({required: true}) languageId!: string\n  @Prop({required: true}) mode!: SupportedMode\n\n  SupportedContentType = SupportedContentType\n\n  @Getter availableAudioFiles!: IAudioFile[]\n  @Getter isFeatureAudioUploadEnabled!: boolean\n  @Mutation pushAudioIntoLibrary!: (audio: IAudioFile) => void\n  @flowVuexNamespace.Getter resourcesByUuidOnActiveFlow!: { [key: string]: IResource }\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Action resource_setOrCreateValueModeSpecific!: ({\n    resourceId,\n    filter,\n    value,\n  }: { resourceId: IResource['uuid'], filter: IResourceDefinitionVariantOverModesWithOptionalValue, value: string }) => void\n  @builderVuexNamespace.Getter isEditable !: boolean\n\n  get resource(): IResource {\n    return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]\n  }\n\n  triggerRecordViaPhoneFor(langId: ILanguage['id']): void {\n    this.$store.commit('setAudioRecordingConfigVisibilityForSelectedBlock', {langId, isVisible: true})\n  }\n\n  handleFilesSubmittedFor(key: string, {data}: { data: any }): void {\n    console.debug('call handleFilesSubmittedFor')\n    this.$store.dispatch('multimediaUpload/uploadFiles', {...data, key})\n    this.$emit('change')\n  }\n\n  /**\n   * handleFileSuccessFor\n   * @param key\n   * @param langId\n   * @param event, schema: {data: {file, uploader, json}}\n   */\n  handleFileSuccessFor(key: string, langId: ILanguage['id'], event: any): void {\n    const {data: {json}} = event\n    const {\n      audio_file_id: id,\n      audio_uuid,\n      created_at: {date: created_at},\n      description,\n      duration_seconds,\n      uri,\n    } = JSON.parse(json)\n    const extension = description.split('.')[description.split('.').length - 1]\n    const uploadedAudio: IAudioFile = {\n      id,\n      audio_uuid,\n      description,\n      language_id: langId,\n      duration_seconds,\n      original_extension: extension,\n      created_at,\n      uri,\n    }\n\n    this.resource_setOrCreateValueModeSpecific({\n      resourceId: this.resource.uuid,\n      filter: {language_id: langId, content_type: SupportedContentType.AUDIO, modes: [SupportedMode.IVR]},\n      value: uri,\n    })\n    // remove the focus from the `upload` Tab\n    event.target.blur()\n    this.pushAudioIntoLibrary(uploadedAudio)\n    this.$emit('change')\n  }\n\n  /**\n   * handleFileErrorFor\n   * @param event, schema: {data: {file, message, uploader}}\n   */\n  handleFileErrorFor(event: any): void {\n    const {data: {message}} = event\n    console.debug('handleFileErrorFor', message)\n    this.$emit('change')\n  }\n\n  get resourceVariant(): IResourceValue {\n    return findOrGenerateStubbedVariantOn(\n      this.resource,\n      {language_id: this.languageId, content_type: this.contentType, modes: [this.mode]},\n    )\n  }\n\n  get index(): number {\n    return findIndexForResourceVariant(\n      this.resource,\n      {language_id: this.languageId, content_type: this.contentType, modes: [this.mode]},\n    )\n  }\n}\nexport default ResourceEditorCell\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditorCell.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceEditorCell.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceEditorCell.vue?vue&type=template&id=74b1a524&scoped=true&\"\nimport script from \"./ResourceEditorCell.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceEditorCell.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResourceEditorCell.vue?vue&type=style&index=0&id=74b1a524&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74b1a524\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.resource)?_c('div',{staticClass:\"per-language-resource-editor-row d-flex flex-column\"},_vm._l((_vm.modes),function(mode){return _c('div',{key:mode,staticClass:\"mbx-4\"},[_c('header',{staticClass:\"d-flex mb-2\"},[(_vm.iconsMap.get(mode))?_c('font-awesome-icon',{class:{'custom-icons': _vm.iconsMap.get(mode)[0] === 'fac', 'library-icons': _vm.iconsMap.get(mode)[0] !== 'fac'},attrs:{\"icon\":_vm.iconsMap.get(mode)}}):_vm._e(),_c('h6',{staticClass:\"ml-3 mb-0 align-self-center\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")(`flow-builder.${mode.toLowerCase()}-content`))+\" \")])],1),_vm._l((_vm.discoverContentTypesFor(mode)),function(contentType){return _c('resource-editor-cell',{key:contentType,attrs:{\"block\":_vm.block,\"content-type\":contentType,\"language-id\":_vm.languageId,\"mode\":mode}})})],2)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow, IResource, SupportedMode} from '@floip/flow-runner'\nimport {discoverContentTypesFor} from '@/store/flow/utils/resourceHelpers'\nimport {orderModes} from '@/store/flow/flow'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class PerLanguageResourceEditorRow extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n  @Prop({required: true}) languageId!: string\n\n  iconsMap = new Map<string, object>([\n    [SupportedMode.SMS, ['fac', 'message']],\n    [SupportedMode.TEXT, ['fac', 'text']],\n    [SupportedMode.USSD, ['fac', 'ussd']],\n    [SupportedMode.IVR, ['fac', 'audio']],\n    [SupportedMode.RICH_MESSAGING, ['far', 'comment-dots']],\n    [SupportedMode.OFFLINE, ['fas', 'mobile-alt']],\n  ])\n\n  discoverContentTypesFor = discoverContentTypesFor\n  @flowVuexNamespace.Getter resourcesByUuidOnActiveFlow!: { [key: string]: IResource }\n  @flowVuexNamespace.Getter activeFlow: IFlow\n\n  get resource(): IResource {\n    return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]\n  }\n\n  get modes(): SupportedMode[] {\n    return orderModes(this.activeFlow.supported_modes)\n  }\n}\nexport default PerLanguageResourceEditorRow\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditorRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditorRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PerLanguageResourceEditorRow.vue?vue&type=template&id=31b1520d&scoped=true&\"\nimport script from \"./PerLanguageResourceEditorRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./PerLanguageResourceEditorRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PerLanguageResourceEditorRow.vue?vue&type=style&index=0&id=31b1520d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31b1520d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.resource)?_c('div',{staticClass:\"per-mode-resource-editor-row d-flex flex-wrap\"},_vm._l((_vm.languages),function({id: languageId, label: language}){return _c('div',{key:languageId,staticClass:\"col-3\"},[_c('header',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"mr-auto\"},[_vm._v(\" \"+_vm._s(language || _vm.trans('flow-builder.unknown-language'))+\" \")])]),_vm._l((_vm.discoverContentTypesFor(_vm.mode)),function(contentType){return _c('resource-editor-cell',{key:contentType,attrs:{\"block\":_vm.block,\"content-type\":contentType,\"language-id\":languageId,\"mode\":_vm.mode},on:{\"change\":function($event){return _vm.$emit('change')}}})})],2)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow, ILanguage, IResource} from '@floip/flow-runner'\nimport {discoverContentTypesFor} from '@/store/flow/utils/resourceHelpers'\nimport {orderLanguages} from '@/store/flow/flow'\n\nconst flowVuexNamespace = namespace('flow')\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class PerModeResourceEditorRow extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n  @Prop({required: true}) mode!: string\n\n  discoverContentTypesFor = discoverContentTypesFor\n  @flowVuexNamespace.Getter resourcesByUuidOnActiveFlow!: { [key: string]: IResource }\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n\n  get resource(): IResource {\n    return this.resourcesByUuidOnActiveFlow[this.block.config.prompt]\n  }\n\n  get languages(): ILanguage[] {\n    return orderLanguages(this.activeFlow.languages ?? [])\n  }\n}\nexport default PerModeResourceEditorRow\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerModeResourceEditorRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerModeResourceEditorRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PerModeResourceEditorRow.vue?vue&type=template&id=6e5552d1&\"\nimport script from \"./PerModeResourceEditorRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./PerModeResourceEditorRow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.languages.length > 0)?_c('div',{staticClass:\"per-language-resource-editor\"},[_c('div',[_c('b-tabs',_vm._l((_vm.languages),function({id: languageId, label: language}){return _c('b-tab',{key:languageId,attrs:{\"title\":_vm._f(\"trans\")(language || 'flow-builder.unknown-language')}},[_c('per-language-resource-editor-row',{staticClass:\"tab-content-style\",attrs:{\"block\":_vm.block,\"language-id\":languageId}})],1)}),1)],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow, ILanguage} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport {TabsPlugin} from 'bootstrap-vue'\nimport {orderLanguages} from '@/store/flow/flow'\n\nVue.use(TabsPlugin)\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class PerLanguageResourceEditor extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n\n  get languages(): ILanguage[] {\n    return orderLanguages(this.activeFlow.languages ?? [])\n  }\n}\n\nexport default PerLanguageResourceEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PerLanguageResourceEditor.vue?vue&type=template&id=2c7ea92b&scoped=true&\"\nimport script from \"./PerLanguageResourceEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./PerLanguageResourceEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PerLanguageResourceEditor.vue?vue&type=style&index=0&id=2c7ea92b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c7ea92b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.modes.length > 0)?_c('div',{staticClass:\"per-mode-resource-editor\"},[_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((_vm.modes),function(mode,modeIndex){return _c('div',{key:mode,staticClass:\"resource-panel\",class:{\n        'radius-on-top': modeIndex === 0,\n        'radius-on-bottom': modeIndex === _vm.modes.length - 1\n      }},[_c('div',{staticClass:\"resource-panel-heading p-2 d-flex align-items-center\",class:{\n          'radius-on-top': modeIndex === 0,\n          'radius-on-bottom': modeIndex === _vm.modes.length - 1,\n        },on:{\"click\":function($event){return _vm.updateIsPanelExpanded(`${_vm.block.uuid}-${mode}`)}}},[_c('div',{staticClass:\"mr-auto\"},[_c('header',{staticClass:\"d-flex channel-name\"},[(_vm.iconsMap.get(mode))?_c('font-awesome-icon',{staticClass:\"ml-3\",class:{'custom-icons': _vm.iconsMap.get(mode)[0] === 'fac', 'library-icons': _vm.iconsMap.get(mode)[0] !== 'fac'},attrs:{\"icon\":_vm.iconsMap.get(mode),\"size\":\"lg\"}}):_vm._e(),_c('h6',{staticClass:\"ml-3 align-self-center mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")(`flow-builder.${mode.toLowerCase()}-content`))+\" \")])],1)]),_c('div',{staticClass:\"ml-auto\"},[_vm._t(\"right\",null,{\"mode\":mode}),_c('font-awesome-icon',{staticClass:\"cursor-pointer text-primary align-self-center\",attrs:{\"icon\":[\n              'fas',\n              _vm.isPanelExpanded[`${_vm.block.uuid}-${mode}`] === true ? 'angle-up' : 'angle-down'\n            ]}})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPanelExpanded[`${_vm.block.uuid}-${mode}`] === true),expression:\"isPanelExpanded[`${block.uuid}-${mode}`] === true\"}],staticClass:\"resource-panel-body p-2 collapse multi-collapse show\",attrs:{\"id\":`collapse-lang-panel-${_vm.block.uuid}-${mode}`}},[_c('per-mode-resource-editor-row',{attrs:{\"block\":_vm.block,\"mode\":mode},on:{\"change\":function($event){return _vm.$emit('change')}}})],1)])}),0)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {namespace} from 'vuex-class'\nimport {IBlock, IFlow, SupportedMode} from '@floip/flow-runner'\nimport Lang from '@/lib/filters/lang'\nimport Permissions from '@/lib/mixins/Permissions'\nimport Routes from '@/lib/mixins/Routes'\nimport FlowUploader from '@/lib/mixins/FlowUploader'\nimport {Component, Prop, Watch} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport {orderModes} from '@/store/flow/flow'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nexport class PerModeResourceEditor extends mixins(FlowUploader, Permissions, Routes, Lang) {\n  @Prop({required: true}) block!: IBlock\n  @Prop({}) openResources?: string[]\n\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n\n  get modes(): SupportedMode[] {\n    return orderModes(this.activeFlow.supported_modes)\n  }\n\n  iconsMap = new Map<string, object>([\n    [SupportedMode.SMS, ['fac', 'message']],\n    [SupportedMode.TEXT, ['fac', 'text']],\n    [SupportedMode.USSD, ['fac', 'ussd']],\n    [SupportedMode.IVR, ['fac', 'audio']],\n    [SupportedMode.RICH_MESSAGING, ['far', 'comment-dots']],\n    [SupportedMode.OFFLINE, ['fas', 'mobile-alt']],\n  ])\n\n  expandedPanels: Record<string, boolean> = {}\n  expandedPanelsOverridden: Record<string, boolean> = {}\n\n  get hasOpenPanelsOverridden(): boolean {\n    return this.openResources === undefined || this.openResources.length > 0\n  }\n\n  @Watch('openResources')\n  overrideOpenResources(resources: string[]): void {\n    if (resources !== undefined) {\n      this.expandedPanelsOverridden = resources.reduce((map, key) => ({\n        ...map,\n        [key]: true,\n      }), {})\n    } else {\n      this.expandedPanelsOverridden = {}\n    }\n  }\n\n  get isPanelExpanded(): Record<string, boolean> {\n    return this.hasOpenPanelsOverridden\n      ? this.expandedPanelsOverridden\n      : this.expandedPanels\n  }\n\n  updateIsPanelExpanded(id): void {\n    if (this.hasOpenPanelsOverridden) {\n      this.expandedPanelsOverridden = {\n        ...this.expandedPanelsOverridden,\n        [id]: !this.expandedPanelsOverridden[id],\n      }\n    } else {\n      this.expandedPanels = {\n        ...this.expandedPanels,\n        [id]: !this.expandedPanels[id],\n      }\n    }\n  }\n}\n\nexport default PerModeResourceEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerModeResourceEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerModeResourceEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PerModeResourceEditor.vue?vue&type=template&id=6f3509c8&scoped=true&\"\nimport script from \"./PerModeResourceEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./PerModeResourceEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PerModeResourceEditor.vue?vue&type=style&index=0&id=6f3509c8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f3509c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"resource-variant-text-editor mb-0\"},[_c('validation-message',{attrs:{\"message-key\":`resource/${_vm.resourceId}/values/${_vm.index}/value`},scopedSlots:_vm._u([{key:\"input-control\",fn:function({ isValid }){return [_c('expression-input',{ref:\"input\",staticClass:\"mb-0\",attrs:{\"label\":_vm.label,\"prepend-text\":_vm.prependText,\"placeholder\":_vm.placeholder || _vm.defaultPlaceholder,\"current-expression\":_vm.content,\"rows\":_vm.rows,\"valid-state\":isValid,\"disabled-auto-complete\":_vm.disabledAutoComplete},on:{\"commitExpressionChange\":_vm.commitExpressionChange}}),(_vm.isSms || _vm.isUssd)?_c('div',{staticClass:\"content-length-info\",class:{'font-weight-bold': _vm.isSms && _vm.smsCharInfo.bytes > 0}},[_vm._v(\" \"+_vm._s(_vm.contentLengthInfo)+\" \")]):_vm._e()]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {Component, Prop} from 'vue-property-decorator'\nimport {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {IResource, IResourceValue} from '@floip/flow-runner'\nimport {namespace} from 'vuex-class'\n// noinspection TypeScriptCheckImport\nimport SplitSms from 'split-sms'\nimport ExpressionInput from '@/components/common/ExpressionInput.vue'\nimport {SupportedMode} from '@floip/flow-runner/src/flow-spec/SupportedMode'\n\nconst flowVuexNamespace = namespace('flow')\n\ntype SplitSmsResult = {\n  characterSet: 'GSM' | 'Unicode',\n  parts: {\n    content: undefined | string,\n    length: number,\n    bytes: number,\n  }[],\n  bytes: number,\n  length: number,\n  remainingInPart: number,\n}\n\n@Component({\n  components: {ExpressionInput},\n})\nexport class ResourceVariantTextEditor extends mixins(Lang) {\n  @Prop({default: null}) readonly index!: number\n  @Prop() readonly resourceId!: IResource['uuid']\n  @Prop({default: ''}) readonly label!: string\n  @Prop({type: String, default: ''}) readonly prependText!: string\n  @Prop() readonly placeholder: string\n  @Prop() readonly resourceVariant!: IResourceValue\n  @Prop() readonly mode: SupportedMode\n  @Prop({default: 2}) readonly rows!: number\n  @Prop({type: Boolean, default: false}) readonly disabledAutoComplete!: boolean\n\n  get defaultPlaceholder(): string {\n    return this.trans(`flow-builder.enter-${this.mode.toLowerCase()}-content`)\n  }\n\n  get content(): string {\n    return this.resourceVariant.value\n  }\n\n  get contentLengthInfo(): string {\n    const charCount = this.smsCharInfo.bytes\n    const isUnicode = this.smsCharInfo.characterSet === 'Unicode'\n    const smsPagesCount = this.smsCharInfo.parts.length\n\n    const charInfo = this.trans('flow-builder.x-characters', {charCount})\n    const pagesInfo = isUnicode\n      ? this.trans('flow-builder.x-unicode-pages', {smsPagesCount})\n      : this.trans('flow-builder.x-pages', {smsPagesCount})\n\n    if (this.isSms && smsPagesCount > 1) {\n      return `${charInfo} (${pagesInfo})`\n    } else {\n      return charInfo\n    }\n  }\n\n  commitExpressionChange(value: string): void {\n    const {resourceId, mode, resourceVariant} = this\n    const {language_id: languageId, content_type: contentType, mime_type: mimeType} = resourceVariant\n\n    const filter: Partial<IResourceValue> = {\n      language_id: languageId,\n      content_type: contentType,\n      modes: [mode],\n    }\n\n    if (mimeType !== undefined) {\n      filter.mime_type = mimeType\n    }\n\n    this.$emit('beforeResourceVariantChanged', {variant: resourceVariant, resourceId, value})\n    this.resource_setOrCreateValueModeSpecific({\n      resourceId,\n      filter,\n      value,\n    })\n    this.$emit('afterResourceVariantChanged', {variant: resourceVariant, resourceId, value})\n  }\n\n  get isSms(): boolean {\n    return this.mode === SupportedMode.SMS\n  }\n\n  get isUssd(): boolean {\n    return this.mode === SupportedMode.USSD\n  }\n\n  get smsCharInfo(): SplitSmsResult {\n    return SplitSms.split(this.content)\n  }\n\n  @flowVuexNamespace.Action resource_setOrCreateValueModeSpecific!:\n    ({resourceId, filter, value}: { resourceId: IResource['uuid'], filter: {}, value: string }) => void\n}\n\nexport default ResourceVariantTextEditor\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceVariantTextEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceVariantTextEditor.vue?vue&type=template&id=2dfe4cdd&scoped=true&\"\nimport script from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceVariantTextEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResourceVariantTextEditor.vue?vue&type=style&index=0&id=2dfe4cdd&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dfe4cdd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"resource-viewer-block border p-2\"},[_c('div',{staticClass:\"block-header-1 d-flex\"},[_c('div',{staticClass:\"mr-auto text-primary\"},[_c('h5',[_vm._v(_vm._s(_vm.blockLabel))])]),_c('div',{staticClass:\"ml-auto\"},[_c('h6',[_vm._v(_vm._s(_vm.trans(`flow-builder.${_vm.block.type}`).toUpperCase()))])])]),_c('div',{staticClass:\"block-content\"},[_c('fieldset',{attrs:{\"disabled\":!_vm.isEditable}},[_c('div',{staticClass:\"d-flex flex-wrap\"},[_c('simplified-name-editor',{staticClass:\"col-lg-3 col-sm-6 col-xs-12 p-0\",attrs:{\"block\":_vm.block},on:{\"change\":function($event){return _vm.$emit('change')}}}),(!_vm.hasContent)?_c('div',{staticClass:\"col-lg-3 col-sm-6 col-xs-12 pl-1 mb-3\"},[_c('div',{staticClass:\"badge badge-info\"},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.no-content-block-info'))+\" \")])]):_vm._e(),_vm._t(\"tags\",null,{\"block\":_vm.block})],2),(_vm.hasContent)?_c('div',[_c('per-mode-resource-editor',{attrs:{\"block\":_vm.block},on:{\"change\":function($event){return _vm.$emit('change')}}})],1):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {IBlock} from '@floip/flow-runner'\nimport {lang} from '@/lib/filters/lang'\nimport {mapGetters} from 'vuex'\nimport {PropType} from 'vue'\n\nexport default {\n  name: 'ResourceViewerBlock',\n  mixins: [lang],\n  props: {\n    block: {\n      required: true,\n      type: Object as PropType<IBlock>,\n    },\n  },\n  computed: {\n    ...mapGetters('flow', ['block_classesConfig']),\n    ...mapGetters('builder', ['isEditable']),\n    blockLabel() {\n      return this.block.label > '' ? this.block.label : lang.trans('flow-builder.untitled-block')\n    },\n    hasContent() {\n      return this.block.config.prompt !== undefined\n    },\n  },\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewerBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewerBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResourceViewerBlock.vue?vue&type=template&id=03234acd&scoped=true&\"\nimport script from \"./ResourceViewerBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResourceViewerBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResourceViewerBlock.vue?vue&type=style&index=0&id=03234acd&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03234acd\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\nimport * as commonComponents from '@/components/common'\nimport * as interactionDesignerComponents from '@/components/interaction-designer'\nimport * as blockEditorsComponents from '@/components/interaction-designer/block-editors'\nimport * as blockEditorsChoicesComponents from '@/components/interaction-designer/block-editors/choices'\nimport * as blockTypesComponents from '@/components/interaction-designer/block-types'\nimport * as flowEditorsComponents from '@/components/interaction-designer/flow-editors'\nimport * as flowImportComponents from '@/components/interaction-designer/flow-editors/import'\nimport * as toolbarComponents from '@/components/interaction-designer/toolbar'\nimport * as blockComponents from '@/components/interaction-designer/block'\nimport * as blockResourceEditorsComponents from '@/components/interaction-designer/resource-editors'\nimport * as resourceViewerComponents from '@/components/interaction-designer/resource-viewer'\n\nrequire('./font-awesome-icon')\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default function registerCustomComponents(extra = {}): Record<string, any> {\n  const Components = {\n    ...commonComponents,\n    ...interactionDesignerComponents,\n    ...blockEditorsComponents,\n    ...blockEditorsChoicesComponents,\n    ...blockTypesComponents,\n    ...flowEditorsComponents,\n    ...flowImportComponents,\n    ...toolbarComponents,\n    ...blockComponents,\n    ...blockResourceEditorsComponents,\n    ...resourceViewerComponents,\n    ...extra,\n  }\n  Object.entries(Components)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    .forEach(([name, component]: [string, any]) => {\n      Vue.component(name, component)\n    })\n  return Components\n}\n","// todo: children of /trees base url\nexport const routes = [\n  {\n    path: '/',\n    component: () => import(/* webpackChunkName:\"chunk-builder\" */ '@/views/Home.vue'),\n  },\n  {\n    path: '/flows/new',\n    component: () => import(/* webpackChunkName:\"chunk-builder\" */ '@/views/NewFlow.vue'),\n  },\n  {\n    path: '/flows/import',\n    component: () => import(/* webpackChunkName:\"chunk-builder\" */ '@/views/ImportFlow.vue'),\n  },\n  {\n    path: '/flows/:uuid',\n    props: (route) => ({uuid: route.params.uuid}),\n    component: () => import(/* webpackChunkName:\"chunk-builder\" */ '@/views/FetchFlow.vue'),\n  },\n  {\n    path: '/flows/:id/:component/:mode',\n    name: 'flow-canvas',\n    props: (route) => ({\n      id: route.params.id,\n      mode: route.params.mode,\n      mainComponent: route.params.component,\n    }),\n    component: () => import(/* webpackChunkName:\"chunk-builder\" */ '@/views/InteractionDesigner.vue'),\n    children: [\n      {\n        path: 'details',\n        name: 'flow-details',\n        meta: {isFlowEditorShown: true},\n      },\n      {\n        path: 'block/:blockId',\n        name: 'block-selected',\n        props: (route) => ({blockId: route.params.blockId}),\n        children: [\n          {\n            path: 'details',\n            name: 'block-selected-details',\n            meta: {isBlockEditorShown: true},\n          },\n          {\n            path: ':field',\n            name: 'block-scroll-to-anchor',\n            meta: {isBlockEditorShown: true},\n          },\n        ],\n      },\n    ],\n  },\n  {\n    path: '*',\n    redirect: '/',\n  },\n]\n\nexport default routes\n","import Vue from 'vue'\nimport VueRouter, {RouteConfig} from 'vue-router'\nimport {routes as treesRoutes} from '@/router/trees.js'\nimport {scrollBehavior} from '@/router/helpers'\n\nVue.use(VueRouter)\n\nexport const routes: Array<RouteConfig> = [\n  // todo: rename trees module + url path to builder + add extensible children as intx-design & resource-viewer\n  ...treesRoutes,\n]\n\nexport const router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  scrollBehavior,\n  routes,\n})\n\nexport default router\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1586171a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\n\n// allow us to assign new properties to window, eg: window.store = store\n// useful cypress setup\ndeclare global {\n  interface Window {\n    Cypress: any\n    app: any\n    store: any\n  }\n}\n\n/**\n * This import modifies the jquery that should already be on the page globally at global.$\n * e.g. adding $().modal() and other jquery plugins\n */\nimport 'bootstrap'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport 'vue-multiselect/dist/vue-multiselect.min.css'\nimport 'scss/main.scss'\n\nimport registerCustomComponents from '@/common-imports'\n\nimport Toast from 'vue-toastification'\nimport {ToastOptions} from 'vue-toastification/dist/types/src/types'\nimport {POSITION} from 'vue-toastification/src/ts/constants'\nimport router from './router'\nimport App from './App.vue'\nimport 'vue-toastification/dist/index.css'\n\nregisterCustomComponents()\n\nVue.use(Vuex)\n\n/**\n * For more details about:\n * - available options, see https://vue-toastification.maronato.dev/\n * - Dismiss toasts programmatically OR update toasts' content, see https://www.npmjs.com/package/vue-toastification\n */\nconst VUE_TOAST_GENERAL_OPTIONS: ToastOptions = {\n  position: POSITION.TOP_RIGHT,\n  draggable: true,\n  draggablePercent: 0.6,\n  closeOnClick: false,\n  timeout: false,\n}\nVue.use(Toast, VUE_TOAST_GENERAL_OPTIONS)\n\nVue.config.productionTip = false\n\n// todo CORE-155: inline 'store' after migration to Vue3\nconst store = new Vuex.Store({})\n\nasync function main(): Promise<void> {\n  new Vue({\n    router,\n    store,\n    // todo CORE-155: remove 'provide' after migration to Vue3; use the built-in useStore() instead\n    provide: {store},\n    render: (h) => h(Vue.extend(App)),\n  }).$mount('#app')\n\n  if (window?.Cypress !== undefined) {\n    console.debug('Cypress detected, exposing app on window')\n    // This will allow us to test vuex store in Cypress\n    window.store = store\n  } else {\n    console.debug('Cypress not detected, app not exposed on window')\n  }\n}\n\nmain()\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"core-case-block\"},[_c('base-block',{attrs:{\"block\":_vm.block,\"show-semantic-label\":false,\"uses-default-contact-props-editor\":_vm.usesDefaultContactPropsEditor,\"uses-default-branching-editor\":_vm.usesDefaultBranchingEditor}},[_vm._t(\"description\",null,{\"slot\":\"description\"}),_vm._t(\"resource-editors\",null,{\"slot\":\"resource-editors\"}),_vm._t(\"extras\",null,{\"slot\":\"extras\"}),_vm._t(\"vendor-extras\",null,{\"slot\":\"vendor-extras\"}),_vm._t(\"branching\",function(){return [_c('block-output-branching-config',{attrs:{\"block\":_vm.block,\"has-exit-per-choice\":false,\"has-unified-exit\":false}})]},{\"slot\":\"branching\"}),_vm._t(\"contact-props\",null,{\"slot\":\"contact-props\"}),_vm._t(\"vendor\",null,{\"slot\":\"vendor\"})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ActionContext, ActionTree, Module} from 'vuex'\nimport {IRootState} from '@/store'\nimport {ICaseBlock} from '@floip/flow-runner/src/model/block/ICaseBlock'\nimport {cloneDeep} from 'lodash'\nimport {OutputBranchingType} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\nimport BaseBlockStore, {actions as baseActions, IEmptyState} from '@/store/flow/block-types/BaseBlockStore'\n\nexport const BLOCK_TYPE = 'Core.Case'\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<ICaseBlock> }) {\n    props.type = BLOCK_TYPE\n    props.vendor_metadata = {\n      floip: {\n        ui_metadata: {\n          branching_type: OutputBranchingType.ADVANCED,\n        },\n      },\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n}\n\nconst Core_CaseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  actions,\n}\n\nexport default Core_CaseBlockStore\n","\nimport {namespace} from 'vuex-class'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {ICaseBlock} from '@floip/flow-runner/src/model/block/ICaseBlock'\nimport {IBlockExit, IFlow} from '@floip/flow-runner'\nimport CaseStore, {BLOCK_TYPE} from '@/store/flow/block-types/Core_CaseBlockStore'\nimport Lang from '@/lib/filters/lang'\nimport {createDefaultBlockTypeInstallerFor} from '@/store/builder'\nimport {mixins} from 'vue-class-component'\n\nconst blockVuexNamespace = namespace(`flow/${BLOCK_TYPE}`)\nconst builderVuexNamespace = namespace('builder')\n\n@Component({})\nexport class Core_CaseBlock extends mixins(Lang) {\n  @Prop() readonly block!: ICaseBlock\n  @Prop({default: true}) readonly usesDefaultBranchingEditor!: boolean\n  @Prop({default: false}) readonly usesDefaultContactPropsEditor!: boolean\n\n  get exits(): IBlockExit[] {\n    return this.block.exits\n  }\n\n  @builderVuexNamespace.Getter isEditable !: boolean\n}\n\nexport default Core_CaseBlock\nexport const install = createDefaultBlockTypeInstallerFor(BLOCK_TYPE, CaseStore)\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_CaseBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_CaseBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Core_CaseBlock.vue?vue&type=template&id=33f8bf69&\"\nimport script from \"./Core_CaseBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./Core_CaseBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport {get, isEmpty} from 'lodash'\nimport Component from 'vue-class-component'\nimport {State} from 'vuex-class'\n\nconst PATH_PARAM_DISCOVERER = /(\\/){(.*?)(\\?)?}/g\nconst raiseFor = (p: any) => {\n  throw new Error(`InvalidContextError - Missing param: ${p}`)\n}\n\nexport function interpolateRouteWith(context: any, route?: any) {\n  if (!route) {\n    return null\n  }\n\n  context = context || {}\n\n  const {\n    path, params,\n  } = route\n  const isPathComplete = isEmpty(params)\n\n  if (isPathComplete) {\n    return path\n  }\n\n  return path.replace(PATH_PARAM_DISCOVERER, (_m: any, prefix = '', captured: string, isOptional: boolean) => {\n    const param = captured.trim()\n    const absent = !(param in context)\n\n    if (absent && !isOptional) {\n      raiseFor(param)\n    }\n\n    if (absent && isOptional) {\n      return ''\n    }\n\n    return `${prefix}${context[param]}`\n  })\n}\n\nexport function routeFrom(routeKey: string, context: any, routes: any) {\n  return interpolateRouteWith(context, get(routes, routeKey))\n}\n\n@Component\nexport default class Routes extends Vue {\n  @State((s) => s.trees.ui.routes) routes: any\n\n  route(routeKey: string, context: any) {\n    return routeFrom(routeKey, context, this.routes)\n  }\n}\n","import {IBlock} from '@floip/flow-runner'\nimport {IIndexedString, IValidationStatus} from '@/store/validation/index'\nimport Ajv, {ErrorObject, ValidateFunction} from 'ajv'\nimport {get, isEmpty} from 'lodash'\nimport {JSONSchema7} from 'json-schema'\nimport ajvFormat from 'ajv-formats'\nimport {parse as floipExpressionParser} from '@floip/expression-parser'\nimport Lang from '@/lib/filters/lang'\n\nconst DEV_ERROR_KEYWORDS = [\n  // unwanted extra props\n  'additionalProperties',\n  // missing props\n  'required',\n]\n\nconst lang = new Lang()\n\n// AJV validators, keys are types\nconst validators = new Map<string, ValidateFunction>()\n\n/**\n * Create AJV Validator\n * Usage :\n * const validate = createDefaultJsonSchemaValidatorFactoryFor(require('./some-json-schema.json')\n * const isValid = validate(myData)\n * const error = validate.errors\n *\n * @param jsonSchema\n * @param subSchema, Specify it if we want to pick a sub definition eg: pick `#/definitions/IFlow` under IContainer\n */\nexport function createDefaultJsonSchemaValidatorFactoryFor(jsonSchema: JSONSchema7, subSchema = ''): ValidateFunction {\n  const ajv = new Ajv({allErrors: true})\n  // we need this to use AJV format such as 'date-time'\n  // (https://json-schema.org/draft/2019-09/json-schema-validation.html#rfc.section.7)\n  ajvFormat(ajv)\n\n  ajv.addFormat('floip-expression', {\n    type: 'string',\n    validate: (x: string) => {\n      try {\n        floipExpressionParser(x)\n      } catch (e) {\n        return false\n      }\n      return true\n    },\n  })\n\n  if (subSchema === '') {\n    return ajv.compile(jsonSchema)\n  }\n\n  let validate = ajv.getSchema(subSchema)\n  if (!validate) {\n    ajv.addSchema(jsonSchema)\n    validate = ajv.getSchema(subSchema)\n  }\n  if (!validate) {\n    throw new Error(`Cannot find definition ${subSchema} in schema ${jsonSchema}`)\n  }\n  return validate as ValidateFunction\n}\n\nexport function debugValidationStatus(status: IValidationStatus, customMessage: string): void {\n  if (status != null) {\n    console.debug(\n      'store/validation:',\n      customMessage,\n      ' | isValid:',\n      status.isValid,\n      ' | error dataPaths:',\n      `${Object.prototype.hasOwnProperty.call(status, 'ajvErrors') && status.ajvErrors ? (status.ajvErrors).map((item) => get(\n        item,\n        'dataPath',\n        'undefined',\n      )).join(';') : 'undefined'}`,\n      ' | error messages:',\n      `${Object.prototype.hasOwnProperty.call(status, 'ajvErrors') && status.ajvErrors ? (status.ajvErrors).map((item) => get(\n        item,\n        'message',\n        'undefined',\n      )).join(';') : 'undefined'}`,\n      ' | error details:',\n      status,\n    )\n  } else {\n    console.debug('store/validation:', 'the status in debugValidationStatus was undefined')\n  }\n}\n\nfunction getErrorMessageLocalizationKeyForProperty(keyPrefix: string, ajvErrorObject: ErrorObject) : string {\n  const [entity] = keyPrefix.split('/')\n  let property\n  if (ajvErrorObject.params?.missingProperty !== undefined) {\n    property = `${ajvErrorObject.dataPath}-${ajvErrorObject.params?.missingProperty}`\n  } else {\n    property = ajvErrorObject.dataPath\n  }\n\n  property = property\n    .replaceAll('/', '-')\n    .replaceAll(/\\d+/g, 'x')\n    .replace(/^-/, '')\n\n  return `flow-builder-validation.${entity}-${property}-${ajvErrorObject.keyword}`\n}\n\nfunction getErrorMessageLocalizationKey(keyPrefix: string, ajvErrorObject: ErrorObject) : string {\n  const isFormatError = ajvErrorObject.keyword === 'format'\n  const isExpressionFormat = ajvErrorObject.params?.format === 'floip-expression'\n\n  if (isFormatError && isExpressionFormat) {\n    return 'flow-builder-validation.floip-format'\n  }\n\n  return getErrorMessageLocalizationKeyForProperty(keyPrefix, ajvErrorObject)\n}\n\nfunction getLocalizedErrorMessage(keyPrefix: string, ajvErrorObject: ErrorObject) : string {\n  const hasKeyword = typeof ajvErrorObject.keyword === 'string'\n  const hasMessage = typeof ajvErrorObject.message === 'string' && ajvErrorObject.message.length > 0\n\n  // Handle custom messages w/o keywords\n  if (!hasKeyword) {\n    if (hasMessage) {\n       return ajvErrorObject.message!\n    } else {\n      throw new Error(`Malformed AJV error object: no keyword or message; ${JSON.stringify(ajvErrorObject)}`)\n    }\n  }\n\n  // Normal AJV errors\n  const localizationKey = getErrorMessageLocalizationKey(keyPrefix, ajvErrorObject)\n\n  const localizedMessage = lang\n    .trans(localizationKey)\n    .replace(\n      /({([^}]+)})/g,\n      (_match: unknown, _g1: unknown, name: string) => ajvErrorObject.params[name] as string || '',\n    )\n\n  const hasTranslation = localizedMessage !== localizationKey\n\n  if (!hasTranslation) {\n    console.warn(\n      `Error message not localized: ${localizationKey}`,\n      {\n        dataPath: ajvErrorObject.dataPath,\n        keyword: ajvErrorObject.keyword,\n        message: ajvErrorObject.message,\n        params: ajvErrorObject.params,\n        schemaPath: ajvErrorObject.schemaPath,\n      },\n    )\n    return ajvErrorObject.message ?? ''\n  }\n\n  return localizedMessage\n}\n\nexport function getLocalizedAjvErrors(keyPrefix: string, ajvErrors?: ErrorObject[] | null): ErrorObject[] | null {\n  if (ajvErrors === undefined || ajvErrors === null) {\n    return null\n  }\n\n  return ajvErrors.map((ajvError) => ({\n    ...ajvError,\n    message: getLocalizedErrorMessage(keyPrefix, ajvError),\n  }))\n}\n\nexport function getLocalizedBackendErrors(keyPrefix: string, blockErrors: { message: string, dataPath: string }[]): ErrorObject[] | null {\n  if (!Array.isArray(blockErrors)) {\n    console.debug('getLocalizedBackendErrors', 'returning null as blockErrors is not an array', blockErrors)\n    return null\n  }\n\n  return blockErrors.map(({message, dataPath}) => {\n    const errorWithRightSchema: ErrorObject = {\n      message: lang.trans(`flow-builder-validation.${message}`),\n      keyword: 'backend',\n      dataPath,\n      schemaPath: dataPath,\n      params: {},\n    }\n    return errorWithRightSchema\n  })\n}\n\nexport function flatValidationStatuses({\n  keyPrefix,\n  errors,\n  accumulator,\n}: { keyPrefix: string, errors: undefined | null | Array<ErrorObject>, accumulator: IIndexedString }): void {\n  errors?.forEach((error) => {\n    let index = ''\n    let message = ''\n    if (DEV_ERROR_KEYWORDS.includes(error.keyword)) {\n      // this is more likely a dev issue than user error\n      // error.dataPath could be empty or not for such errors\n      index = `${keyPrefix}${error.schemaPath}`\n      message = `${error.message}, for params ${JSON.stringify(error.params)}`\n      console.warn('store/validation:', `Schema issue found on ${index}: ${message}`)\n    } else {\n      index = `${keyPrefix}${error.dataPath}`\n      message = error.message as string\n    }\n    accumulator[index] = message\n  })\n}\n\nexport function getOrCreateFlowValidator(schemaVersion: string): ValidateFunction {\n  const validationType = 'flow'\n  if (isEmpty(validators) || !validators.has(validationType)) {\n    const flowJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/flowSpecJsonSchema.json`)\n\n    // remove `blocks` & `resources` properties from IFlow schema to avoid double validations\n    flowJsonSchema.definitions.IFlow.additionalProperties = true\n    delete flowJsonSchema.definitions.IFlow.properties.blocks\n    delete flowJsonSchema.definitions.IFlow.properties.resources\n\n    validators.set(validationType, createDefaultJsonSchemaValidatorFactoryFor(flowJsonSchema, '#/definitions/IFlow'))\n  }\n  return validators.get(validationType)!\n}\n\n/**\n * Validator for the container and its content (flows, blocks, etc)\n */\nexport function getOrCreateContainerImportValidator(schemaVersion: string): ValidateFunction {\n  // for a reason we don't know so far, we should not use the cached validator `validators` when importing a container\n  // in fact, the 1st import would work, but the 2nd one (without refreshing the page) would keep having wrong validation errors\n  const flowJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/flowSpecJsonSchema.json`)\n  return createDefaultJsonSchemaValidatorFactoryFor(flowJsonSchema, '#/definitions/IContainer')\n}\n\nexport function getOrCreateLanguageValidator(schemaVersion: string): ValidateFunction {\n  const validationType = 'language'\n  if (isEmpty(validators) || !validators.has(validationType)) {\n    const flowJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/flowSpecJsonSchema.json`)\n    validators.set(validationType, createDefaultJsonSchemaValidatorFactoryFor(flowJsonSchema, '#/definitions/ILanguage'))\n  }\n  return validators.get(validationType)!\n}\n\nexport function getOrCreateResourceValidator(schemaVersion: string): ValidateFunction {\n  const validationType = 'resource'\n  if (isEmpty(validators) || !validators.has(validationType)) {\n    const flowJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/flowSpecJsonSchema.json`)\n    validators.set(validationType, createDefaultJsonSchemaValidatorFactoryFor(flowJsonSchema, '#/definitions/IResource'))\n  }\n  return validators.get(validationType)!\n}\n\n/**\n * Validate Community block\n *\n * @param block\n * @param schemaVersion\n * @param customBlockJsonSchema,\n */\nexport function validateBlockWithJsonSchema({block, schemaVersion, customBlockJsonSchema}: {block: IBlock, schemaVersion: string, customBlockJsonSchema?: JSONSchema7}): IValidationStatus {\n  let validate = null\n  if (isEmpty(validators) || !validators.has(block.type)) {\n    const blockTypeWithoutNameSpace = block.type.split('.')[block.type.split('.').length - 1]\n    let blockJsonSchema\n    try {\n      if (customBlockJsonSchema == null) {\n        // eslint-disable-next-line import/no-dynamic-require,global-require\n        blockJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/I${blockTypeWithoutNameSpace}Block.json`)\n        validate = createDefaultJsonSchemaValidatorFactoryFor(blockJsonSchema)\n      } else {\n        validate = createDefaultJsonSchemaValidatorFactoryFor(customBlockJsonSchema)\n      }\n    } catch (e) {\n      if (e.code === 'MODULE_NOT_FOUND') {\n        console.warn(`A Specific Validator for the ${blockTypeWithoutNameSpace}Block could not be found. `\n          + `Falling back the generic Block validator for ${schemaVersion}`)\n        // eslint-disable-next-line import/no-dynamic-require,global-require\n        blockJsonSchema = require(`@floip/flow-runner/dist/resources/validationSchema/${schemaVersion}/flowSpecJsonSchema.json`)\n        validate = createDefaultJsonSchemaValidatorFactoryFor(blockJsonSchema, '#/definitions/IBlock')\n      } else {\n        throw e\n      }\n    }\n    validators.set(block.type, validate)\n  } else {\n    validate = validators.get(block.type)!\n  }\n\n  return {\n    isValid: validate(block),\n    ajvErrors: validate.errors,\n    type: block.type,\n    label: block.label,\n    context: {\n      resourceUuid: get(block, 'config.prompt'),\n    },\n  }\n}\n\n/**\n * Extract resource variant index from error dataPath.\n * Return undefined if it does not match the resource value pattern\n *\n * @example\n * // returns 1\n * extractResourceVariantIndex('values/1/value')\n */\nexport function extractResourceVariantIndex(errorDataPath: string): number | undefined {\n  const indexAsString: string | undefined = /^\\/values\\/(?<index>\\d+)/.exec(errorDataPath)?.groups?.index\n\n  if (indexAsString === undefined) {\n    return undefined\n  }\n  return Number(indexAsString)\n}\n\nexport function isNotUndefined<T>(value: T | undefined): value is T {\n  return value !== undefined\n}\n","import Vue from 'vue'\nimport {ActionTree, GetterTree, Module, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {ErrorObject} from 'ajv'\nimport {IBlock, IContainer, IFlow, ILanguage, IResource, SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport {cloneDeep, each, filter, forIn, get, includes, intersection, isEmpty, map, uniqBy, update} from 'lodash'\nimport {\n  debugValidationStatus,\n  extractResourceVariantIndex,\n  flatValidationStatuses,\n  getLocalizedAjvErrors,\n  getLocalizedBackendErrors,\n  getOrCreateContainerImportValidator,\n  getOrCreateFlowValidator,\n  getOrCreateLanguageValidator,\n  getOrCreateResourceValidator,\n  isNotUndefined,\n} from '@/store/validation/validationHelpers'\n\nexport interface IIndexedString {\n  [key: string]: string,\n}\n\nexport interface IValidationStatusContext {\n  resourceUuid?: string,\n  isOrphanResource?: boolean,\n}\n\n/**\n * Is valid by mode OR languageId\n *\n * eg:\n * {\n *   mode: {\n *     \"USSD\": 12 // there are 12 invalid resources for USSD mode\n *   },\n *   languageId: {\n *     \"eng\": 34 // there are 34 invalid resources for \"eng\" language\n *   }\n * }\n */\nexport interface IInvalidResourcesCounterBy {\n  mode?: {[key: string]: number},\n  languageId?: {[key: string]: number},\n}\n\nexport interface IValidationStatus {\n  isValid: boolean | PromiseLike<any>,\n  ajvErrors?: null | Array<ErrorObject>,\n  type: string,\n  label?: string,\n  context?: IValidationStatusContext,\n  invalidCounterBy?: IInvalidResourcesCounterBy,\n}\n\nexport interface IValidationState {\n  // important context for future debug or testing, keys are index like `flow/flowId\n  validationStatuses: { [key: string]: IValidationStatus },\n}\n\nexport const stateFactory = (): IValidationState => ({\n  validationStatuses: {} as { [key: string]: IValidationStatus },\n})\n\nexport const validationGetters: GetterTree<IValidationState, IRootState> = {\n  /**\n   * Human readable errors, keys are index like `flow/flowId/path/to/prop`\n   * check this repo to see more available example: https://github.com/ajv-validator/ajv-i18n/blob/master/messages/index.js\n   * eg:\n   * {\n   *   \"flow/1607666a-2216-4a17-b8ba-9eb861d72933/blocks/0/name\": \"should match pattern \\\"^[a-zA-Z_]\\\\w*$\\\"\",\n   *   \"flow/1607666a-2216-4a17-b8ba-9eb861d72933/languages/0/iso_639_3\": \"should match pattern \\\"^[a-z][a-z][a-z]$\\\"\",\n   *   \"block/a520eb17-49f0-4617-af18-b0d524f921ce#/required\": \"should have required property 'config', for params {\\\"missingProperty\\\":\\\"config\\\"}\",\n   *   \"block/a520eb17-49f0-4617-af18-b0d524f921ce/name\": \"should match pattern \\\"^[a-zA-Z_]\\\\w*$\\\"\",\n   *   \"block/a520eb17-49f0-4617-af18-b0d524f921ce/exits/1/tag\": \"should match pattern \\\"^[a-zA-Z_]\\\\w*$\\\"\",\n   *   \"block/44663ef4-5e1f-4ead-a8e5-05d6f7d47f0d/name\": \"should match pattern \\\"^[a-zA-Z_]\\\\w*$\\\"\"\n   * }\n   *\n   * Note that indexedErrors has more elements than validationStatuses.\n   * And we do not consider validation errors from orphan resources\n   */\n  flattenErrorMessages(state): IIndexedString {\n    const accumulator: IIndexedString = {}\n    forIn(state.validationStatuses, (validationStatus: IValidationStatus, index: string) => {\n      if (validationStatus.context?.isOrphanResource === undefined || validationStatus.context?.isOrphanResource !== true) {\n        flatValidationStatuses({\n          keyPrefix: index,\n          errors: validationStatus.ajvErrors,\n          accumulator,\n        })\n      }\n    })\n    return accumulator\n  },\n\n  choiceMimeType() {\n    return 'text/plain;choice=true'\n  },\n}\n\nexport const validationMutations: MutationTree<IValidationState> = {\n  removeValidationStatusesFor(state, {key}: {key: string}) {\n    Vue.delete(state.validationStatuses, key)\n  },\n  resetValidationStatuses(state, {key}): void {\n    Vue.set(state.validationStatuses, key, {ajvErrors: undefined})\n    Vue.set(state.validationStatuses[key], 'ajvErrors', [])\n  },\n  pushAjvErrorToValidationStatuses(state, {key, ajvError}): void {\n    if (state.validationStatuses[key]?.ajvErrors == null) {\n      Vue.set(state.validationStatuses, key, {ajvErrors: undefined})\n      Vue.set(state.validationStatuses[key], 'ajvErrors', [])\n    }\n    state.validationStatuses[key]!.ajvErrors!.push(ajvError)\n  },\n}\n\nexport const validationActions: ActionTree<IValidationState, IRootState> = {\n  async validate_block({state, commit, rootGetters, dispatch}, {block}: {block: IBlock}): Promise<IValidationStatus> {\n    const schemaVersion = rootGetters['flow/activeFlowContainer'].specification_version\n    const status = await dispatch(`flow/${block.type}/validate`, {block, schemaVersion}, {root: true})\n\n    const key = `block/${block.uuid}`\n    Vue.set(state.validationStatuses, key, {\n      ...status,\n      ajvErrors: getLocalizedAjvErrors(key, status.ajvErrors),\n    })\n    if (status.ajvErrors === null) {\n      commit('removeValidationStatusesFor', {key})\n    }\n\n    dispatch('cleanBackendAjvErrorsBasedOnFrontend', {\n      type: 'block',\n      id: block.uuid,\n      frontendAjvErrors: status.ajvErrors,\n    })\n\n    debugValidationStatus(state.validationStatuses[key], `validation status for ${key}`)\n    return state.validationStatuses[key]\n  },\n\n  /**\n   * Validate blocks from backend SAVE action.\n   */\n  async validate_allBlocksFromBackend({dispatch}): Promise<void> {\n    await dispatch('validate_fromBackend', {type: 'block'})\n    await dispatch('validate_fromBackend', {type: 'resource'})\n  },\n\n  /**\n   * Validate block/resource from backend, using info from active flow's vendor_metadata:\n   * floip: {\n   *   ui_metadata:{\n   *      validation_results: {\n   *        blocks: {\n   *          [`${block.uuid}`]: [{ message: 'validation error #1 from backend' },{ message: 'validation error #2 from backend' },]\n   *        }\n   *        resources: {\n   *         [`${resource.uuid}`]: [{ message: 'validation error #1 from backend' },{ message: 'validation error #2 from backend' },]\n   *        }\n   *      }\n   *   }\n   * }\n   */\n  async validate_fromBackend({state, rootGetters, commit}, {type}: {type: 'block' | 'resource'}): Promise<void> {\n    // Clean previous backend validation first\n    Object.keys(state.validationStatuses).forEach((key: string) => {\n      if (key.startsWith(`backend/${type}`)) {\n        commit('removeValidationStatusesFor', {key})\n      }\n    })\n\n    // New validations\n    const backendErrorsList = get(\n      rootGetters['flow/activeFlow']?.vendor_metadata?.floip?.ui_metadata?.validation_results,\n      `${type}s`,\n      {},\n    ) as Record<string, {message: string, dataPath: string}[]>\n\n    const orphanResourceUuids: IBlock['uuid'][] = rootGetters['flow/orphanResourceUuidsOnActiveFlow'] as IBlock['uuid'][]\n    Object.keys(backendErrorsList).forEach((currentUuid) => {\n      const backendKey = `backend/${type}/${currentUuid}`\n      const frontendKey = `${type}/${currentUuid}`\n      const currentBackendErrors = backendErrorsList[currentUuid]\n      const currentFrontendValidationStatuses = get(state.validationStatuses, frontendKey, {} as IValidationStatus)\n      const frontendDataPathList = map(currentFrontendValidationStatuses?.ajvErrors, 'dataPath')\n      // consider only backend validations which are:\n      // - unique (just in case the backend sends duplicate errors on same `dataPath`)\n      // - not present in existing frontend validation statuses. This prioritizes frontend validations over backend's.\n      //   But it also means the backend validation error never gets displayed after the user fixes the frontend validation error\n      const finalErrors = uniqBy(currentBackendErrors, 'dataPath')\n        .filter(({dataPath}) => !frontendDataPathList.includes(dataPath)) as { message: string, dataPath: string }[]\n\n      Vue.set(state.validationStatuses, backendKey, {\n        isValid: finalErrors === undefined || finalErrors.length === 0,\n        ajvErrors: getLocalizedBackendErrors(backendKey, finalErrors),\n        context: {\n          isOrphanResource: orphanResourceUuids.includes(currentUuid),\n        },\n      })\n\n      debugValidationStatus(state.validationStatuses[backendKey], `${type} validation based on backend action`)\n    })\n  },\n\n  /**\n   * Clean backend validation from frontend validation errors.\n   * This might be useful in case the frontend validation is triggered after the backend validation, eg: when loading a flow from backend\n   */\n  async cleanBackendAjvErrorsBasedOnFrontend(\n    {state, rootGetters, commit},\n    {type, id, frontendAjvErrors}: {type: 'block' | 'resource', id: IBlock['uuid'] | IResource['uuid'], frontendAjvErrors: ErrorObject[]},\n  ): Promise<void> {\n    if (isEmpty(frontendAjvErrors)) {\n      return\n    }\n\n    const backendKey = `backend/${type}/${id}`\n    const backendValidationStatuses = get(state.validationStatuses, backendKey, {} as IValidationStatus)\n    if (isEmpty(backendValidationStatuses) || isEmpty(backendValidationStatuses?.ajvErrors)) {\n      return\n    }\n\n    const frontendDataPathList = map(frontendAjvErrors, 'dataPath')\n    const newBackendValidation = {\n      ...backendValidationStatuses,\n      ajvErrors: backendValidationStatuses.ajvErrors?.filter(({dataPath}) => !frontendDataPathList.includes(dataPath)),\n    }\n    Vue.set(state.validationStatuses, backendKey, newBackendValidation)\n  },\n\n  /**\n   * Validate all existing blocks in current flow\n   * This is useful when the flow has changed, and may affect blocks' validation\n   */\n  async validate_allBlocksWithinFlow({rootGetters, dispatch}): Promise<void> {\n    await Promise.all(\n      rootGetters['flow/activeFlow'].blocks.map(async (currentBlock: IBlock) => {\n        await dispatch('validate_block', {block: currentBlock})\n      }),\n    )\n  },\n\n  async validate_flow({state, rootGetters}, {flow}: {flow: IFlow}): Promise<IValidationStatus> {\n    const validate = getOrCreateFlowValidator(rootGetters['flow/activeFlowContainer'].specification_version)\n    const key = `flow/${flow.uuid}`\n\n    Vue.set(state.validationStatuses, key, {\n      isValid: validate(flow),\n      ajvErrors: getLocalizedAjvErrors(key, validate.errors),\n      type: 'flow',\n    })\n\n    debugValidationStatus(state.validationStatuses[key], 'flow validation status')\n    return state.validationStatuses[key]\n  },\n\n  /**\n   * Validate the whole container for import purpose, including all contents like: flows, blocks, etc\n   * Assuming the provided container is a valid JSON\n   */\n  async validate_containerImport({state, commit, dispatch, rootGetters}, {flowContainer}: { flowContainer: IContainer }): Promise<IValidationStatus> {\n    // We do not add the uuid in key as it's hard coded in flow state for now\n    const key = 'container_import'\n\n    // At this stage we assume the container has the specification_version\n    const validate = getOrCreateContainerImportValidator(rootGetters['flow/activeFlowContainer'].specification_version)\n    Vue.set(state.validationStatuses, key, {\n      isValid: validate(flowContainer),\n      ajvErrors: getLocalizedAjvErrors(key, validate.errors),\n      type: 'container_import',\n    })\n\n    debugValidationStatus(state.validationStatuses[key], 'flow container validation status')\n    return state.validationStatuses[key]\n  },\n\n  async validate_new_language({state, rootGetters}, {language}: { language: ILanguage }): Promise<IValidationStatus> {\n    const validate = getOrCreateLanguageValidator(rootGetters['flow/activeFlowContainer'].specification_version)\n    const index = 'language/new_language'\n    Vue.set(state.validationStatuses, index, {\n      isValid: validate(language),\n      ajvErrors: validate.errors,\n    })\n\n    debugValidationStatus(state.validationStatuses[index], 'language validation status')\n    return state.validationStatuses[index]\n  },\n  validation_removeNewLanguageValidation({state}): void {\n    const index = 'language/new_language'\n    Vue.delete(state.validationStatuses, index)\n  },\n\n  async validate_resource({state, rootGetters, dispatch}, {resource}: {resource: IResource}): Promise<IValidationStatus> {\n    const validate = getOrCreateResourceValidator(rootGetters['flow/activeFlowContainer'].specification_version)\n    const key = `resource/${resource.uuid}`\n\n    const isValid = validate(resource)\n\n    validate.errors?.forEach(error => {\n      if (error.keyword === 'pattern') {\n        const index = extractResourceVariantIndex(error.dataPath)\n        if (index !== undefined) {\n          const {content_type: contentType} = resource.values[index]\n\n          if (contentType === 'AUDIO') {\n            error.keyword = 'pattern-ivr'\n          }\n        }\n      }\n    })\n\n    const orphanResourceUuids: IBlock['uuid'][] = rootGetters['flow/orphanResourceUuidsOnActiveFlow'] as IBlock['uuid'][]\n    Vue.set(state.validationStatuses, key, {\n      isValid,\n      ajvErrors: getLocalizedAjvErrors(key, validate.errors),\n      type: 'resource',\n      context: {\n        isOrphanResource: orphanResourceUuids.includes(resource.uuid),\n      },\n      invalidCounterBy: await dispatch('computeInvalidResourcesBy', {errors: validate.errors, resource}),\n    })\n\n    dispatch('cleanBackendAjvErrorsBasedOnFrontend', {\n      type: 'resource',\n      id: resource.uuid,\n      frontendAjvErrors: validate.errors,\n    })\n\n    debugValidationStatus(state.validationStatuses[key], 'resource validation status')\n    return state.validationStatuses[key]\n  },\n\n  /**\n   * Resources may have unsupported values, so we should only validate:\n   * - values which correspond to supported modes (provided by user)\n   * - values which correspond to supported content type: ['TEXT', 'AUDIO'] (hard coded in UI, see ResourceEditor component)\n   * - values which correspond to supported languages\n   *\n   */\n  async validate_resourcesOnSupportedValues(\n    {dispatch, getters},\n    {resources, supportedModes, supportedLanguages}: {resources: IResource[], supportedModes: SupportedMode[], supportedLanguages: ILanguage[]},\n  ): Promise<void> {\n    if (!resources) {\n      return\n    }\n\n    const resourcesWithSupportedValues = map(resources, (resource: IResource) => {\n      const resourceWithNewValues = cloneDeep(resource)\n      // only get values having supported modes and values which content type is supported by the UI\n      resourceWithNewValues.values = filter(\n        resource.values,\n        (v) => {\n          const hasSupportedLang = includes(map(supportedLanguages, 'id'), v.language_id)\n          const isChoiceResource = v.mime_type === getters.choiceMimeType\n          const hasSupportedMode = !isEmpty(intersection(supportedModes, v.modes))\n          const hasContentType = includes([SupportedContentType.TEXT, SupportedContentType.AUDIO], v.content_type)\n\n          return isChoiceResource || (hasSupportedLang && hasSupportedMode && hasContentType)\n        },\n      )\n\n      return resourceWithNewValues\n    })\n\n    await Promise.all(\n      each(resourcesWithSupportedValues, async (currentResource) => {\n        await dispatch('validate_resource', {resource: currentResource})\n      }),\n    )\n  },\n\n  resetValidationStatuses({commit}, {key}: {key: string}): void {\n    commit('resetValidationStatuses', {key})\n  },\n\n  /**\n   * Compute how many resources are invalid and key them by mode and languageId\n   * eg:\n   * - if we have 02 languages FR, EN, 03 modes SMS, USSD, IVR, the 1st mode has a content on the 1st language\n   * - then, we expect {\"mode\":{\"SMS\":1,\"USSD\":2,\"IVR\":2},\"languageId\":{\"FR\":2,\"EN\":3}}\n   *\n   * @param getters\n   * @param rootGetters\n   * @param errors\n   * @param resource\n   */\n  async computeInvalidResourcesBy(\n    {getters, rootGetters},\n    {errors, resource}: {errors: ErrorObject[] | null, resource: IResource},\n  ): Promise<IInvalidResourcesCounterBy> {\n    const invalidCounterByMode: {[key: string]: number} = {}\n    const invalidCounterByLang: {[key: string]: number} = {}\n\n    const activeFlow = rootGetters['flow/activeFlow'] as IFlow\n    const flowLanguageIds = activeFlow.languages.map(language => language.id)\n    const flowModes = activeFlow.supported_modes\n\n    errors\n      ?.map(error => extractResourceVariantIndex(error.dataPath))\n      .filter(isNotUndefined)\n      .map(invalidVariantIndex => resource.values[invalidVariantIndex])\n      .filter(invalidVariant => invalidVariant.mime_type !== getters.choiceMimeType)\n\n      .forEach(invalidVariant => {\n        const languageId = invalidVariant.language_id\n        const mode = invalidVariant.modes[0]\n        if (!flowLanguageIds.includes(languageId) || !flowModes.includes(mode)) {\n          console.warn('A resource variant exists that has unsupported mode or language:', invalidVariant)\n          return\n        }\n        update(invalidCounterByMode, mode, (count: number) => (count ? count + 1 : 1))\n        update(invalidCounterByLang, languageId, (count: number) => (count ? count + 1 : 1))\n      })\n\n    return {\n      mode: invalidCounterByMode,\n      languageId: invalidCounterByLang,\n    } as IInvalidResourcesCounterBy\n  },\n}\n\nexport const validationStore: Module<IValidationState, IRootState> = {\n  namespaced: true,\n  state: stateFactory,\n  getters: validationGetters,\n  mutations: validationMutations,\n  actions: validationActions,\n}\n\nexport default validationStore\nexport * from './validationHelpers'\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NameEditor.vue?vue&type=style&index=0&id=d99c83b0&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Core_SetGroupMembershipBlock.vue?vue&type=style&index=0&id=7f8c8bb5&prod&lang=css&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerModeResourceEditor.vue?vue&type=style&index=0&id=6f3509c8&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadMonitor.vue?vue&type=style&index=0&id=60acf392&prod&lang=scss&\"","import {ActionContext, ActionTree, GetterTree, Module, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IChoice, findBlockWith, IBlock, IBlockExit, IResource, ValidationException} from '@floip/flow-runner'\nimport {IdGeneratorUuidV4} from '@floip/flow-runner/dist/domain/IdGeneratorUuidV4'\nimport {ISelectOneResponseBlock} from '@floip/flow-runner/dist/model/block/ISelectOneResponseBlock'\nimport Vue from 'vue'\nimport {cloneDeep, find, reject} from 'lodash'\nimport BaseBlockStore, {\n  actions as baseActions,\n  mutations as baseMutations,\n  getters as baseGetters,\n  IEmptyState,\n} from '@/store/flow/block-types/BaseBlockStore'\nimport {ValidationResults} from '@/lib/validations'\nimport {OutputBranchingType} from '@/components/interaction-designer/block-editors/BlockOutputBranchingConfig.model'\nimport * as ChoiceModule from '@/store/flow/block/choice'\nimport {escapeQuotes} from '@/components/interaction-designer/block-editors/choices/expressionTransformers'\n\nexport const BLOCK_TYPE = 'MobilePrimitives.SelectOneResponse'\n\nexport const getters: GetterTree<IEmptyState, IRootState> = {\n  ...baseGetters,\n  ...ChoiceModule.getters,\n}\n\nexport const mutations: MutationTree<IEmptyState> = {\n  ...baseMutations,\n  ...ChoiceModule.mutations,\n}\n\nconst actions: ActionTree<IEmptyState, IRootState> = {\n  ...baseActions,\n  ...ChoiceModule.actions,\n\n  addChoiceByResourceIdTo({rootGetters}, {blockId, resourceId}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'] }) {\n    const block: ISelectOneResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n    const resource: IResource = rootGetters['flow/resourcesByUuidOnActiveFlow'][resourceId]\n\n    if (resource == null) {\n      throw new ValidationException(`Unable to find resource for choice: ${resourceId}`)\n    }\n\n    // Do not attribute the resource if it has been done already\n    const existingChoiceByResource = find(block.config.choices, {prompt: resource.uuid})\n    if (existingChoiceByResource === undefined) {\n      const allChoices = block.config.choices\n      allChoices.push({\n        prompt: resource.uuid,\n      } as IChoice)\n    }\n  },\n\n  deleteChoiceByResourceIdFrom({dispatch, rootGetters}, {blockId, resourceId}: { blockId: IBlock['uuid'], resourceId: IResource['uuid'] }) {\n    const block: ISelectOneResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n    const newChoices = reject(block.config.choices, v => v.prompt === resourceId)\n    Vue.set(block.config, 'choices', newChoices)\n\n    if (block.vendor_metadata?.floip?.ui_metadata?.set_contact_property?.property_value_mapping !== undefined) {\n      Vue.delete(block.vendor_metadata.floip.ui_metadata.set_contact_property.property_value_mapping, resourceId)\n    }\n\n    dispatch('flow/block_updateContactPropertyAfterChoicesChange', {\n      blockId,\n    }, {root: true})\n  },\n\n  async reflowExitsFromChoices({dispatch, rootGetters}, {blockId}: { blockId: IBlock['uuid'] }) {\n    const block: ISelectOneResponseBlock = findBlockWith(blockId, rootGetters['flow/activeFlow']) as ISelectOneResponseBlock\n    const {config: {choices}, exits}: ISelectOneResponseBlock = block\n\n    // non-default exits; default should always be last\n    let exitsForChoices: IBlockExit[] = exits.slice(0, -1)\n\n    // reflow exits based on choices\n    await Promise.all(choices.map(async (choice, i) => {\n      // create new exit if it doesn't exist yet\n      if (exitsForChoices[i] == null) {\n        const uuid = await (new IdGeneratorUuidV4()).generate()\n        const exit: IBlockExit = await dispatch('flow/block_createBlockExitWith', {props: {uuid} as IBlockExit}, {root: true})\n        exitsForChoices.push(exit)\n      }\n\n      Object.assign(exitsForChoices[i], {\n        name: choice.name,\n        test: `@block.value = '${escapeQuotes(choice.name)}'`,\n      })\n    }))\n\n    // delete exits if not present in choices\n    exitsForChoices = reject(exitsForChoices, exit => {\n      const checkExist = find(choices, c => c.name === exit.name) === undefined\n\n      if (checkExist === true) {\n        console.debug('removing exit named', exit.name)\n      }\n\n      return checkExist\n    })\n\n    exits.splice(0, exits.length - 1, ...exitsForChoices)\n  },\n\n  /**\n   * Set choice's ivr expression on a given index\n   */\n  block_setChoiceIvrExpressionOnIndex(\n    {commit, state, dispatch},\n    {blockId, index, value}: { blockId: string, index: number, value: string },\n  ) {\n    commit('flow/block_updateConfigByPath', {\n      blockId,\n      path: `choices.[${index}].ivr_test.test_expression`,\n      value,\n    }, {root: true})\n  },\n\n  async createWith({getters, dispatch}, {props}: { props: { uuid: string } & Partial<ISelectOneResponseBlock> }) {\n    props.type = BLOCK_TYPE\n    const blankPromptResource = await dispatch('flow/flow_addBlankResourceForEnabledModesAndLangs', null, {root: true})\n    props.config = {\n      prompt: blankPromptResource.uuid,\n      choices: [],\n    }\n    props.vendor_metadata = {\n      floip: {\n        ui_metadata: {\n          branching_type: OutputBranchingType.EXIT_PER_CHOICE,\n          choices: {\n            // Prompt UUID -> ISelectOneResponseFloipUiMetadataChoice\n          },\n        },\n      },\n    }\n    return baseActions.createWith({getters, dispatch} as ActionContext<IEmptyState, IRootState>, {props})\n  },\n\n  async validateWithProgrammaticLogic(\n    _ctx: unknown,\n    {block}: {block: ISelectOneResponseBlock},\n  ): Promise<ValidationResults> {\n    console.debug('floip/SelectOneResponse/validateWithProgrammaticLogic()', `${block.type}`)\n    const errors: ValidationResults = []\n    const choiceValidationKey = '/config/choices'\n\n    // validationMax must be greater than validationMin\n    const allIvrTestExpressions = block.config.choices.map(choice => choice.ivr_test?.test_expression)\n    const duplicates = allIvrTestExpressions.filter(\n      (item, index) => item !== undefined && allIvrTestExpressions.indexOf(item) !== index,\n    )\n    if (duplicates.length > 0) {\n      errors.push([choiceValidationKey, 'duplicate-ivr-test-test_expression'])\n    }\n\n    // should not have duplicate choices\n    const allChoiceNames = block.config.choices.map(choice => choice.name)\n    const duplicatedChoiceNames = allChoiceNames.filter(\n      (item, index) => item !== undefined && allChoiceNames.indexOf(item) !== index,\n    )\n    if (duplicatedChoiceNames.length > 0) {\n      errors.push([choiceValidationKey, 'duplicate-choice-names'])\n    }\n\n    return errors\n  },\n}\n\nconst MobilePrimitives_SelectOneResponseBlockStore: Module<IEmptyState, IRootState> = {\n  ...cloneDeep(BaseBlockStore),\n  getters,\n  mutations,\n  actions,\n}\n\nexport default MobilePrimitives_SelectOneResponseBlockStore\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PerLanguageResourceEditorRow.vue?vue&type=style&index=0&id=31b1520d&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceViewer.vue?vue&type=style&index=0&id=0c25d160&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PhoneRecordingRecorderSelector.vue?vue&type=style&index=0&id=0ed07710&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"error-handler-v2\"},[(_vm.languagesMissing)?_c('import-matcher',{staticClass:\"mt-2\",attrs:{\"existing-options-without-match\":_vm.existingLanguagesWithoutMatch,\"missing-matches\":_vm.missingLanguages,\"match-not-found-text\":\"flow-builder.match-for-languages-not-found\",\"type\":\"language\",\"type-id\":\"id\",\"type-label\":\"label\"},on:{\"reactToMatch\":_vm.handleMatchLanguage}}):_vm._e(),(_vm.propertiesMissing)?_c('import-matcher',{staticClass:\"mt-2\",attrs:{\"existing-options-without-match\":_vm.existingPropertiesWithoutMatch,\"missing-matches\":_vm.missingProperties,\"match-not-found-text\":\"flow-builder.match-for-properties-not-found\",\"type\":\"property\",\"type-id\":\"name\",\"type-label\":\"name\"},on:{\"reactToMatch\":_vm.handleMatchProperty}}):_vm._e(),(_vm.groupsMissing)?_c('import-matcher',{staticClass:\"mt-2\",attrs:{\"existing-options-without-match\":_vm.existingGroupsWithoutMatch,\"missing-matches\":_vm.missingGroups,\"match-not-found-text\":\"flow-builder.match-for-groups-not-found\",\"type\":\"group\",\"type-id\":\"id\",\"type-label\":\"group_name\"},on:{\"reactToMatch\":_vm.handleMatchGroup}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"error-handler-v2\">\n    <import-matcher\n      v-if=\"languagesMissing\"\n      :existing-options-without-match=\"existingLanguagesWithoutMatch\"\n      :missing-matches=\"missingLanguages\"\n      class=\"mt-2\"\n      match-not-found-text=\"flow-builder.match-for-languages-not-found\"\n      type=\"language\"\n      type-id=\"id\"\n      type-label=\"label\"\n      @reactToMatch=\"handleMatchLanguage\" />\n    <import-matcher\n      v-if=\"propertiesMissing\"\n      :existing-options-without-match=\"existingPropertiesWithoutMatch\"\n      :missing-matches=\"missingProperties\"\n      class=\"mt-2\"\n      match-not-found-text=\"flow-builder.match-for-properties-not-found\"\n      type=\"property\"\n      type-id=\"name\"\n      type-label=\"name\"\n      @reactToMatch=\"handleMatchProperty\" />\n    <import-matcher\n      v-if=\"groupsMissing\"\n      :existing-options-without-match=\"existingGroupsWithoutMatch\"\n      :missing-matches=\"missingGroups\"\n      class=\"mt-2\"\n      match-not-found-text=\"flow-builder.match-for-groups-not-found\"\n      type=\"group\"\n      type-id=\"id\"\n      type-label=\"group_name\"\n      @reactToMatch=\"handleMatchGroup\" />\n  </div>\n</template>\n\n<script>\nimport {mapActions, mapGetters, mapState} from 'vuex'\nimport Lang from '@/lib/filters/lang'\nimport ImportMatcher from './ImportMatcher.vue'\n\nexport default {\n  name: 'FullImportMatcher',\n  components: {\n    ImportMatcher,\n  },\n  mixins: [Lang],\n  computed: {\n    ...mapState('flow/import', [\n      'missingLanguages',\n      'missingProperties',\n      'missingGroups',\n      'existingLanguagesWithoutMatch',\n      'existingPropertiesWithoutMatch',\n      'existingGroupsWithoutMatch',\n    ]),\n    ...mapGetters('flow/import', [\n      'languagesMissing',\n      'propertiesMissing',\n      'groupsMissing',\n    ]),\n  },\n  methods: {\n    ...mapActions('flow/import', [\n      'matchLanguage',\n      'matchProperty',\n      'matchGroup',\n    ]),\n    handleMatchLanguage(oldLanguage, matchingNewLanguage) {\n      this.matchLanguage({oldLanguage, matchingNewLanguage})\n    },\n    handleMatchProperty(oldProperty, matchingNewProperty) {\n      this.matchProperty({oldProperty, matchingNewProperty})\n    },\n\n    handleMatchGroup(oldGroup, matchingNewGroup) {\n      this.matchGroup({oldGroup, matchingNewGroup})\n    },\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FullImportMatcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FullImportMatcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullImportMatcher.vue?vue&type=template&id=2bbce29e&scoped=true&\"\nimport script from \"./FullImportMatcher.vue?vue&type=script&lang=js&\"\nexport * from \"./FullImportMatcher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bbce29e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}