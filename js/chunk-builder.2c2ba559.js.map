{"version":3,"sources":["webpack:///./node_modules/get-intrinsic/index.js","webpack:///./src/store/clipboard/index.ts","webpack:///./src/store/flow/resource.ts","webpack:///./src/store/flow/index.ts","webpack:///./src/store/index.ts","webpack:///./src/components/interaction-designer/clipboard/ClipboardRoot.vue","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Message.vue","webpack:///./src/components/interaction-designer/clipboard/shared/PromptKindMixin.ts","webpack:///./src/components/interaction-designer/clipboard/shared/BlockActionButtons.vue","webpack:///./src/components/interaction-designer/clipboard/shared/BlockActionButtons.vue?8571","webpack:///./src/components/interaction-designer/clipboard/shared/BlockActionButtons.vue?5dbb","webpack:///./src/components/interaction-designer/clipboard/shared/BlockActionButtons.vue?5c13","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Message.vue?3929","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Message.vue?77fc","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Message.vue?5e45","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Numeric.vue","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Numeric.vue?2359","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Numeric.vue?4329","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Numeric.vue?4d1d","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Open.vue","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Open.vue?9297","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Open.vue?3aff","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/Open.vue?4fd7","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectOne.vue","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectOne.vue?ea2e","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectOne.vue?8c21","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectOne.vue?930b","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectMany.vue","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectMany.vue?892d","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectMany.vue?00d2","webpack:///./src/components/interaction-designer/clipboard/prompt-kinds/SelectMany.vue?e371","webpack:///./src/components/interaction-designer/clipboard/shared/UnsupportedBlock.vue","webpack:///./src/components/interaction-designer/clipboard/shared/UnsupportedBlock.vue?00e1","webpack:///./src/components/interaction-designer/clipboard/shared/UnsupportedBlock.vue?5880","webpack:///./src/components/interaction-designer/clipboard/shared/UnsupportedBlock.vue?4874","webpack:///./src/components/interaction-designer/clipboard/ClipboardRoot.vue?fcd1","webpack:///./src/components/interaction-designer/clipboard/ClipboardRoot.vue?cdae","webpack:///./src/components/interaction-designer/clipboard/ClipboardRoot.vue?59cb","webpack:///./src/components/interaction-designer/block-types lazy ^\\.\\/.*Block\\.vue$ namespace object","webpack:///./node_modules/function-bind/index.js","webpack:///./src/views/InteractionDesigner.vue?9a08","webpack:///./node_modules/has-symbols/shams.js","webpack:///./node_modules/lodash/_baseEvery.js","webpack:///./src/views/InteractionDesigner.vue?e57a","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/every.js","webpack:///./node_modules/object-inspect/index.js","webpack:///./src/store/trees/10-trees-model.js","webpack:///./node_modules/call-bind/index.js","webpack:///./node_modules/qs/lib/stringify.js","webpack:///./node_modules/qs/lib/index.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lang.js/src/lang.js","webpack:///./node_modules/has-symbols/index.js","webpack:///./node_modules/side-channel/index.js","webpack:///./node_modules/call-bind/callBound.js","webpack:///./node_modules/lodash/fp/every.js","webpack:///./src/components/interaction-designer/clipboard/ClipboardRoot.vue?f82c","webpack:///./node_modules/lodash/_arrayEvery.js","webpack:///./node_modules/function-bind/implementation.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./src/store/trees/audio.js","webpack:///./src/views/ImportFlow.vue","webpack:///./src/store/flow/views/import.ts","webpack:///./src/views/ImportFlow.vue?bfb9","webpack:///./src/views/ImportFlow.vue?c6e0","webpack:///./src/views/ImportFlow.vue?328e","webpack:///./src/store/common/flight-monitor.js","webpack:///./src/store/trees/trees.js","webpack:///./src/views/FetchFlow.vue","webpack:///./src/views/FetchFlow.vue?df6d","webpack:///./src/views/FetchFlow.vue?6539","webpack:///./src/views/FetchFlow.vue?f8c3","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/qs/lib/parse.js","webpack:///./node_modules/has/src/index.js","webpack:///./src/views/ImportFlow.vue?113b","webpack:///./src/store/trees/bootstrap-legacy-global-dependencies.js","webpack:///./node_modules/qs/lib/formats.js","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?4cbc","webpack:///./src/views/Home.vue?3475","webpack:///./src/views/Home.vue?db79","webpack:///./src/views/InteractionDesigner.vue?551a","webpack:///./src/store/trees/12-trees-helpers.js","webpack:///./node_modules/qs/lib/utils.js","webpack:///./src/views/Home.vue?c663","webpack:///./node_modules/bootstrap-datetimepicker/src/js/bootstrap-datetimepicker.js","webpack:///./src/views/NewFlow.vue","webpack:///./src/views/NewFlow.vue?d794","webpack:///./src/views/NewFlow.vue?760a","webpack:///./src/views/NewFlow.vue?23bc","webpack:///./src/components/interaction-designer/clipboard/shared/BlockActionButtons.vue?2cda","webpack:///./src/views/InteractionDesigner.vue","webpack:///./src/views/InteractionDesigner.vue?2cfb","webpack:///./src/views/InteractionDesigner.vue?3d8b"],"names":["undefined","$SyntaxError","SyntaxError","$Function","Function","$TypeError","TypeError","getEvalledConstructor","expressionSyntax","e","$gOPD","Object","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","arguments","get","gOPDthrows","hasSymbols","getProto","getPrototypeOf","x","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","Array","ArrayBuffer","Symbol","iterator","Atomics","BigInt","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","Map","Math","Number","parseFloat","parseInt","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","name","value","fn","prototype","gen","LEGACY_ALIASES","bind","hasOwn","$concat","call","concat","$spliceApply","apply","splice","$replace","replace","$strSlice","slice","rePropName","reEscapeChar","stringToPath","string","first","last","result","match","number","quote","subString","length","getBaseIntrinsic","allowMissing","alias","intrinsicName","module","exports","parts","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","i","isOwn","part","desc","stateFactory","isSimulatorActive","blocksData","getters","state","getBlockPrompt","index","prompt","isBlockFocused","isFocused","mutations","setSimulatorActive","setIsFocused","actions","commit","resetBlocksData","data","setLastBlockUnEditable","lastIndex","setLastBlockEditable","addToBlocksData","push","removeFromBlocksData","store","namespaced","resourcesByUuidOnActiveFlow","_state","activeFlow","resources","resourceUuidsOnActiveFlow","map","res","uuid","nonOrphanResourceUuidsOnActiveFlow","results","blocks","forEach","block","union","findBlockRelatedResourcesUuids","orphanResourceUuidsOnActiveFlow","difference","resource_addOnFlow","flowId","resource","findFlowWith","resource_createVariantOnFlow","resourceId","variant","flow","findResourceWith","values","cloneDeep","resource_removeVariantsOnFlow","variants","filter","includes","resource_setValueOnFlow","findResourceVariantOverModesWith","resource_setModesOnFlow","modes","isEmpty","ValidationException","resource_add","resource_createVariant","resource_removeVariants","resource_setValue","resource_setModes","_context","props","defaults","resource_setOrCreateValueModeSpecific","dispatch","assign","resource_setValueModeSpecific","mode","without","flowGetters","blockGetters","resourceGetters","flowMutations","blockMutations","resourceMutations","flowActions","blockActions","resourceActions","modules","builder","validation","trees","audio","clipboard","undoRedo","render","_vm","this","_c","_self","_setupProxy","staticClass","_v","_s","_f","on","closeSimulator","_l","blockData","key","class","config","kind","tag","attrs","context","goNext","isComplete","onEditComplete","scopedSlots","_u","cursorChangeInProgress","_e","label","proxy","content","unsupportedBlockName","staticRenderFns","_t","editBlockCommon","submitAnswer","isBlockInteraction","onCancelCommon","clipboardVuexNamespace","namespace","PromptKindMixin","Vue","constructor","errorMsg","checkIsValid","validate","message","__decorate","Prop","Getter","Action","Component","$event","stopPropagation","clickCancel","isDisabled","onNextClicked","primaryButtonText","BlockActionButtons","mixins","Lang","onCancelClicked","type","required","component","Message","submitAnswerCommon","components","editBlock","directives","rawName","enteredValue","expression","min","max","domProps","target","composing","onCancel","Numeric","backUpValue","Open","options","option","selectedItem","_q","SelectOne","mounted","setOptions","choices","choice","Context","getResource","getText","console","warn","selectedChoices","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","SelectMany","blockName","UnsupportedBlock","flowVuexNamespace","ClipboardRoot","created","initializeFlowRunner","promptId","hasText","flowState","currentFlowsState","contact","id","groups","userId","orgId","flows","languageId","SupportedMode","OFFLINE","createContextDataObjectFor","runner","FlowRunner","cursor","run","split","backtracking","behaviours","basicBacktracking","seekSteps","seek","destroyed","webpackAsyncContext","req","resolve","then","__webpack_require__","o","code","keys","implementation","getOwnPropertySymbols","obj","sym","symObj","toString","symVal","getOwnPropertyNames","syms","propertyIsEnumerable","descriptor","enumerable","baseEach","baseEvery","collection","predicate","registerHooks","flowNamespace","builderNamespace","clipboardNamespace","validationVuexNamespace","DEBOUNCE_VALIDATION_TIMER_MS","InteractionDesigner","Routes","debounceFlowValidation","debounce","async","newFlow","debug","mainComponent","validate_flow","validate_resourcesOnSupportedValues","supportedModes","supported_modes","supportedLanguages","languages","debounceBlockValidation","validate_allBlocksWithinFlow","toolbarHeight","pureVuejsBlocks","simulateClipboard","newBlocks","oldBlocks","newResources","oldResources","selectedBlock","isPureVueBlock","$store","v","k","hasModule","registerModule","onModeChanged","newMode","updateIsEditableFromParams","onMainComponentChanged","newMainComponent","setActiveMainComponent","activated","deselectBlocks","appConfig","builderConfig","isConfigured","configure","global","subscribe","handleFlowChanges","initializeTreeModel","window","addEventListener","onScroll","registerBlockTypes","flow_setActiveFlowId","$router","path","route","query","nextUrl","$route","fullPath","isBuilderCanvasEnabled","discoverTallestBlockForDesignerWorkspaceHeight","aboveTallest","setTimeout","blockId","field","params","activateBlock","scrollBlockIntoView","scrollBehavior","meta","isBlockEditorShown","setIsBlockEditorOpen","beforeDestroy","removeEventListener","$refs","setInteractionDesignerHeaderBoundingClientRect","getBoundingClientRect","handleRouteUpdate","to","blockClasses","blockInstallers","blockClass","normalizedType","typeWithoutSeparators","uiComponent","install","exported","default","invoke","all","handleCanvasSelected","classList","contains","replaceRouteInHistory","isFlowEditorShown","isEditableLocked","app","ui","isEditable","discoverIsEditableFrom","hash","setIsEditable","endsWith","showOrHideSidebar","history","payload","startsWith","setHasFlowChanges","Watch","deep","immediate","State","tree","designerWorkspaceHeight","details","hasVoice","hasSms","hasUssd","hasSocial","hasClipboard","Mutation","baseFor","baseForOwn","object","iteratee","arrayEvery","baseIteratee","isIterateeCall","every","guard","func","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","hasWeakMap","weakMapHas","has","hasWeakSet","weakSetHas","hasWeakRef","weakRefDeref","deref","booleanValueOf","valueOf","objectToString","functionToString","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","gPO","O","inspectCustom","custom","inspectSymbol","isSymbol","toStringTag","wrapQuotes","s","defaultStyle","opts","quoteChar","quoteStyle","toStr","isDate","isRegExp","isError","isString","isNumber","isBoolean","isBigInt","inspect_","depth","seen","maxStringLength","Infinity","customInspect","indent","inspectString","maxDepth","getIndent","indexOf","inspect","from","noIndent","newOpts","nameOf","arrObjKeys","join","symString","markBoxed","isElement","nodeName","toLowerCase","attributes","childNodes","xs","singleLineValues","indentedJoin","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","ys","isPlainObject","protoTag","stringTag","constructorTag","hasOwnProperty","f","m","l","HTMLElement","getAttribute","str","remaining","trailer","lowbyte","c","n","charCodeAt","8","9","10","12","13","toUpperCase","size","entries","joinedEntries","baseIndent","base","prev","lineJoiner","isArr","symMap","test","j","Tree","attr","toJSON","_","clone","floipSyncedAt","title","description","enabledLanguages","syncedLanguage","startingBlockKey","exitBlockKey","floipPushUrl","floipPushApiKey","connections","_defaultReviewedState","upgrade","time","fixArrayBlocks","defaultEnabledLanguages","defaultSyncedLanguage","inflateDefaultReviewedStateOnAll","inflateDefaultTagsOnAll","inflateDefaultLabelOnAll","upgradeLanguageSelectorBlocks","inflateDefaultSocialContentOnAll","inflateDefaultClipboardContentOnAll","upgradeSubscriberPropertyFieldSelections","upgradeMsmcqBranchingToFalse","upgradeSubscriberPropertyBlocks","upgradeSubscriberBranchBlocks","timeEnd","cacheDefaultReviewedState","getEnabledLanguages","zipObject","fill","inflateDefaultReviewedStateOnto","customData","reviewed","approved","tags","languageSelectorBlock","addExitForNoResponse","socialContent","clipboardContent","propertyFieldId","property","findSubscriberPropertyField","display_label","customDataCategory","branching","uiData","numChoices","numConnections","outputNames","action","propertyDateMethod","startDateMethod","propertyDateAbsoluteDate","startDateAbsoluteDate","propertyDateRelativeNumber","startDateRelativeNumber","propertyDateTimespanType","startDateTimespanType","propertyDateNumericBlockKey","startDateNumericBlockKey","propertyField","upgradedFromStartDate","$set","startDateReference","neededFixing","fixedCount","each","arrayKeys","log","change","doesBlockLabelExist","comparatorKey","chain","find","jsKey","addBlock","makeUniqueId","setStartingBlock","getBlockByNumericIndex","blockKey","editBlockByNumericIndex","blockNumericIndex","arrayKey","extend","set","getBlock","findWhere","thisBlock","setBlockPosition","positionData","xPosition","yPosition","getBlockPosition","getBlockNumConnections","filterBlockConnectionsAboveMax","maxConnections","where","startBlockKey","nodeNumber","outputKey","removeConnection","setBlockAudioFile","audioData","audioFiles","removeBlockAudioFile","getBlockKeys","getNextBlockKey","lastKey","deleteBlock","clearStartingBlockIfIs","clearExitBlockIfIs","handleDeleteNumericQuestionBlockAssociations","selectedBlockKey","newBlock","_getAmendmentsForNumericBranchBlock","_getAmendmentsForIdValidationBlock","outputs","reduce","newOutputs","output","newConditions","conditions","condition","newCondition","numericQuestionBlockJsKey","prefix","now","random","getMcqChoiceName","choiceId","getBlockTitle","generateBlockTitle","limit","treeTitles","destinationTreeId","trans","treeSetTitles","destinationTreeSetId","groupNames","groupId","displayLabel","comparator","comparatorString","languageNames","languageValue","S","truncate","addConnection","endBlockKey","connection","addEnabledLanguage","languageKey","newEnabledLanguages","intersection","pluck","removeEnabledLanguage","enableVoice","disableVoice","enableSms","disableSms","enableUssd","disableUssd","enableSocial","disableSocial","enableClipboard","disableClipboard","validateLanguageAndContentTypes","missingLanguageIdsAudioFiles","missingLanguageIdsSmsContent","missingLanguageIdsUssdContent","missingLanguageIdsSocialContent","missingLanguageIdsClipboardContent","hasContent","smsContent","ussdContent","sms","voice","ussd","social","validateContent","updateFloipAlert","jQ","html","val","getEndBlockPosition","topOrBottom","returnBlockKey","offset","tallestYPosition","tallestBlockKey","thisYPosition","getTallestBlockPosition","getShortestBlockPosition","getTallestBlockKey","getShortestBlockKey","_blockIdPrefixMatcher","_validateNonExistentBlockReferences","keysToVerifiedMap","keysToExistsMap","validateKey","conn","extractedKey","exec","_mergeAndSanitizeImportedInto","treeJson","importJson","smsAutogenLangs","ussdAutogenLangs","socialAutogenLangs","clipboardAutogenLangs","importedEnabledLanguages","validLanguages","invalidLanguages","blockContentsToReview","contentPath","sanitizedContent","omit","orgContentBlockTypeKeys","SubscriberBranchBlock","GroupBranchBlock","GroupSizeBranchBlock","SubscriberPropertyBlock","GroupPropertyBlock","BillSubscriberBlock","TriggerOutgoingCallBlock","LanguageSelectorBlock","CallHistoryBranchBlock","DirectorySelectionBlock","OpenQuestionBlock","RandomOrderMultipleChoiceQuestionBlock","MultipleChoiceQuestionBlock","NumericQuestionBlock","CollaborativeFilteringRatingBlock","CollaborativeFilteringRatioBranchBlock","validateTreeData","json","schema","Ajv","ValidationError","coerceTypes","compile","errors","keyword","dataPath","createJsonSchemaFor","blockTypes","properties","items","enum","repeatKey","repeatMax","repeatDelay","repeat","GetIntrinsic","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","configurable","applyBind","getSideChannel","utils","formats","arrayPrefixGenerators","brackets","comma","indices","pushToArray","arr","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","allowDots","charset","charsetSentinel","delimiter","encode","encoder","encodeValuesOnly","format","formatter","formatters","serializeDate","date","skipNulls","strictNullHandling","isNonNullishPrimitive","stringify","generateArrayPrefix","sort","sideChannel","maybeMap","isBuffer","keyValue","objKeys","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","joined","parse","createBaseEach","root","factory","inferLocale","document","documentElement","lang","convertNumber","intervalRegexp","anyIntervalRegexp","locale","fallback","messages","setMessages","getLocale","setLocale","getFallback","setFallback","_getMessage","replacements","_applyReplacements","count","messageParts","explicitRules","trim","messageSpaceSplit","shift","_testInterval","_getLocale","pluralForm","_getPluralForm","transChoice","_parseKey","segments","source","sourceFallback","subKey","_getValueInKey","currentKey","restOfTheKey","_findMessageInTree","pathSegments","dottedKey","_sortReplacementKeys","a","b","allCaps","firstCap","letter","charAt","interval","matches","leftDelimiter","leftNumber","rightNumber","rightDelimiter","origSymbol","hasSymbolSham","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","list","curr","next","listGet","objects","node","listSet","listHas","$wm","$m","$o","channel","assert","callBind","$indexOf","convert","placeholder","array","ERROR_MESSAGE","funcType","that","bound","args","binder","boundLength","boundArgs","Empty","createBaseFor","defaultsDeep","library","recording","isCalling","isRecorderSelectorVisible","recorders","availableAudioFiles","availableAudiosByUri","keyBy","addRecorder","recorder","uniqBy","pushAudioIntoLibrary","setRecordingStatusFor","status","setAudioRecordingConfigVisibilityForSelectedBlock","langId","isVisible","setAudioRecordingConfigVisibilityFor","startAudioRecordingFor","rootState","recorder_name","phone","recorder_phonenumber","isNew","is_new_recorder","axios","post","routeFrom","routes","headers","queue_id","queueId","status_description","recorder_id","catch","error","response","request","fetchAudioRecordingStatusFor","audio_file_id","created_at","duration_seconds","extractLangIdFromRecordingKey","extension","uploadedAudio","filename","language_id","original_extension","content_type","SupportedContentType","AUDIO","IVR","fetchStatusDelayMap","in_progress","queued","listen_to_recording","sending_audio_to_cn","processing","discard_and_record","hasImportFlowTitle","uploadOrPaste","chooseFile","flowJsonText","ref","handleFileUpload","fileName","flowJson","setUpdatingAndHandleFlowJsonTextChange","disableContinue","flowUUID","preventDefault","handleImportFlow","TRUE_AJV_ERROR_KEY_WORDS","TRUE_AJV_ERROR_DATA_PATH_PART","flowSpecVersion","hasSomethingToImport","languagesMissing","missingLanguages","propertiesMissing","missingProperties","groupsMissing","missingGroups","isSafeToImport","containerImportValidationTrueErrors","hasWarnings","containerImportValidationWarningErrors","containerImportValidationErrors","ajvError","some","pathPart","validationStatuses","container_import","ajvErrors","setUpdating","updatingStatus","updating","baseReset","flowContainer","propertyBlocks","groupBlocks","resetLanguageMatching","matchingLanguages","existingLanguagesWithoutMatch","resetPropertyMatching","blocksMissingProperties","existingPropertiesWithoutMatch","resetGroupMatching","matchingGroups","blocksMissingGroups","existingGroupsWithoutMatch","addMissingLanguage","language","setMissingLanguages","setMatchingLanguages","setExistingLanguagesWithoutMatch","setImportedFlowLanguages","setImportedFlowResources","addFlowLanguage","setFlowJsonText","text","setFlowContainer","setFlowContainerBlocks","setFlowSpecVersion","version","setGroupBlocks","setPropertyBlocks","setBlocksMissingProperties","setMissingProperties","setMatchingProperties","matchingProperties","setExistingPropertiesWithoutMatch","setBlocksMissingGroups","setMissingGroups","setMatchingGroups","setExistingGroupsWithoutMatch","hasProgrammaticError","specification_version","oldFlowContainer","newFlowContainer","detectedLanguageChanges","newPropertyBlocks","getPropertyBlocks","detectedPropertyChanges","oldPropertyBlocks","newGroupBlocks","getGroupBlocks","detectedGroupChanges","oldGroupBlocks","rootGetters","isValid","supportedSpecVersions","supportedFlowSpecVersionsForImport","uploadedBlockTypes","uniq","unsupportedBlockClasses","unsupportedBlockClassesList","uploadLanguages","matchingLanguage","orgLanguage","isEqual","differenceWith","propertyBlock","propertyIdentifier","matchingProperty","subscriberPropertyFields","orgProperty","blockIds","groupBlock","groupIdentifier","groupName","matchingGroup","orgGroup","group_name","matchLanguage","oldLanguage","matchingNewLanguage","updateResourcesForLanguageMatch","reject","matchProperty","oldProperty","matchingNewProperty","blockIndex","findIndex","newBlocksMissingProperties","matchGroup","oldGroup","matchingNewGroup","newBlocksMissingGroups","importVuexNamespace","ImportFlow","uploadOrPasteSetting","debounceHandleFlowJsonTextChange","handleFlowJsonTextChange","ImportStore","flow_resetStates","reset","setFlowJson","createContainerFlowStackAndReturnLastItem","fileInput","file","click","event","selectedFile","files","reader","FileReader","onload","readEvent","readAsText","flow_persistImport","persistRoute","numberOfFlows","notificationMessage","$toast","success","timeout","hideProgressBar","resetValidationStatuses","ErrorHandlerV2","Statuses","PENDING","UNINITIALIZED","SUCCESS","FAILURE","flights","create","promise","cancellation","progress","cancel","lodash","previousFlight","flight","uniqueId","createCancellableXhr","token","CancelToken","paramsSerializer","p","qs","cancelToken","onUploadProgress","onDownloadProgress","resetStatus","cancelAll","hasPendingFlight","_every","cap","validationResults","super","callCenterQueues","previousTreeJson","originalTreeJsonValidationResults","currentZoom","treeUpdateConflict","enabledFeatures","isSaveCurrentlyInProgress","blockTags","isFeatureCallCenterQueuesEnabled","feature","isFeatureCallToRecordEnabled","isFeatureMultimediaUploadEnabled","isFeatureAddSubscriberPropertyFieldEnabled","isFeatureFloipPushEnabled","isFeatureTreeSaveEnabled","isFeatureAddLanguageOnImportEnabled","isFeatureTreeSendEnabled","isFeatureTreeDuplicateEnabled","isFeatureTreeViewVersionsEnabled","isFeatureTreeDuplicateOfEnabled","isResourceViewerEnabled","isFeatureUpdateInteractionTotalsEnabled","isFeatureAudioUploadEnabled","isFeatureSimulatorEnabled","isFeatureViewResultsEnabled","hasCreateFlowTitle","hasToolbarFlowTitle","hasToolbarHomeButton","hasToolbarNewFlowButton","hasToolbarExportButton","builderWidthAdjustment","subscriberPropertyFieldDataTypesMapping","interactiveBlockClasses","pickBy","is_interactive","interactiveBlocksInTree","hasChanges","hasIssues","originalValidationResults","validationResultsFromPageLoad","hasSavedSinceLoad","isTreeSaving","isSelectedBlockSupportedForSummary","canSelectedBlockSetSubscriberProperty","isBlockAvailableByBlockClass","mapValues","contentTypesToEnabledStatus","isEnabled","contentType","startCase","isTreeValid","jsonValidationResults","treeTitle","treeCreatedAt","createdAt","treeEditedAt","editedAt","treeUpdatedAt","updatedAt","defaultModes","addOrgLanguage","newLanguage","setTreeSaving","isSaving","__AUDIO__","__TREES_UI__","uiOverrides","__APP__","appContext","bootstrapLegacyGlobalDependencies","merge","originalTreeJson","setWorkingTree","treeData","setDesignerWorkspaceHeight","height","setSelectedBlock","updateTreeDetailsWith","updateBlockCustomDataFor","updateBlockCustomDataWithNestedKeyFor","nestedKey","updateBlockUiDataFor","updateMaxNumericDigits","updateBlockContentFor","updateBlockFileContentFor","fileUrl","fileId","fileType","mimeType","updateBlockFileContentForAllLanguages","initBlockAutoGenStateFor","updateBlockAutoGenStateFor","enable","absent","updateReviewedStateFor","updateIsEditable","addEnabledFeature","removeEnabledFeature","item","setContentTypeEnabled","upperFirst","addSubscriberPropertyField","addContactGroup","group","setTreeUpdateConflictStatus","setInteractionTotals","interactionTotals","validationErrors","info","isTreeImport","require","initializeTreeModelFromOriginalTreeJson","initializeTreeModelFromImport","importTreeJson","hasImportValidationErrors","upgradeTreeModel","buffer","initialHeight","minHeight","uiChanged","msg","dataControl","_setValidationResultsForUI","send","__TREE_FEATURES__","setDefaultBlockRepeatValues","updateTextContent","disableAutoGen","setContentFromQuestionText","isFirst","maxDigits","generatedText","grammar","EN","starter","connector","separator","conclusion","numericStart","numericEndPlural","numericEndSingular","validationCode","setBlockNumConnections","newNumConnections","lockConnections","range","setMcqOutputNames","isOutputBranchingEnabled","langJs","isNoResponseExitEnabled","setMcqSidebarFieldLabels","isMCQBlock","isVoiceEnabled","isTextChannelEnabled","hasChoiceKeypresses","choiceKeypresses","fieldLabels","getChoiceKeyPressesFor","times","constant","dataType","startDate","endDate","url","treeId","keypresses","showNewButton","flowLink","FetchFlow","URL","location","origin","urlParams","searchParams","baseFetchRoute","fetchRoute","flow_fetch","validate_allBlocksFromBackend","isArrayLike","eachFunc","fromRight","iterable","keysFunc","eq","isIndex","isObject","allowPrototypes","allowSparse","arrayLimit","decoder","decode","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","$0","numberStr","fromCharCode","parseArrayValue","isoSentinel","parseValues","cleanStr","skipIndex","bracketEqualsPos","pos","encodedVal","combine","parseObject","valuesParsed","leaf","cleanRoot","0","parseKeys","givenKey","child","segment","parent","normalizeParseOptions","tempObj","newObj","compact","__CONTEXT__","i18n","ImportedLang","defaultLocale","moment","ImportedMoment","jQuery","ImportedJquery","datetimepicker","percentTwenties","Format","RFC1738","RFC3986","scope","showAddLanguageModal","isExtraContentHidden","showExtraContent","_m","hideExtraContent","Home","changes","saveTimer","removeClassPrefix","blockClassName","substr","textNotification","noChange","changeLock","search","outputData","treeUpdatedConflict","audioChoice","setTopUpdatesBar","requestData","done","modal","show","backdrop","validation_results","fail","tree_id","responseJSON","always","finally","exportOptionsModal","initialize","exportOptionsTemplate","template","JST","append","handleInput","focus","select","pickTime","currentTarget","trigger","open","hide","buildUrl","isApiUrl","protocol","host","serialize","apiKey","shareableLinkModal","shareableLinkTemplate","sendRequest","switchView","publicId","setUrl","view","requestType","errorMessage","shareableLinkSetsModal","defaultLocales","orgEnabledLanguages","is","prop","initializeLinksList","shareableLinkListTemplate","switchToDeleteView","shareableLinkHash","switchAwayFromDeleteView","shareableLinkId","listElement","hasClass","addClass","children","removeClass","setLabelValues","startDateLabel","endDateLabel","channelLabel","labels","blocksLabel","versionFiltersEnabled","noValidDateRange","versionsSelected","versionsTotal","public_hash","channelFilter","includedBlocks","excludedBlocks","blockKeys","hiddenDirectorySelectionFields","lockDateRange","resultsLocale","showKeyMetrics","showBlockType","shouldShowResultsFromIncompleteEngagements","shouldOnlyShowLatestResultPerSession","shouldUseSimpleDatePicker","shouldUseCustomBlockOrdering","enabledTabs","el","tagFilter","directorySelectionFieldFilter","blockChoiceFilter","filterDisplayThreshold","customBlockOrder","toArray","memo","versions","tree_version_set_id","shareableLinks","unshift","csvExportsModal","csvExportTemplate","sendCreateRequest","setToDefault","recipeHumanReadable","recipeMachineReadable","recipeUserCustomised","getUserOptionsRecipe","fhd","fcc","vcq","vms","queueInProgress","sendStatusRequest","ajax","csvExports","order","formatHeadings","cellContents","messageBlockPercent","formatMCQResponses","treeVersionIds","mergeOption","useLocalTimezone","useExcelFormat","treeVersionSetId","thenAfter5s","add","delay","duration","diff","delayInMilliseconds","asMilliseconds","firstExportInProgress","upload_status","isFunction","sendStatusRequestDebounced","blockResultsLoader","load","nextBlockKeyToLoad","loadBlock","assignButtons","parentElement","targetType","continueLoading","shareableLink","pathname","htmlOutput","chartJsHelper","createCharts","blockResultsLoaderV2","loadKeyMetrics","filterSet","viamo","keymetrics","loadDonutChart","finishedDeliveryLogCount","deliveryLogCount","completedDeliveryLogCount","uniqueSubscriberCount","firstTimeSubscriberCount","completedQuestionCount","loadAvgCallDurations","responseText","keymetricName","chartNumerator","chartTotal","chartDenominator","chartDataSets","datasets","backgroundColor","hoverBackgroundColor","borderColor","updateTreeDoughnutChart","formatLargeNumber","durations","durationAvg","toPrecision","completedDurationAvg","css","loadBlocksInteractionsChart","barchartLabelsTruncated","barchartLabels","totalInteractionsBarchartData","completedInteractionsBarchartData","orderedCompletedInteractionsBarchartData","totalInteractionsOrderedBarchartData","colorIndexes","orderedColorIndexes","orderedBarchartLabelsTruncated","orderedBarchartLabels","resultsData","blockResult","truncatedBlockTitle","resultIndex","colorIndex","totalInteractions","completedInteractions","colorValue","blockTitle","substring","getChartChoiceColorsArray","outputKeys","acc","outputKeyTotals","sortedIndex","updateTreeBlocksInteractionsChart","fullLabels","borderWidth","hidden","$buttonClicked","barchartTarget","siblings","barchartDatasetTarget","listingChart","chartObjects","popularityChart","listingDatasets","popularityDatasets","isEnteredSelected","isCompletedSelected","update","tabTarget","tabLabel","closest","chartTarget","targetElement","doNormalize","combinedVersions","rightPosition","width","right","toggle","remove","input","submit","hexTable","compactQueue","queue","pop","compacted","arrayToObject","mergeTarget","targetItem","strWithoutPlus","unescape","defaultEncoder","escape","out","refs","mapped","$","orientation","DateTimePicker","element","dpgId","init","icon","pickDate","$element","dates","isInput","_compileFormat","timeIcon","dateIcon","widget","getTemplate","pick12HourFormat","appendTo","minViewMode","viewMode","startViewMode","weekStart","weekEnd","fillDow","fillMonths","fillHours","fillMinutes","fillSeconds","showMode","_attachDatePickerEvents","outerHeight","place","_date","_attachDatePickerGlobalEvents","collapse","collapseData","transitioning","_detachDatePickerGlobalEvents","formatted","_unset","formatDate","_resetMaskPos","setValue","newDate","parseDate","viewDate","UTCDate","getUTCFullYear","getUTCMonth","fillDate","fillTime","getDate","setDate","getLocalDate","d","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","setLocalDate","localDate","UTC","getFullYear","getMonth","getHours","getMinutes","getSeconds","getMilliseconds","top","left","notifyChange","dateStr","tmp","dowCnt","daysMin","monthsShort","year","month","currentDate","months","prevMonth","day","DPGlobal","getDaysInMonth","setUTCDate","getUTCDay","nextMonth","clsName","empty","currentYear","end","yearCont","table","current","padLeft","timeComponents","is12HourFormat","hour","period","minute","second","className","vd","navFnc","step","navStep","setUTCMonth","setUTCFullYear","incrementHours","setUTCHours","incrementMinutes","setUTCMinutes","incrementSeconds","setUTCSeconds","decrementHours","decrementMinutes","decrementSeconds","togglePeriod","showPicker","showHours","showMinutes","showSeconds","selectHour","tgt","selectMinute","selectSecond","doAction","rv","stopEvent","keydown","self","which","keypress","mask","_mask","_maskPos","pattern","start","character","_formatPattern","getTime","dir","destroy","_detachDatePickerEvents","removeData","formatReplacer","methodName","len","dateFormatComponents","parsed","_propertiesByIndex","_finishParsingDate","hours","minutes","seconds","milliseconds","UTCFullYear","UTCYear","UTCMonth","UTCHours","UTCMinutes","UTCSeconds","UTCMilliseconds","Hours12","Period12","propertiesByIndex","formatComponent","getPattern","escapeRegExp","$this","$parent","expanded","closed","toggleClass","maskInput","off","Constructor","en","days","daysShort","dd","MM","yy","yyyy","hh","mm","ss","ms","HH","PP","is12Hours","TPGlobal","isLeapYear","headTemplate","contTemplate","hourTemplate","minuteTemplate","secondTemplate","flowError","createFlowTitle","didUserSubmit","handlePersistFlow","NewFlow","flow_addBlankFlow","isActiveFlowConsideredValidOnCreationForm","flow_persist","activeFlowContainer","isSidebarShown","nativeOn"],"mappings":"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","file":"js/chunk-builder.2c2ba559.js","sourcesContent":["'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","import {ActionTree, GetterTree, Module, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IPrompt} from '@floip/flow-runner'\n\nexport interface BlocksData {\n  isFocused: boolean,\n  prompt: IPrompt,\n}\n\nexport interface IClipboardState {\n  isSimulatorActive: boolean,\n  blocksData: BlocksData[],\n}\n\nexport const stateFactory = (): IClipboardState => ({\n  isSimulatorActive: false,\n  blocksData: [],\n})\n\nexport const getters: GetterTree<IClipboardState, IRootState> = {\n  isSimulatorActive: (state) => state.isSimulatorActive,\n  blocksData: (state) => state.blocksData,\n  getBlockPrompt: (state) => (index: number) => state.blocksData[index].prompt,\n  isBlockFocused: (state) => (index: number) => state.blocksData[index].isFocused,\n}\n\nexport const mutations: MutationTree<IClipboardState> = {\n  setSimulatorActive(state, value) {\n    state.isSimulatorActive = value\n  },\n  setIsFocused(state, {index, value}) {\n    state.blocksData[index].isFocused = value\n  },\n}\n\nexport const actions: ActionTree<IClipboardState, IRootState> = {\n  setSimulatorActive({commit}, value) {\n    commit('setSimulatorActive', value)\n  },\n  resetBlocksData({state}) {\n    state.blocksData = []\n  },\n  setIsFocused({commit}, data) {\n    commit('setIsFocused', data)\n  },\n  setLastBlockUnEditable({commit, state}) {\n    const lastIndex = state.blocksData.length - 1\n    commit('setIsFocused', {index: lastIndex, value: false})\n  },\n  setLastBlockEditable({commit, state}) {\n    const lastIndex = state.blocksData.length - 1\n    commit('setIsFocused', {index: lastIndex, value: true})\n  },\n  addToBlocksData({state}, data: BlocksData) {\n    state.blocksData.push(data)\n  },\n  removeFromBlocksData({state}, index: number) {\n    state.blocksData.splice(index)\n  },\n}\n\nexport const store: Module<IClipboardState, IRootState> = {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n\nexport default store\n","import {\n  findFlowWith,\n  IBlock,\n  IContext,\n  IFlow,\n  IResource,\n  IResourceValue as IResourceDefinitionVariantOverModes,\n  SupportedMode,\n} from '@floip/flow-runner'\nimport {ValidationException} from '@floip/flow-runner/src/domain/exceptions/ValidationException'\nimport {cloneDeep, compact, defaults, difference, first, isEmpty, keyBy, map, union, without} from 'lodash'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IFlowsState} from '@/store/flow/index'\nimport {IRootState} from '@/store'\nimport {\n  findBlockRelatedResourcesUuids,\n  findResourceVariantOverModesWith,\n  findResourceWith,\n  IResourceDefinitionVariantOverModesFilter,\n} from '@/store/flow/utils/resourceHelpers'\n\nexport const getters: GetterTree<IFlowsState, IRootState> = {\n  resourcesByUuidOnActiveFlow: (_state, getters) => keyBy(getters.activeFlow?.resources, 'uuid'),\n\n  resourceUuidsOnActiveFlow: (_state, getters): IBlock['uuid'][] => compact(map(getters.activeFlow?.resources, (res) => res.uuid)) as IBlock['uuid'][],\n\n  nonOrphanResourceUuidsOnActiveFlow: (_state, getters): IBlock['uuid'][] => {\n    let results: IBlock['uuid'][] = []\n    getters.activeFlow?.blocks?.forEach((block: IBlock) => {\n      results = union(results, findBlockRelatedResourcesUuids({block}))\n    })\n\n    return results\n  },\n\n  orphanResourceUuidsOnActiveFlow: (_state, getters) => difference(\n    getters.resourceUuidsOnActiveFlow as IBlock['uuid'][],\n    getters.nonOrphanResourceUuidsOnActiveFlow as IBlock['uuid'][],\n  ),\n}\n\nexport const mutations: MutationTree<IFlowsState> = {\n  resource_addOnFlow(state, {flowId, resource}: {flowId: IFlow['uuid'], resource: IResource}) {\n    findFlowWith(flowId, state as unknown as IContext).resources.push(resource)\n  },\n\n  resource_createVariantOnFlow(\n    state,\n    {flowId, resourceId, variant}: {flowId: IFlow['uuid'], resourceId: string, variant: IResourceDefinitionVariantOverModes},\n  ) {\n    const flow = findFlowWith(flowId, state as unknown as IContext)\n    // append to given flow's resource\n    findResourceWith(resourceId, flow)\n      .values\n      .push(cloneDeep(variant))\n  },\n\n  resource_removeVariantsOnFlow(\n    state,\n    {flowId, resourceId, variants}: {flowId: IFlow['uuid'], resourceId: string, variants: IResourceDefinitionVariantOverModes[]},\n  ): void {\n    const flow = findFlowWith(flowId, state as unknown as IContext)\n    const resource = findResourceWith(resourceId, flow)\n    resource.values = resource.values.filter(value => !variants.includes(value))\n  },\n\n  resource_setValueOnFlow(\n    state,\n    {flowId, resourceId, filter, value}: {\n      flowId: IFlow['uuid'],\n      resourceId: string,\n      filter: IResourceDefinitionVariantOverModesFilter,\n      value: string,\n    },\n  ) {\n    const flow = findFlowWith(flowId, state as unknown as IContext)\n    findResourceVariantOverModesWith(resourceId, filter, flow)\n      .value = value || ''\n  },\n  // @note -- modes in this case does not tighten filter, but rather exists solely for update operation\n  resource_setModesOnFlow(\n    state,\n    {flowId, resourceId, filter, modes}:\n      {\n        flowId: IFlow['uuid'],\n        resourceId: string,\n        filter: IResourceDefinitionVariantOverModesFilter,\n      } & { modes: SupportedMode[] },\n  ) {\n    if (isEmpty(modes)) {\n      // todo: create type that requires both resourceId & modes with (N>1) entries\n      throw new ValidationException('`mode` is required to assign mode on `IResourceDefinitionVariantOverModes`.')\n    }\n\n    // todo: this should likely validate whether or not we're intersecting with other variants with this operation\n    //       eg. variants: [{modes: [a, b]}, {modes: [c]}] => variants[0].modes = [c]\n    const flow = findFlowWith(flowId, state as unknown as IContext)\n    findResourceVariantOverModesWith(resourceId, filter, flow)\n      .modes = modes\n  },\n}\n\nexport const actions: ActionTree<IFlowsState, IRootState> = {\n  resource_add({commit, getters}, {resource}: {resource: IResource}) {\n    commit('resource_addOnFlow', {flowId: getters.activeFlow.uuid, resource})\n  },\n\n  resource_createVariant(\n    {commit, getters},\n    {resourceId, variant}: {resourceId: IResource['uuid'], variant: IResourceDefinitionVariantOverModes},\n  ) {\n    commit('resource_createVariantOnFlow', {flowId: getters.activeFlow.uuid, resourceId, variant})\n  },\n\n  resource_removeVariants(\n    {commit, getters},\n    {resourceId, variants}: {resourceId: IResource['uuid'], variants: IResourceDefinitionVariantOverModes},\n  ) {\n    commit('resource_removeVariantsOnFlow', {flowId: getters.activeFlow.uuid, resourceId, variants})\n  },\n\n  resource_setValue(\n    {commit, getters},\n    {resourceId, filter, value}: {\n      resourceId: IResource['uuid'],\n      filter: IResourceDefinitionVariantOverModesFilter,\n      value: string,\n    },\n  ) {\n    commit('resource_setValueOnFlow', {flowId: getters.activeFlow.uuid, resourceId, filter, value})\n  },\n\n  resource_setModes(\n    {commit, getters},\n    {resourceId, filter, modes}:\n      {resourceId: IResource['uuid'], filter: IResourceDefinitionVariantOverModesFilter} & { modes: SupportedMode[]},\n  ) {\n    commit('resource_setModesOnFlow', {flowId: getters.activeFlow.uuid, resourceId, filter, modes})\n  },\n\n  async resource_createWith(_context, {props}: { props: { uuid: string } & Partial<IResource> }): Promise<IResource> {\n    return {\n      ...defaults(\n        props,\n        {values: []},\n      ),\n    }\n  },\n\n  resource_setOrCreateValueModeSpecific(\n    {commit, dispatch, state, getters},\n    {resourceId, filter, value}: {resourceId: IResource['uuid'], filter: IResourceDefinitionVariantOverModes, value: string },\n  ) {\n    try {\n      // @note - `find()` raises when absent; this verifies its presence\n      findResourceVariantOverModesWith(resourceId, filter, getters.activeFlow)\n      dispatch('resource_setValueModeSpecific', {resourceId, filter, value})\n    } catch (e) {\n      if (!(e instanceof ValidationException)) {\n        throw e\n      }\n\n      dispatch('resource_createVariant', {resourceId, variant: Object.assign(cloneDeep(filter), {value})})\n    }\n  },\n\n  resource_setValueModeSpecific(\n    {commit, state, dispatch, getters},\n    {resourceId, filter, value}: {resourceId: IResource['uuid'], filter: IResourceDefinitionVariantOverModes, value: string },\n  ) {\n    // find resource variant over modes\n    const mode = first(filter.modes)\n    const variant = findResourceVariantOverModesWith(resourceId, filter, getters.activeFlow)\n\n    // need to disambiguate b/c value is spread over multiple modes\n    if (variant.modes.length > 1) {\n      // remove mode from existing variant\n      dispatch('resource_setModes', {\n        resourceId,\n        filter: variant,\n        modes: without(variant.modes, mode),\n      })\n\n      // generate new variant-over-modes with single targeted mode\n      dispatch('resource_createVariant', {\n        resourceId,\n        variant: Object.assign(\n          cloneDeep(variant),\n          {modes: [mode], value},\n        ),\n      })\n\n      // specialized case, we're done here\n      return\n    }\n\n    dispatch('resource_setValue', {resourceId, filter: variant, value})\n  },\n}\n","import {IBlock, IFlow, IResource} from '@floip/flow-runner'\nimport {ActionTree, GetterTree, Module, MutationTree} from 'vuex'\n// todo: create factory with generics so that IRootState is DI'd\nimport {IRootState} from '..'\nimport {actions as blockActions, getters as blockGetters, mutations as blockMutations} from './block'\nimport {actions as flowActions, getters as flowGetters, mutations as flowMutations, stateFactory} from './flow'\nimport {actions as resourceActions, getters as resourceGetters, mutations as resourceMutations} from './resource'\n\nexport interface IFlowsState {\n  //Created is *not* the same as persisted. It does not guarantee the current state is saved to the server. Only that the currently active flow in the container was persisted - the persistFlow route was called with the container and the active flow uuid and the route response did not have an error status code\n  isCreated: boolean,\n\n  // to differentiate between the current flow and the last saved flow\n  // useful for the undo/redo feature for eg.\n  savedAt?: string | null,\n  specification_version: string,\n  container_uuid: string,\n  flows: IFlow[],\n\n  first_flow_id: string | null,\n  // @note - for exciting future\n  nested_flow_block_interaction_id_stack: string[],\n  selectedBlocks: IBlock['uuid'][],\n}\n\nexport const getters: GetterTree<IFlowsState, IRootState> = {\n  ...flowGetters,\n  ...blockGetters,\n  ...resourceGetters,\n}\n\nexport const mutations: MutationTree<IFlowsState> = {\n  ...flowMutations,\n  ...blockMutations,\n  ...resourceMutations,\n}\n\nexport const actions: ActionTree<IFlowsState, IRootState> = {\n  ...flowActions,\n  ...blockActions,\n  ...resourceActions,\n}\n\nexport const store: Module<IFlowsState, IRootState> = {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n\nexport default store\n","import {StoreOptions} from 'vuex'\nimport trees from '@/store/trees/trees.js'\nimport audio from '@/store/trees/audio.js'\nimport {IClipboardState, store as clipboard} from '@/store/clipboard'\nimport {IUndoRedoState, store as undoRedo} from './undoRedo'\nimport {IFlowsState, store as flow} from './flow'\nimport {IBuilderState, store as builder} from './builder'\nimport {IValidationState, validationStore as validation} from './validation'\n\nexport interface IRootState {\n  builder: IBuilderState,\n  flow: IFlowsState,\n  validation: IValidationState,\n  trees: any,\n  audio: any,\n  clipboard: IClipboardState,\n  undoRedo: IUndoRedoState,\n}\n\nexport const store: StoreOptions<IRootState> = {\n  modules: {\n    builder,\n    flow,\n    validation,\n    // trees was originally implemented globally, expecting it's state at root\n    trees,\n    audio,\n    clipboard,\n    undoRedo,\n  },\n}\n\nexport default store\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"clipboard-root\"},[_c('header',{staticClass:\"d-flex justify-content-between\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.clipboard-simulator'))+\" \")]),_c('i',{staticClass:\"glyphicon glyphicon-remove cursor-pointer align-self-center h4\",on:{\"click\":_vm.closeSimulator}})]),_c('main',[_vm._l((_vm.blocksData),function(blockData,i){return _c('div',{key:i,staticClass:\"mt-2\"},[_c('div',{staticClass:\"card\",class:{'gray-background': !_vm.isBlockFocused(i)}},[_c('div',{staticClass:\"card-body sm-padding-below font-roboto\"},[_c(blockData.prompt.config.kind,{tag:\"component\",attrs:{\"context\":_vm.context,\"go-next\":_vm.goNext,\"index\":i,\"is-complete\":_vm.isComplete,\"on-edit-complete\":_vm.onEditComplete},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [(!_vm.cursorChangeInProgress)?_c('h4',{staticClass:\"card-title font-weight-regular pl-0 text-color-title\"},[_vm._v(\" \"+_vm._s(blockData.prompt.block.label)+\" \")]):_vm._e()]},proxy:true},{key:\"content\",fn:function(){return [_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.content(blockData.prompt.config.prompt))+\" \")])]},proxy:true}],null,true)})],1)])])}),(_vm.unsupportedBlockName)?_c('div',{staticClass:\"mt-2\"},[_c('unsupported-block',{attrs:{\"block-name\":_vm.unsupportedBlockName}})],1):_vm._e()],2),(_vm.isComplete)?_c('footer',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.completed'))+\"! \")])])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"message\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_vm._t(\"title\"),(!_vm.isFocused && !_vm.isComplete)?_c('i',{staticClass:\"glyphicon glyphicon-pencil cursor-pointer\",on:{\"click\":_vm.editBlockCommon}}):_vm._e()],2),_vm._t(\"content\"),_c('block-action-buttons',{staticClass:\"sm-room-above\",attrs:{\"is-disabled\":false,\"is-focused\":_vm.isFocused,\"on-next-clicked\":_vm.submitAnswer,\"is-block-interaction\":_vm.isBlockInteraction,\"on-cancel-clicked\":_vm.onCancelCommon}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Component from 'vue-class-component'\nimport {Prop} from 'vue-property-decorator'\nimport {namespace} from 'vuex-class'\nimport {IContext, IPrompt} from '@floip/flow-runner'\n\nconst clipboardVuexNamespace = namespace('clipboard')\n\n@Component\nexport class PromptKindMixin extends Vue {\n  @Prop() index!: number\n  @Prop() isComplete!: boolean\n  @Prop() goNext!: Function\n  @Prop() onEditComplete!: Function\n  @Prop() context!: IContext\n\n  errorMsg: string | null = null\n  isBlockInteraction = false\n\n  get isFocused() {\n    return this.isBlockFocused(this.index)\n  }\n\n  get prompt() {\n    return this.getBlockPrompt(this.index)\n  }\n\n  checkIsValid(value: unknown) {\n    try {\n      this.prompt.validate(value)\n      this.errorMsg = ''\n    } catch (e) {\n      this.errorMsg = e.message\n    }\n  }\n\n  async submitAnswerCommon(value: unknown) {\n    if (!this.errorMsg) {\n      if (this.isBlockInteraction) {\n        await this.onEditComplete(this.index)\n        this.isBlockInteraction = false\n      }\n      this.prompt.value = value\n      this.setIsFocused({index: this.index, value: false})\n      this.goNext()\n    }\n  }\n\n  editBlockCommon() {\n    this.setLastBlockUnEditable()\n    this.setIsFocused({index: this.index, value: true})\n    this.isBlockInteraction = true\n  }\n\n  onCancelCommon() {\n    this.setLastBlockEditable()\n    this.setIsFocused({index: this.index, value: false})\n    this.isBlockInteraction = false\n    this.errorMsg = ''\n  }\n\n  @clipboardVuexNamespace.Getter isBlockFocused!: (index: number) => boolean\n  @clipboardVuexNamespace.Getter getBlockPrompt!: (index: number) => IPrompt<any>\n  @clipboardVuexNamespace.Action setIsFocused!: (data: { index: number, value: boolean }) => void\n  @clipboardVuexNamespace.Action setLastBlockUnEditable!: () => void\n  @clipboardVuexNamespace.Action setLastBlockEditable!: () => void\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.isFocused)?_c('div',{staticClass:\"block-action-buttons row\"},[(_vm.isBlockInteraction && _vm.isFocused)?_c('div',{staticClass:\"col-md-6\"},[_c('button',{staticClass:\"btn btn-secondary btn-block sm-room-below\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clickCancel.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.cancel'))+\" \")])]):_vm._e(),(_vm.isFocused)?_c('div',{class:{'col-md-6': _vm.isBlockInteraction, 'col-md-12': !_vm.isBlockInteraction}},[_c('button',{staticClass:\"btn btn-primary btn-block sm-room-below\",attrs:{\"disabled\":_vm.isDisabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.onNextClicked.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.primaryButtonText)+\" \")])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\nimport Lang from '@/lib/filters/lang'\n\n@Component({})\nexport class BlockActionButtons extends mixins(Lang) {\n  @Prop({type: Boolean, required: true}) readonly isFocused!: boolean\n  @Prop({type: Boolean, required: true}) readonly isDisabled!: boolean\n  @Prop({type: Function, required: true}) readonly onNextClicked!: () => void\n  @Prop({type: Boolean, required: true}) readonly isBlockInteraction!: boolean\n  @Prop({type: Function, required: true}) readonly onCancelClicked!: () => void\n\n  get primaryButtonText(): string {\n    if (this.isBlockInteraction) {\n      return 'Revise'\n    }\n    return 'Next'\n  }\n\n  clickCancel(): void {\n    if (typeof this.onCancelClicked === 'function') {\n      this.onCancelClicked()\n    }\n  }\n}\n\nexport default BlockActionButtons\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockActionButtons.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockActionButtons.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlockActionButtons.vue?vue&type=template&id=0f4e7d5a&scoped=true&\"\nimport script from \"./BlockActionButtons.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlockActionButtons.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlockActionButtons.vue?vue&type=style&index=0&id=0f4e7d5a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f4e7d5a\",\n  null\n  \n)\n\nexport default component.exports","\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {PromptKindMixin} from '@/components/interaction-designer/clipboard/shared/PromptKindMixin'\nimport BlockActionButtons from '../shared/BlockActionButtons.vue'\n\n@Component({\n  components: {\n    BlockActionButtons,\n  },\n})\nexport default class Message extends mixins(Lang, PromptKindMixin) {\n  async submitAnswer(): Promise<void> {\n    await this.submitAnswerCommon(null)\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=44f6d31b&\"\nimport script from \"./Message.vue?vue&type=script&lang=ts&\"\nexport * from \"./Message.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"numeric\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_vm._t(\"title\"),(!_vm.isFocused && !_vm.isComplete)?_c('i',{staticClass:\"glyphicon glyphicon-pencil cursor-pointer\",on:{\"click\":_vm.editBlock}}):_vm._e()],2),_vm._t(\"content\"),_c('div',{staticClass:\"input-group has-validation\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredValue),expression:\"enteredValue\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errorMsg},attrs:{\"type\":\"number\",\"required\":\"\",\"disabled\":!_vm.isFocused,\"min\":_vm.prompt.config.min,\"max\":_vm.prompt.config.max},domProps:{\"value\":(_vm.enteredValue)},on:{\"keyup\":function($event){return _vm.checkIsValid(+_vm.enteredValue)},\"input\":function($event){if($event.target.composing)return;_vm.enteredValue=$event.target.value}}}),(_vm.errorMsg)?_c('div',{staticClass:\"invalid-feedback\"},[_c('small',[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()]),_c('block-action-buttons',{staticClass:\"mt-3\",attrs:{\"is-disabled\":!!_vm.errorMsg,\"is-focused\":_vm.isFocused,\"on-next-clicked\":_vm.submitAnswer,\"is-block-interaction\":_vm.isBlockInteraction,\"on-cancel-clicked\":_vm.onCancel}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {PromptKindMixin} from '@/components/interaction-designer/clipboard/shared/PromptKindMixin'\nimport BlockActionButtons from '../shared/BlockActionButtons.vue'\n\n@Component({\n  components: {\n    BlockActionButtons,\n  },\n})\nexport default class Numeric extends mixins(Lang, PromptKindMixin) {\n  enteredValue = ''\n  backUpValue = ''\n\n  async submitAnswer(): Promise<void> {\n    const value = +this.enteredValue\n    this.checkIsValid(value)\n    await this.submitAnswerCommon(value)\n  }\n\n  editBlock(): void {\n    this.editBlockCommon()\n    this.backUpValue = this.prompt.value\n  }\n\n  onCancel(): void {\n    this.onCancelCommon()\n    this.enteredValue = this.backUpValue\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Numeric.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Numeric.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Numeric.vue?vue&type=template&id=f36a20c0&\"\nimport script from \"./Numeric.vue?vue&type=script&lang=ts&\"\nexport * from \"./Numeric.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"open\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_vm._t(\"title\"),(!_vm.isFocused && !_vm.isComplete)?_c('i',{staticClass:\"glyphicon glyphicon-pencil cursor-pointer\",on:{\"click\":_vm.editBlock}}):_vm._e()],2),_vm._t(\"content\"),_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredValue),expression:\"enteredValue\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errorMsg},attrs:{\"rows\":\"4\",\"cols\":\"50\",\"disabled\":!_vm.isFocused},domProps:{\"value\":(_vm.enteredValue)},on:{\"keyup\":function($event){return _vm.checkIsValid(_vm.enteredValue)},\"input\":function($event){if($event.target.composing)return;_vm.enteredValue=$event.target.value}}}),_vm._v(\" \"),(_vm.errorMsg)?_c('div',{staticClass:\"invalid-feedback\"},[_c('small',[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()]),_c('block-action-buttons',{staticClass:\"mt-3\",attrs:{\"is-disabled\":!!_vm.errorMsg,\"is-focused\":_vm.isFocused,\"on-next-clicked\":_vm.submitAnswer,\"is-block-interaction\":_vm.isBlockInteraction,\"on-cancel-clicked\":_vm.onCancel}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {PromptKindMixin} from '@/components/interaction-designer/clipboard/shared/PromptKindMixin'\nimport BlockActionButtons from '../shared/BlockActionButtons.vue'\n\n@Component({\n  components: {\n    BlockActionButtons,\n  },\n})\nexport default class Open extends mixins(Lang, PromptKindMixin) {\n  enteredValue = ''\n  backUpValue = ''\n\n  async submitAnswer(): Promise<void> {\n    this.checkIsValid(this.enteredValue)\n    await this.submitAnswerCommon(this.enteredValue)\n  }\n\n  editBlock(): void {\n    this.editBlockCommon()\n    this.backUpValue = this.prompt.value\n  }\n\n  onCancel(): void {\n    this.onCancelCommon()\n    this.enteredValue = this.backUpValue\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Open.vue?vue&type=template&id=4874fb3c&\"\nimport script from \"./Open.vue?vue&type=script&lang=ts&\"\nexport * from \"./Open.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"select-one\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_vm._t(\"title\"),(!_vm.isFocused && !_vm.isComplete)?_c('i',{staticClass:\"glyphicon glyphicon-pencil cursor-pointer\",on:{\"click\":_vm.editBlock}}):_vm._e()],2),_vm._t(\"content\"),_c('div',{staticClass:\"form-group\"},[_vm._l((_vm.options),function(option,index){return _c('div',{key:index,staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedItem),expression:\"selectedItem\"}],staticClass:\"form-check-input\",class:{'is-invalid': _vm.errorMsg},attrs:{\"id\":index,\"type\":\"radio\",\"name\":\"select-one\",\"disabled\":!_vm.isFocused},domProps:{\"value\":option.key,\"checked\":_vm._q(_vm.selectedItem,option.key)},on:{\"change\":[function($event){_vm.selectedItem=option.key},function($event){return _vm.checkIsValid(_vm.selectedItem)}]}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":index}},[_vm._v(_vm._s(option.value))])])}),(_vm.errorMsg)?_c('div',{staticClass:\"text-danger\"},[_c('small',[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()],2),_c('block-action-buttons',{attrs:{\"is-disabled\":false,\"is-focused\":_vm.isFocused,\"on-next-clicked\":_vm.submitAnswer,\"is-block-interaction\":_vm.isBlockInteraction,\"on-cancel-clicked\":_vm.onCancel}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {Context} from '@floip/flow-runner'\nimport {PromptKindMixin} from '@/components/interaction-designer/clipboard/shared/PromptKindMixin'\nimport BlockActionButtons from '../shared/BlockActionButtons.vue'\n\n@Component({\n  components: {\n    BlockActionButtons,\n  },\n})\nexport default class SelectOne extends mixins(Lang, PromptKindMixin) {\n  selectedItem: string | null = null\n  options: {key: string, value: string}[] = []\n  backUpValue = ''\n\n  mounted() {\n    this.setOptions()\n  }\n\n  setOptions() {\n    const {choices} = this.prompt.config\n    choices.forEach((choice: {key: string, value: string}) => {\n      try {\n        const option: string = Context.prototype.getResource.call(this.context, choice.value).getText()\n        this.options.push({\n          key: choice.key,\n          value: option,\n        })\n      } catch (e) {\n        console.warn('error fetching resource ')\n      }\n    })\n  }\n\n  async submitAnswer() {\n    this.checkIsValid(this.selectedItem)\n    await this.submitAnswerCommon(this.selectedItem)\n  }\n\n  editBlock() {\n    this.editBlockCommon()\n    this.backUpValue = this.prompt.value\n  }\n\n  onCancel() {\n    this.onCancelCommon()\n    this.selectedItem = this.backUpValue\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectOne.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectOne.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectOne.vue?vue&type=template&id=41c0cdf6&\"\nimport script from \"./SelectOne.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectOne.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"select-many\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_vm._t(\"title\"),(!_vm.isFocused && !_vm.isComplete)?_c('i',{staticClass:\"glyphicon glyphicon-pencil cursor-pointer\",on:{\"click\":_vm.editBlock}}):_vm._e()],2),_vm._t(\"content\"),_c('div',{staticClass:\"form-group\"},[_vm._l((_vm.options),function(option,index){return _c('div',{key:index,staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedChoices),expression:\"selectedChoices\"}],staticClass:\"form-check-input\",class:{'is-invalid': _vm.errorMsg},attrs:{\"id\":index,\"type\":\"checkbox\",\"name\":\"select-many\",\"disabled\":!_vm.isFocused},domProps:{\"value\":option.key,\"checked\":Array.isArray(_vm.selectedChoices)?_vm._i(_vm.selectedChoices,option.key)>-1:(_vm.selectedChoices)},on:{\"change\":[function($event){var $$a=_vm.selectedChoices,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=option.key,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedChoices=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedChoices=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedChoices=$$c}},function($event){return _vm.checkIsValid(_vm.selectedChoices)}]}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":index}},[_vm._v(_vm._s(option.value))])])}),(_vm.errorMsg)?_c('div',{staticClass:\"text-danger\"},[_c('small',[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()],2),_c('block-action-buttons',{staticClass:\"sm-room-above\",attrs:{\"is-disabled\":false,\"is-focused\":_vm.isFocused,\"on-next-clicked\":_vm.submitAnswer,\"is-block-interaction\":_vm.isBlockInteraction,\"on-cancel-clicked\":_vm.onCancel}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {Context} from '@floip/flow-runner'\nimport {PromptKindMixin} from '@/components/interaction-designer/clipboard/shared/PromptKindMixin'\nimport BlockActionButtons from '../shared/BlockActionButtons.vue'\n\n@Component({\n  components: {\n    BlockActionButtons,\n  },\n})\nexport default class SelectMany extends mixins(Lang, PromptKindMixin) {\n  selectedChoices: string[] = []\n  options: {key: string, value: string}[] = []\n  backUpValue = []\n\n  mounted(): void {\n    this.setOptions()\n  }\n\n  setOptions(): void {\n    const {choices} = this.prompt.config\n    choices.forEach((choice: {key: string, value: string}) => {\n      try {\n        const option = Context.prototype.getResource.call(this.context, choice.value).getText()\n        this.options.push({\n          key: choice.key,\n          value: option,\n        })\n      } catch (e) {\n        console.warn('error fetching resource ')\n      }\n    })\n  }\n\n  async submitAnswer(): Promise<void> {\n    this.checkIsValid(this.selectedChoices)\n    await this.submitAnswerCommon(this.selectedChoices)\n  }\n\n  editBlock(): void {\n    this.editBlockCommon()\n    this.backUpValue = this.prompt.value\n  }\n\n  onCancel(): void {\n    this.onCancelCommon()\n    this.selectedChoices = this.backUpValue\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMany.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMany.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectMany.vue?vue&type=template&id=0a92e9fc&\"\nimport script from \"./SelectMany.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectMany.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"unsupported-block card\"},[_c('div',{staticClass:\"card-body sm-padding-below font-roboto\"},[_vm._v(\" \"+_vm._s(_vm.blockName)+\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.simulator-unsupported-block'))+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop} from 'vue-property-decorator'\n\n@Component({})\nexport class UnsupportedBlock extends mixins(Lang) {\n  @Prop(String) readonly blockName?: string\n}\n\nexport default UnsupportedBlock\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UnsupportedBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UnsupportedBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnsupportedBlock.vue?vue&type=template&id=a8a52b94&\"\nimport script from \"./UnsupportedBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnsupportedBlock.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport {\n  Context, IContext,\n  createContextDataObjectFor,\n  FlowRunner,\n  IRichCursorInputRequired,\n  SupportedMode,\n  IContact,\n  IGroup,\n  BasicBacktrackingBehaviour,\n} from '@floip/flow-runner'\nimport {IFlowsState} from '@/store/flow'\nimport Component, {mixins} from 'vue-class-component'\nimport Lang from '@/lib/filters/lang'\nimport {namespace} from 'vuex-class'\nimport {BlocksData} from '@/store/clipboard'\nimport Message from './prompt-kinds/Message.vue'\nimport Numeric from './prompt-kinds/Numeric.vue'\nimport Open from './prompt-kinds/Open.vue'\nimport SelectOne from './prompt-kinds/SelectOne.vue'\nimport SelectMany from './prompt-kinds/SelectMany.vue'\nimport UnsupportedBlock from './shared/UnsupportedBlock.vue'\n\nconst flowVuexNamespace = namespace('flow')\nconst clipboardVuexNamespace = namespace('clipboard')\n\n@Component({\n  components: {\n    Message,\n    Numeric,\n    Open,\n    SelectOne,\n    SelectMany,\n    UnsupportedBlock,\n  },\n})\nexport default class ClipboardRoot extends mixins(Lang) {\n  runner!: FlowRunner\n  context!: IContext\n  isComplete = false\n  unsupportedBlockName = ''\n  cursorChangeInProgress = false\n\n  created(): void {\n    this.initializeFlowRunner()\n  }\n\n  content(promptId: string): string | undefined {\n    if (!this.cursorChangeInProgress) {\n      const result = Context.prototype.getResource.call(this.context, promptId)\n      return result.hasText() ? result.getText() : ''\n    }\n    return undefined\n  }\n\n  async initializeFlowRunner(): Promise<void> {\n    const flowState = this.currentFlowsState\n    const contact = {id: '1'} as IContact\n    const groups: IGroup[] = []\n    // TODO: fix this value when user details are available\n    const userId = 'user-1234'\n    const orgId = 'org-1234'\n    const {flows} = flowState\n    const languageId = '22'\n    const mode = SupportedMode.OFFLINE\n    const context: IContext = await createContextDataObjectFor(\n      contact,\n      groups,\n      userId,\n      orgId,\n      flows,\n      languageId,\n      mode,\n    )\n\n    this.context = context\n    this.runner = new FlowRunner(context)\n    await this.goNext()\n  }\n\n  async goNext(): Promise<void> {\n    this.isComplete = false\n    try {\n      const cursor: IRichCursorInputRequired | undefined = await this.runner.run()\n      if (!cursor) {\n        this.isComplete = true\n        return\n      }\n      const {prompt}: IRichCursorInputRequired = cursor\n      this.addToBlocksData({prompt, isFocused: true})\n    } catch (e) {\n      if ((e as Error).message.includes('Unable to find factory for block type')) {\n        [, this.unsupportedBlockName] = e.message.split(': ')\n      }\n      console.warn(e.message)\n    }\n  }\n\n  async onEditComplete(index: number): Promise<void> {\n    this.setIsFocused({index: this.blocksData.length - 1, value: true})\n    const backtracking: BasicBacktrackingBehaviour = this.runner.behaviours.basicBacktracking as BasicBacktrackingBehaviour\n    const seekSteps = (this.blocksData.length - 1) - index\n    this.cursorChangeInProgress = true\n    const cursor = await backtracking.seek(seekSteps, this.context)\n    this.cursorChangeInProgress = false\n    this.removeFromBlocksData(index)\n    this.addToBlocksData({prompt: cursor.prompt, isFocused: true})\n  }\n\n  closeSimulator(): void {\n    this.setSimulatorActive(false)\n  }\n\n  destroyed(): void {\n    this.resetBlocksData()\n  }\n\n  @flowVuexNamespace.Getter currentFlowsState!: IFlowsState\n\n  @clipboardVuexNamespace.Getter blocksData!: BlocksData[]\n  @clipboardVuexNamespace.Getter isBlockFocused!: boolean\n  @clipboardVuexNamespace.Action setSimulatorActive!: (value: boolean) => void\n  @clipboardVuexNamespace.Action resetBlocksData!: () => void\n  @clipboardVuexNamespace.Action setIsFocused!: (data: {index: number, value: boolean}) => void\n  @clipboardVuexNamespace.Action addToBlocksData!: (data: BlocksData) => void\n  @clipboardVuexNamespace.Action removeFromBlocksData!: (index: number) => void\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardRoot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardRoot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClipboardRoot.vue?vue&type=template&id=0a9a2f9a&\"\nimport script from \"./ClipboardRoot.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClipboardRoot.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ClipboardRoot.vue?vue&type=style&index=0&id=0a9a2f9a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./BaseBlock.vue\": \"3ef7\",\n\t\"./Core_CaseBlock.vue\": \"cf2c\",\n\t\"./Core_LogBlock.vue\": \"41bd\",\n\t\"./Core_OutputBlock.vue\": \"5dcb\",\n\t\"./Core_RunFlowBlock.vue\": \"cab8\",\n\t\"./Core_SetContactPropertyBlock.vue\": \"84d1\",\n\t\"./Core_SetGroupMembershipBlock.vue\": \"02b5\",\n\t\"./MobilePrimitives_MessageBlock.vue\": \"c600\",\n\t\"./MobilePrimitives_NumericResponseBlock.vue\": \"2d61\",\n\t\"./MobilePrimitives_OpenResponseBlock.vue\": \"64bb\",\n\t\"./MobilePrimitives_SelectManyResponseBlock.vue\": \"03d5\",\n\t\"./MobilePrimitives_SelectOneResponseBlock.vue\": \"5c47\",\n\t\"./SmartDevices_LocationResponseBlock.vue\": \"59c3\",\n\t\"./SmartDevices_PhotoResponseBlock.vue\": \"2b44\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"0e11\";\nmodule.exports = webpackAsyncContext;","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionDesigner.vue?vue&type=style&index=0&id=6abec910&prod&lang=scss&\"","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n","\nimport {cloneDeep, debounce, endsWith, forEach, get, includes, invoke, isEmpty, values} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {Component, Prop, Vue, Watch} from 'vue-property-decorator'\nimport {Action, Getter, Mutation, namespace, State} from 'vuex-class'\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {scrollBehavior, scrollBlockIntoView} from '@/router/helpers'\nimport {store} from '@/store'\nimport ClipboardRoot from '@/components/interaction-designer/clipboard/ClipboardRoot.vue'\nimport {Route} from 'vue-router'\nimport {IBlock, IFlow, ILanguage, IResource, IResources, SupportedMode} from '@floip/flow-runner'\nimport {ErrorObject} from 'ajv'\nimport {MutationPayload} from 'vuex'\nimport {IValidationStatus} from '@/store/validation'\n\nComponent.registerHooks(['beforeRouteUpdate'])\n\nconst flowNamespace = namespace('flow')\nconst builderNamespace = namespace('builder')\nconst clipboardNamespace = namespace('clipboard')\nconst validationVuexNamespace = namespace('validation')\n\nconst DEBOUNCE_VALIDATION_TIMER_MS = 300\n\n@Component({\n  components: {\n    ClipboardRoot,\n  },\n})\nexport class InteractionDesigner extends mixins(Lang, Routes) {\n  @Prop(String) readonly id!: string\n  @Prop(String) readonly mode!: string\n  @Prop(String) readonly mainComponent!: string\n\n  @Prop({\n    type: Object,\n    default() {\n      return {}\n    },\n  }) readonly appConfig!: object\n  @Prop({\n    type: Object,\n    default() {\n      return {}\n    },\n  }) readonly builderConfig!: object\n\n  get blocksOnActiveFlowForWatcher(): IBlock[] {\n    // needed to make comparison between new & old values on watcher\n    return cloneDeep(this.activeFlow?.blocks)\n  }\n\n  // ###### Validation API Watchers [\n  @Watch('activeFlow', {deep: true, immediate: true})\n  async onActiveFlowChanged(newFlow: IFlow): Promise<void> {\n    this.debounceFlowValidation({newFlow})\n  }\n\n  @Watch('blocksOnActiveFlowForWatcher', {deep: true, immediate: true})\n  async onBlocksInActiveFlowChanged(newBlocks: IBlock[], oldBlocks: IBlock[]): Promise<void> {\n    this.debounceBlockValidation()\n  }\n\n  @validationVuexNamespace.Action validate_flow!: ({flow}: { flow: IFlow }) => Promise<IValidationStatus>\n  debounceFlowValidation = debounce(async function (this: any, {newFlow}: {newFlow: IFlow}) {\n    if (newFlow !== undefined) {\n      console.debug(\n        'watch/activeFlow:', 'active flow has changed', `from ${this.mainComponent}.`,\n        'Validating flow & supported resources ...',\n      )\n      await this.validate_flow({flow: newFlow})\n      await this.validate_resourcesOnSupportedValues({\n        resources: newFlow.resources,\n        supportedModes: this.activeFlow.supported_modes,\n        supportedLanguages: this.activeFlow.languages,\n      })\n    } else {\n      console.warn('watch/activeFlow:', 'newFlow is undefined')\n    }\n  }, DEBOUNCE_VALIDATION_TIMER_MS)\n  @validationVuexNamespace.Action validate_allBlocksWithinFlow!: () => Promise<void>\n  debounceBlockValidation = debounce(function (this: any) {\n    if (this.activeFlow !== undefined) {\n      console.debug('watch/activeFlow.blocks:', 'blocks inside active flow have changed', `from ${this.mainComponent}.`, 'Validating ...');\n      this.validate_allBlocksWithinFlow()\n    } else {\n      console.warn('watch/activeFlow.blocks:', 'activeFlow is undefined')\n    }\n  }, DEBOUNCE_VALIDATION_TIMER_MS)\n  @validationVuexNamespace.Action validate_resourcesOnSupportedValues!: (\n    {resources, supportedModes, supportedLanguages}: {resources: IResource[], supportedModes: SupportedMode[], supportedLanguages: ILanguage[]}\n  ) => Promise<void>\n\n  @Watch('activeFlow.resources', {deep: true, immediate: true})\n  async onResourcesOnActiveFlowChanged(newResources: IResources, oldResources: IResources): Promise<void> {\n    console.debug('watch/activeFlow.resources:', 'resources inside active flow have changed', `from ${this.mainComponent}.`, 'Validating ...')\n    if (this.activeFlow !== undefined) {\n      await this.validate_resourcesOnSupportedValues({\n        resources: newResources,\n        supportedModes: this.activeFlow.supported_modes,\n        supportedLanguages: this.activeFlow.languages,\n      })\n    } else {\n      console.warn('watch/activeFlow.resources:', 'activeFlow is undefined')\n    }\n  }\n  // ] ######### end Validation API Watchers\n\n  toolbarHeight = 102\n  // TODO: Move this to BlockClassDetails spec // an inversion can be \"legacy types\"\n  pureVuejsBlocks = [\n    'CallBackWithCallCenterBlock',\n    'CollaborativeFilteringQuestionBlock',\n    'CollaborativeFilteringRatingBlock',\n    'CollaborativeFilteringRatioBranchBlock',\n    'CreateSubscriberBlock',\n    'CurrentTimeBranchBlock',\n    'DirectorySelectionBlock',\n    'EntitySelectionBlock',\n    'GenerateCodeBlock',\n    'GroupPropertyBlock',\n    'SubscriberPropertiesSnapshotBlock',\n    'SubscriberPropertyBlock',\n    'SummaryBlock',\n    'ValidateCodeBlock',\n    'WebhookBlock',\n    'WebhookContentBlock',\n    'RecordGroupMessageBlock',\n    'PlayGroupMessageBlock',\n  ]\n  simulateClipboard = true\n\n  @Getter isConfigured!: boolean\n  @Getter selectedBlock?: IBlock\n  @Getter hasChanges!: boolean\n  @Getter hasIssues!: boolean\n  @Getter isTreeSaving!: boolean\n  @Getter isTreeValid!: boolean\n  @Getter jsonValidationResults?: ErrorObject\n  @Getter validationResults?: ErrorObject\n  @Getter builderWidthAdjustment!: number\n\n  // TODO: We'll need to do width as well and use margin-right:365 to allow for sidebar\n  @State(({trees: {tree, ui}}) => ui.designerWorkspaceHeight) designerWorkspaceHeight!: number\n  @State(({trees: {tree, ui}}) => tree) tree: unknown\n  @State(({trees: {tree, ui}}) => !(tree.blocks.length as number)) validationResultsEmptyTree!: boolean\n  @State(({trees: {tree}}) => tree.details.hasVoice) hasVoice?: boolean\n  @State(({trees: {tree}}) => tree.details.hasSms) hasSms?: boolean\n  @State(({trees: {tree}}) => tree.details.hasUssd) hasUssd?: boolean\n  @State(({trees: {tree}}) => tree.details.hasSocial) hasSocial?: boolean\n  @State(({trees: {tree}}) => tree.details.hasClipboard) hasClipboard?: boolean\n  @State(({trees: {ui}}) => ui.blockClasses) blockClasses!: Record<string, any>\n\n  @flowNamespace.Getter activeFlow?: IFlow\n  @builderNamespace.State activeMainComponent?: string\n  @builderNamespace.Getter activeBlock?: IBlock\n  @builderNamespace.Getter isEditable!: boolean\n  @builderNamespace.Getter hasFlowChanges!: boolean\n  @builderNamespace.Getter isBuilderCanvasEnabled!: boolean\n  @builderNamespace.Getter isResourceViewerCanvasEnabled!: boolean\n  @clipboardNamespace.Getter isSimulatorActive!: boolean\n\n  get jsKey(): string {\n    return get(this.selectedBlock, 'jsKey')\n  }\n\n  // Pure VueJS block types handle readonly mode on their own\n  isPureVueBlock(): boolean {\n    return includes(this.pureVuejsBlocks, get(this.selectedBlock, 'type'))\n  }\n\n  async beforeCreate(): Promise<void> {\n    const {$store} = this\n\n    forEach(store.modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  }\n\n  // `this.mode` comes from captured param in js-routes\n  @Watch('mode')\n  onModeChanged(newMode: string): void {\n    this.updateIsEditableFromParams(newMode)\n  }\n  @Watch('mainComponent')\n  onMainComponentChanged(newMainComponent: string): void {\n    this.setActiveMainComponent({mainComponent: newMainComponent})\n  }\n  @builderNamespace.Mutation setActiveMainComponent!: ({mainComponent}: {mainComponent: string | undefined}) => void\n\n  activated(): void {\n    // todo: remove once we have jsKey in our js-route\n    this.deselectBlocks()\n  }\n\n  created(): void {\n    if ((!isEmpty(this.appConfig) && !isEmpty(this.builderConfig)) || !this.isConfigured) {\n      this.configure({appConfig: this.appConfig, builderConfig: this.builderConfig})\n    }\n\n    // Initialize global reference for legacy + debugging\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (global as any).builder = this\n\n    // Listen to Flow updates to maintain \"hasFlowChanges\" state\n    this.$store.subscribe(this.handleFlowChanges.bind(this))\n\n    this.initializeTreeModel()\n\n    // `this.mode` comes from captured param in js-routes\n    this.updateIsEditableFromParams(this.mode)\n    this.setActiveMainComponent({mainComponent: this.mainComponent})\n  }\n\n  /** @note - mixin's mount() is called _before_ local mount() (eg. InteractionDesigner.legacy::mount() is 1st) */\n  async mounted(): Promise<void> {\n    window.addEventListener('scroll', this.onScroll, true)\n\n    //Ensure that the blocks are installed before activating the flow\n    //Block stores are needed to ensure validations can run immediately\n    await this.registerBlockTypes()\n    this.flow_setActiveFlowId({flowId: this.id})\n\n    // if nothing was found for the flow Id\n    if (!this.activeFlow) {\n      this.flow_setActiveFlowId({flowId: null})\n      await this.$router.replace(\n        {\n          path: this.route('flows.fetchFlow', {flowId: this.id}),\n          query: {nextUrl: this.$route.fullPath},\n        },\n      )\n    }\n\n    if (this.isBuilderCanvasEnabled) {\n      this.deselectBlocks()\n      this.discoverTallestBlockForDesignerWorkspaceHeight({aboveTallest: true})\n\n      setTimeout(() => {\n        const {blockId, field} = this.$route.params\n        if (blockId) {\n          this.activateBlock({blockId})\n          scrollBlockIntoView(blockId)\n        }\n        if (field) {\n          scrollBehavior(this.$route)\n        }\n        if (this.$route.meta?.isBlockEditorShown as boolean) {\n          this.setIsBlockEditorOpen(true)\n        }\n      }, 500)\n    }\n    console.debug('Vuej tree interaction designer mounted!')\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.onScroll, true)\n  }\n\n  onScroll(e) {\n    if (this.isBuilderCanvasEnabled) {\n      // will be used to set other elements' position in the canvas (eg: for block editor)\n      if (this.$refs['interaction-designer-header'] !== undefined) {\n        this.setInteractionDesignerHeaderBoundingClientRect((this.$refs['interaction-designer-header'] as Element).getBoundingClientRect())\n      }\n    }\n  }\n\n  @Watch('$route', {deep: true})\n  handleRouteUpdate(to: Route): void {\n    this.activateBlock({blockId: to.params.blockId || null})\n    if (to.meta?.isBlockEditorShown as boolean) {\n      scrollBlockIntoView(to.params.blockId)\n      this.setIsBlockEditorOpen(true)\n    }\n  }\n\n  @Mutation configure!: ({appConfig, builderConfig}: {appConfig: object, builderConfig: object}) => void\n  @Mutation deselectBlocks!: () => void\n  @builderNamespace.Mutation activateBlock!: ({blockId}: {blockId: IBlock['uuid'] | null}) => void\n  @builderNamespace.Mutation setIsBlockEditorOpen!: (value: boolean) => void\n  @builderNamespace.Mutation setInteractionDesignerHeaderBoundingClientRect!: (value: DOMRect) => void\n  @builderNamespace.Action setIsEditable!: (arg0: boolean) => void\n  @builderNamespace.Action setHasFlowChanges!: (arg0: boolean) => void\n  @flowNamespace.Mutation flow_setActiveFlowId!: ({flowId}: {flowId: string | null}) => void\n  @Action attemptSaveTree!: () => void\n  @Action discoverTallestBlockForDesignerWorkspaceHeight!: ({buffer, aboveTallest}: {buffer?: number, aboveTallest: boolean}) => void\n  @Action initializeTreeModel!: () => void\n\n  async registerBlockTypes(): Promise<void[]> {\n    const {blockClasses} = this\n\n    const blockInstallers = values(blockClasses).map(async (blockClass) => {\n      const type = blockClass.type\n      const normalizedType = type.replace('.', '_')\n      const typeWithoutSeparators = type.replace('.', '')\n      let {uiComponent} = blockClass\n      if (blockClass.install === undefined) {\n        // noinspection TypeScriptCheckImport\n        const exported = await import(`../components/interaction-designer/block-types/${normalizedType}Block.vue`)\n        blockClass.install = exported.install\n        uiComponent = exported.default\n      }\n      invoke(blockClass, 'install', this)\n      Vue.component(`Flow${typeWithoutSeparators}`, uiComponent)\n    })\n    return Promise.all(blockInstallers)\n  }\n\n  handleCanvasSelected({target}: {target: Element}): void {\n    if (!target.classList.contains('builder-canvas')) {\n      console.debug('InteractionDesigner', 'Non-canvas selection mitigated')\n      return\n    }\n    this.setIsBlockEditorOpen(false)\n    this.replaceRouteInHistory(this.$route.meta?.isFlowEditorShown as boolean ? 'flow-details' : 'flow-canvas')\n  }\n\n  updateIsEditableFromParams(mode: string): void {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const isEditableLocked = Boolean((global as any).app.ui.isEditableLocked)\n    const isEditable = Boolean(+this.discoverIsEditableFrom(mode, this.$route.hash, isEditableLocked))\n    this.setIsEditable(isEditable)\n  }\n\n  /** --------------------------------| has-editable-locked | not-editable-locked |\n   | mode-is-absent+view-url-suffix   |        0            |     0               |\n   | mode-is-absent+edit-url-suffix   |        0 (r=>view)  |     1               |\n   | mode-is-absent+absent-url-suffix |        0 (r=>view)  |     0 (r=>view)     | <- Equivalent to /view\n   | mode-is-view                     |        0            |     0               |\n   | mode-is-view+edit-url-suffix     |        0            |     0               |\n   | mode-is-edit                     |        0 (r=>view)  |     1               |\n   | mode-is-edit+view-url-suffix     |        0 (r=>view)  |     1               |\n   ------------------------------------------------------------------------------ */\n  discoverIsEditableFrom(mode: string, hash: string, isEditableLocked: boolean): boolean {\n    return !isEditableLocked && (\n      mode === 'edit' || (!mode && endsWith(hash, '/edit'))\n    )\n  }\n\n  showOrHideSidebar(): void {\n    //TODO with simulator work\n    // this.replaceRoute(this.$route.meta.isSidebarShown ? 'flow-canvas' : '???')\n  }\n\n  replaceRouteInHistory(name: string): void {\n    // VueRouter doesn't have typed .history but actually has it\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this.$router as any).history.replace({\n      name,\n    })\n  }\n\n  handleFlowChanges({type, payload}: MutationPayload): void {\n    // We overwrite flow container after saving, reset change state\n    if (type === 'flow/flow_setFlowContainer') {\n      this.setHasFlowChanges(false)\n      return\n    }\n\n    // Consider changing block positoin a flow change\n    if (type === 'builder/setBlockPositionTo') {\n      this.setHasFlowChanges(true)\n      return\n    }\n\n    // Only consider flow mutations\n    if (type.startsWith('flow/') === false) {\n      return\n    }\n\n    // Mutations that does not change flow data\n    if (![\n      'flow/flow_updateCreatedState',\n      'flow/flow_setActiveFlowId',\n    ].includes(type)) {\n      this.setHasFlowChanges(true)\n    }\n  }\n}\n\nexport default InteractionDesigner\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar match = String.prototype.match;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\nvar toStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag !== 'undefined' ? Symbol.toStringTag : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true` or `false`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('options \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        return String(obj);\n    }\n    if (typeof obj === 'bigint') {\n        return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + keys.join(', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? String(obj).replace(/^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + xs.join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? toStr(obj).slice(8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + [].concat(stringTag || [], protoTag || []).join(': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + ys.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16).toUpperCase();\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = Array(opts.indent + 1).join(' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: Array(depth + 1).join(baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + xs.join(',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ((/[^\\w$]/).test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","// Backbone Model for Trees\n\n// Much thanks to\n// http://todomvc.com/architecture-examples/backbone/\n\n// Also helpful\n// http://adrianmejia.com/blog/2012/09/11/backbone-dot-js-for-absolute-beginners-getting-started/\n\n// For commentary!\n// http://www.reddit.com/r/javascript/comments/1npiet/backbonejs_is_opinionated_or_why_is_using_nested/\n\n// For relational links\n// http://backbonerelational.org/\n// (not used)\n\n// And for nested Backbone models! (in use!)\n// https://github.com/afeld/backbone-nested\n\n/* global Backbone */\nimport _ from 'lodash'\n\nwindow.app = window.app || {};\n\n(function () {\n  // Tree Model\n  // ----------\n\n  app.Tree = function (attrs) {\n    this.attributes = attrs\n  }\n\n  app.Tree.prototype = {\n    get(attr) {\n      return this.attributes[attr]\n    },\n\n    toJSON(options) {\n      return _.clone(this.attributes)\n    },\n\n    // Default attributes for the todo\n    // and ensure that each todo created has `title` and `completed` keys.\n    defaults: {\n      id: 0,\n      floipSyncedAt: '',\n      details: {\n        title: '',\n        description: '',\n        enabledLanguages: [],\n        syncedLanguage: '',\n        startingBlockKey: '',\n        exitBlockKey: '',\n        hasVoice: 0,\n        hasSms: 0,\n        hasUssd: 0,\n        hasSocial: 0,\n        hasClipboard: 0,\n        floipPushUrl: '',\n        floipPushApiKey: '',\n      },\n      blocks: [],\n      connections: [],\n    },\n\n    _defaultReviewedState: {},\n\n    upgrade() {\n      // todo: port this to use something like `lodash.defaultsDeep()`\n      console.debug('Tree upgrade: started')\n      console.time('Tree upgrade')\n\n      // Temporary fix for blocks that have [] arrays instead of {} objects\n      // Likely caused by browser quirks (possibly old versions of IE)\n      // Added 2016-08-08 (Sean)\n      this.fixArrayBlocks()\n\n      this.defaultEnabledLanguages()\n      this.defaultSyncedLanguage()\n      // auto-inflate reviewed dictionaries based upon enabled languages\n      this.inflateDefaultReviewedStateOnAll()\n      this.inflateDefaultTagsOnAll()\n      this.inflateDefaultLabelOnAll()\n      this.upgradeLanguageSelectorBlocks()\n      this.inflateDefaultSocialContentOnAll()\n      this.inflateDefaultClipboardContentOnAll()\n      this.upgradeSubscriberPropertyFieldSelections()\n      this.upgradeMsmcqBranchingToFalse()\n      this.upgradeSubscriberPropertyBlocks()\n      this.upgradeSubscriberBranchBlocks()\n\n      console.timeEnd('Tree upgrade')\n    },\n\n    cacheDefaultReviewedState() {\n      const enabledLanguages = this.getEnabledLanguages()\n      this._defaultReviewedState = _.zipObject(\n        enabledLanguages,\n        _.fill(new Array(enabledLanguages.length), false),\n      )\n    },\n\n    defaultEnabledLanguages() {\n      const details = this.get('details')\n      details.enabledLanguages = details.enabledLanguages || []\n    },\n\n    defaultSyncedLanguage() {\n      const details = this.get('details')\n      details.syncedLanguage = details.syncedLanguage || ''\n    },\n\n    inflateDefaultReviewedStateOnAll() {\n      this.cacheDefaultReviewedState()\n      this.get('blocks')\n        .forEach(this.inflateDefaultReviewedStateOnto.bind(this))\n    },\n\n    inflateDefaultReviewedStateOnto(block) {\n      block.customData.reviewed = block.customData.reviewed || block.customData.approved || {}\n      // todo: remove these two references to `approved` once deployed\n      delete block.customData.approved\n      _.defaults(block.customData.reviewed, this._defaultReviewedState)\n    },\n\n    inflateDefaultTagsOnAll() {\n      this.get('blocks')\n        .forEach((block) => {\n          !block.customData.tags && (block.customData.tags = [])\n        })\n    },\n\n    inflateDefaultLabelOnAll() {\n      this.get('blocks')\n        .forEach((block) => {\n          !block.customData.label && (block.customData.label = '')\n        })\n    },\n\n    upgradeLanguageSelectorBlocks() {\n      this.get('blocks')\n        .filter((block) => block.type === 'LanguageSelectorBlock')\n        .forEach((languageSelectorBlock) => {\n          if (!languageSelectorBlock.customData.addExitForNoResponse) {\n            languageSelectorBlock.customData.addExitForNoResponse = 0\n          }\n        })\n    },\n\n    inflateDefaultSocialContentOnAll() {\n      this.get('blocks')\n        .forEach((block) => {\n          !block.socialContent && (block.socialContent = {})\n        })\n    },\n\n    inflateDefaultClipboardContentOnAll() {\n      this.get('blocks')\n        .forEach((block) => {\n          !block.clipboardContent && (block.clipboardContent = {})\n        })\n    },\n\n    upgradeSubscriberPropertyFieldSelections() {\n      this.get('blocks')\n        .forEach((block) => {\n          if (!block.customData.propertyFieldId) {\n            const property = app.ui.findSubscriberPropertyField({display_label: block.customData.customDataCategory})\n            block.customData.propertyFieldId = _.get(property, 'id', null)\n          }\n        })\n    },\n\n    upgradeMsmcqBranchingToFalse() {\n      this.get('blocks')\n        .filter((block) => block.type === 'MultipleSelectMultipleChoiceQuestionBlock')\n        .filter((block) => block.customData.branching === 1)\n        .forEach((block) => {\n          const {customData} = block\n          const {uiData} = block\n\n          customData.branching = false\n          customData.numChoices = 1\n          uiData.numChoices = 1\n          uiData.numConnections = 1\n          uiData.outputNames = [1]\n          if (customData.addExitForNoResponse) {\n            uiData.outputNames.push('trees.output-exit')\n          }\n        })\n    },\n\n    /**\n     * For existing blocks that have their action set to startDate, set the action to customData instead,\n     * preserving all settings that calculate the date, and attempting to pre-select the \"start_date\" property for the\n     * user.\n     *\n     * This is because we are removing the startDate action and rather switching to using subscriber properties\n     */\n    upgradeSubscriberPropertyBlocks() {\n      this.get('blocks')\n        .filter((block) => block.type === 'SubscriberPropertyBlock')\n        .filter((block) => block.customData.action === 'startDate')\n        .forEach((block) => {\n          const {customData} = block\n          customData.action = 'customData'\n          customData.propertyDateMethod = customData.startDateMethod\n          customData.propertyDateAbsoluteDate = customData.startDateAbsoluteDate\n          customData.propertyDateRelativeNumber = customData.startDateRelativeNumber\n          customData.propertyDateTimespanType = customData.startDateTimespanType\n          customData.propertyDateNumericBlockKey = customData.startDateNumericBlockKey\n          const propertyField = app.ui.findSubscriberPropertyField({name: 'start_date'})\n          if (propertyField) {\n            customData.propertyFieldId = propertyField.id\n          } else {\n            customData.propertyFieldId = null\n          }\n          customData.upgradedFromStartDate = true\n        })\n    },\n\n    /**\n     * For existing blocks that have their criteria set to startDate, set the criteria to customData instead,\n     * preserving all settings, and attempting to pre-select the \"start_date\" property for the\n     * user.\n     *\n     * This is because we are removing the startDate action and rather switching to using subscriber properties\n     */\n    upgradeSubscriberBranchBlocks() {\n      this.get('blocks')\n        .filter((block) => block.type === 'SubscriberBranchBlock')\n        .filter((block) => block.customData.action === 'startDate')\n        .forEach((block) => {\n          builder.$set(block.customData, 'action', 'customData')\n          builder.$set(block.customData, 'customDataMethod', block.customData.startDateMethod)\n          builder.$set(block.customData, 'customDataValue', block.customData.startDateReference)\n\n          const propertyField = app.ui.findSubscriberPropertyField({name: 'start_date'})\n\n          // $set won't work on something that is already a property\n          // make sure it does not exist on the object before $set-ing it\n          delete block.customData.propertyFieldId\n\n          if (propertyField) {\n            builder.$set(block.customData, 'propertyFieldId', propertyField.id)\n          } else {\n            builder.$set(block.customData, 'propertyFieldId', null)\n          }\n\n          builder.$set(block.customData, 'upgradedFromStartDate', true)\n        })\n    },\n\n    // This function loops through all of the blocks in a tree, and checks for blocks that have empty subkeys (eg. customData) that are in [] array format rather than {} object format.\n    // The array issue causes other crashes later, when trying to retrieve or update data. So far, the issue comes up sporadically which seems to indicate that it's a browser quirk (possibly with older versions of IE).\n    // This issue fixes the empty arrays (by replacing them with empty objects) when the function is called, and we've added it to trees-views' initializeAll() function to call it on initial page load.\n    // For trees without the issue, it marginally increases the load on the browser when the tree is first loaded, but otherwise causes no other changes.\n    /** @moved from 12-trees-helpers.js */\n    fixArrayBlocks() {\n      let neededFixing = 0\n      let fixedCount = 0\n\n      _.each(this.get('blocks'), (block, index) => {\n        const arrayKeys = [\n          'customData',\n          'uiData',\n          'audioFiles',\n          'smsContent',\n          'ussdContent',\n          'socialContent',\n          'clipboardContent',\n        ]\n\n        _.each(arrayKeys, (key) => {\n          if (_.isArray(block[key])) {\n            neededFixing = 1\n            fixedCount++\n\n            // Repair the array by changing it to object syntax:\n            block[key] = {}\n\n            console.log(`Fixing ${block.type}[${index}] ${key}`)\n          }\n        })\n      })\n\n      if (neededFixing == 1) {\n        console.log(`Fixed ${fixedCount} blocks.`)\n        app.ui.change('Array issue blocks fixed.')\n      }\n      // else {\n      // console.log('All blocks loaded without array issues.');\n      // }\n    },\n\n    // Block-related functions\n    doesBlockLabelExist(label, comparatorKey) {\n      if (!label) {\n        return\n      }\n\n      return !!_(this.get('blocks'))\n        .chain()\n        .find((block) => block.jsKey !== comparatorKey && block.customData.label === label)\n    },\n\n    addBlock(blockData) {\n      // This doesn't seem to persist across deletes\n      // Will make new, non-unique IDs.\n      // blockData.jsKey = _.uniqueId('block_');\n      blockData.jsKey = this.makeUniqueId('block_')\n\n      this.inflateDefaultReviewedStateOnto(blockData)\n\n      this.get('blocks')\n        .push(blockData)\n\n      if (this.get('blocks').length == 1) {\n        // Only one block, eg. the first one,\n        // so set the tree's Starting Block ID to this\n        this.setStartingBlock(blockData.jsKey)\n      }\n\n      // Return the new key\n      return this.get('blocks').length - 1\n    },\n\n    getBlockByNumericIndex(blockKey) {\n      const blocks = this.get('blocks')\n      if (blocks[blockKey]) {\n        return blocks[blockKey]\n      }\n\n      return false\n    },\n\n    // app.tree.editBlock(0, {type:'newType'})\n    editBlockByNumericIndex(blockNumericIndex, blockData, arrayKey) {\n      const blocks = this.get('blocks')\n      let blockArrayKey\n      // Update that particular block in the array with new data.\n      if (blocks[blockNumericIndex]) {\n        // Can provide an array key value (eg. smsContent) to just update that array\n        if (typeof arrayKey !== 'undefined') {\n          blocks[blockNumericIndex][arrayKey] = blockData\n        } else {\n          // Persist existing data (eg. jsKey and other unchanged arrays)\n          blockData = _.extend(blocks[blockNumericIndex], blockData)\n          blocks[blockNumericIndex] = blockData\n        }\n\n        this.set('blocks', blocks)\n\n        // Return that block data just for fun\n        return blocks[blockNumericIndex]\n      }\n\n      return false\n    },\n\n    getBlock(blockKey) {\n      // Passes back the block *by reference* which allows for direct editing.\n      return _.findWhere(this.get('blocks'), {jsKey: blockKey})\n    },\n\n    editBlock(blockKey, blockData, arrayKey) {\n      let thisBlock = this.getBlock(blockKey)\n      // thisBlock is returned by reference, so can be edited directly (i think)\n\n      if (thisBlock) {\n        // Can provide an array key value (eg. smsContent) to just update that array\n        if (typeof arrayKey !== 'undefined') {\n          thisBlock[arrayKey] = blockData\n        } else {\n          // Persist existing data (eg. jsKey and other unchanged arrays)\n          thisBlock = _.extend(thisBlock, blockData)\n          // blocks[blockNumericIndex] = blockData;\n        }\n\n        return true\n      }\n\n      return false\n    },\n\n    setBlockPosition(blockKey, positionData) {\n      const thisBlock = this.getBlock(blockKey)\n\n      if (thisBlock) {\n        thisBlock.uiData.xPosition = positionData[0]\n        thisBlock.uiData.yPosition = positionData[1]\n\n        return true\n      }\n\n      return false\n    },\n\n    getBlockPosition(blockKey) {\n      const thisBlock = this.getBlock(blockKey)\n\n      const positionData = []\n\n      if (thisBlock) {\n        positionData[0] = thisBlock.uiData.xPosition\n        positionData[1] = thisBlock.uiData.yPosition\n\n        return positionData\n      }\n\n      return false\n    },\n\n    getBlockNumConnections(blockKey) {\n      const thisBlock = this.getBlock(blockKey)\n\n      return thisBlock.uiData.numConnections\n    },\n\n    filterBlockConnectionsAboveMax(blockKey) {\n      const thisBlock = this.getBlock(blockKey)\n      const connections = this.get('connections')\n\n      const maxConnections = thisBlock.uiData.numConnections\n\n      _.each(_.where(connections, {startBlockKey: blockKey}), (e) => {\n        const nodeNumber = e.outputKey.slice(-1)\n\n        if (nodeNumber > maxConnections) {\n          app.tree.removeConnection(blockKey, e.outputKey)\n        }\n      })\n    },\n\n    setBlockAudioFile(blockKey, languageId, audioData) {\n      const thisBlock = this.getBlock(blockKey)\n\n      // audioData = {\n      //   id: 75,\n      //   filename: '536105d15bbd94.30453403',\n      //   description: 'Uploaded file: survey-c.wav',\n      //   duration_seconds: 2.12,\n      //   created_at: '2013-04-12 16:32'\n      // };\n\n      // console.log('blockKey', blockKey);\n      // console.log('languageId', languageId);\n      // console.log('audioData', audioData);\n\n      if (thisBlock) {\n        // Special handling for any mystery cases\n        // where the audioFiles object becomes an array\n        // which could lead to really giant amounts of null values\n        if (_.isPlainObject(thisBlock.audioFiles) === false) {\n          console.log('Alert - special handling for audioFiles as array taking place')\n          thisBlock.audioFiles = {}\n        }\n\n        thisBlock.audioFiles[languageId] = audioData\n\n        return true\n      }\n\n      return false\n    },\n\n    removeBlockAudioFile(blockKey, languageId) {\n      const thisBlock = this.getBlock(blockKey)\n\n      // Works by reference.\n      delete thisBlock.audioFiles[languageId]\n    },\n\n    // Existing block keys\n    getBlockKeys() {\n      return _.keys(app.tree.get('blocks'))\n    },\n\n    // Get next index\n    // This isn't really useful since we aren't tracking by array key anymore.\n    getNextBlockKey() {\n      const lastKey = parseInt(_.last(app.tree.getBlockKeys()), 10)\n      return lastKey + 1\n    },\n\n    deleteBlock(blockKey) {\n      let blocks\n      blocks = this.get('blocks')\n      blocks = _.without(blocks, _.findWhere(blocks, {jsKey: blockKey}))\n\n      this.set('blocks', blocks)\n\n      // If the indicated block was also the tree's starting block,\n      // Set it to blank.\n      this.clearStartingBlockIfIs(blockKey)\n      this.clearExitBlockIfIs(blockKey)\n\n      return true\n    },\n\n    handleDeleteNumericQuestionBlockAssociations(selectedBlockKey) {\n      this.set({\n        blocks: this.get('blocks')\n          .map((block) => {\n            let newBlock = block\n            if (block.type == 'NumericBranchBlock') {\n              newBlock = {...block, customData: this._getAmendmentsForNumericBranchBlock(block.customData, selectedBlockKey)}\n            } else if (block.type == 'IdValidationBlock') {\n              newBlock = {...block, customData: this._getAmendmentsForIdValidationBlock(block.customData, selectedBlockKey)}\n            }\n            return newBlock\n          }),\n      })\n    },\n    // works but must save twice to trigger validation and disable send\n    _getAmendmentsForNumericBranchBlock(customData, selectedBlockKey) {\n      return {\n        ...customData,\n        outputs: _.reduce(customData.outputs, (newOutputs, output) => {\n            const newConditions = _.reduce(output.conditions, (newConditions, condition) => {\n              const newCondition = {...condition}\n              if (condition.jsKey == selectedBlockKey) {\n                newCondition.jsKey = ''\n              }\n              newConditions.push(newCondition)\n              return newConditions\n            }, [])\n\n            // I think this will never be the case but just to be sure\n            if (newConditions) {\n              newOutputs.push({...output, conditions: newConditions})\n            }\n\n            return newOutputs\n          },\n          []),\n      }\n    },\n    _getAmendmentsForIdValidationBlock(customData, selectedBlockKey) {\n      if (customData.numericQuestionBlockJsKey == selectedBlockKey) {\n        customData = {...customData, numericQuestionBlockJsKey: ''}\n      }\n      return customData\n    },\n\n    makeUniqueId(prefix) {\n      return `${prefix + _.now()}_${_.random(10, 99)}`\n    },\n\n    getMcqChoiceName(blockKey, choiceId) {\n      const block = this.getBlock(blockKey)\n      if (block && block.customData && block.customData.choices) {\n        return block.customData.choices[choiceId - 1]\n      }\n    },\n\n    getBlockTitle(blockKey) {\n      const block = this.getBlock(blockKey)\n      if (block && block.customData && block.customData.title) {\n        return block.customData.title\n      }\n    },\n\n    generateBlockTitle(customData, type, limit) {\n      let output = ''\n      if (_.isNumber(limit) == false) {\n        limit = 0\n      }\n\n      if (type === 'RunTreeBlock') {\n        if (_.get(customData, 'destinationTreeId')) {\n          output = _.get(app.ui.treeTitles, customData.destinationTreeId)\n        } else if (_.get(customData, 'destinationTreeSetId')) {\n          output = `${Lang.trans('trees.most-recent-version-of')} ${_.get(app.ui.treeSetTitles, customData.destinationTreeSetId)}`\n        }\n      } else if (type === 'GroupBranchBlock') {\n        if (_.get(customData, 'groupId')) {\n          if (_.parseInt(_.get(customData, 'in')) == 0) {\n            output = `${Lang.trans('trees.if-not-in')} \"`\n          } else {\n            output = `${Lang.trans('trees.if-in')} \"`\n          }\n          output += `${_.get(app.ui.groupNames, customData.groupId)}\"`\n        }\n      } else if (type === 'GroupSizeBranchBlock') {\n        if (_.get(customData, 'groupId')) {\n          output = `${Lang.trans('trees.if')} \"${_.get(app.ui.groupNames, customData.groupId)}\" ${Lang.trans('trees.exceeds')} ${_.get(\n            customData,\n            'quotaThreshold',\n            100,\n          )}`\n        }\n      } else if (type === 'SubscriberBranchBlock') {\n        if (_.get(customData, 'action') == 'customData') {\n          const property = app.ui.findSubscriberPropertyField({id: _.get(customData, 'propertyFieldId')})\n          const displayLabel = _.get(property, 'display_label', '')\n          const comparator = _.get(customData, 'customDataMethod', 'Equal')\n\n          let comparatorString = ''\n          if (comparator === 'NotEqual') {\n            comparatorString = Lang.trans('trees.not')\n          } else if (comparator === 'LessThan') {\n            comparatorString = '<'\n          } else if (comparator === 'GreaterThan') {\n            comparatorString = '>'\n          }\n\n          output = `${Lang.trans('trees.if-subscriber-custom-data')} \"${displayLabel}\" ${Lang.trans('trees.is')} ${comparatorString} \"${_.get(\n            customData,\n            'customDataValue',\n            '',\n          )}\"`\n        } else if (_.get(customData, 'action') == 'language') {\n          if (_.get(customData, 'languageValue') == '') {\n            output = Lang.trans('trees.if-subscriber-language-is-unknown')\n          } else {\n            output = `${Lang.trans('trees.if-subscriber-language-is')} \"${_.get(app.ui.languageNames, customData.languageValue)}\"`\n          }\n        }\n      } else {\n        output = _.get(customData, 'title')\n      }\n\n      if (output && output.length > 0 && limit > 0) {\n        output = S(output)\n          .truncate(limit).s\n      }\n      return output\n    },\n\n    // Connection-related functions\n\n    addConnection(startBlockKey, outputKey, endBlockKey) {\n      let connections\n\n      // Need to remove any existing connections with the same startBlockKey and outputKey - since one output key on a block can only go to one other endBlock.\n      this.removeConnection(startBlockKey, outputKey)\n\n      // Need to load this *after* the appropriate entries are removed first.\n      connections = this.get('connections')\n\n      // If this works, it'll be so weird.\n      const connection = {\n        startBlockKey,\n        outputKey,\n        endBlockKey,\n      }\n\n      connections.push(connection)\n\n      this.set('connections', connections)\n\n      return true\n    },\n\n    removeConnection(startBlockKey, outputKey) {\n      // outputKey is optional\n      let connections = this.get('connections')\n\n      if (startBlockKey && typeof outputKey !== 'undefined') {\n        // Massive thanks to\n        // http://stackoverflow.com/a/16994286\n        connections = _.without(connections, _.findWhere(connections, {startBlockKey, outputKey}))\n      } else if (startBlockKey) {\n        // Filter literally everything with that starting block key\n        connections = _.difference(connections, _.where(connections, {startBlockKey}))\n      }\n\n      this.set('connections', connections)\n\n      return true\n    },\n\n    addEnabledLanguage(languageKey) {\n      const {enabledLanguages} = app.tree.get('details')\n\n      let newEnabledLanguages = []\n\n      enabledLanguages.push(languageKey.toString())\n\n      // Order according to the original app.ui.languages order\n      newEnabledLanguages = _.intersection(_.pluck(app.ui.languages, 'id'), app.tree.get('details').enabledLanguages)\n\n      app.tree.get('details').enabledLanguages = newEnabledLanguages\n\n      this.inflateDefaultReviewedStateOnAll()\n    },\n\n    removeEnabledLanguage(languageKey) {\n      let {enabledLanguages} = app.tree.get('details')\n\n      languageKey = languageKey.toString()\n\n      // This loses the pass-by-reference, so need to save it back to the model after.\n      enabledLanguages = _.without(enabledLanguages, languageKey)\n\n      app.tree.get('details').enabledLanguages = enabledLanguages\n\n      this.cacheDefaultReviewedState()\n    },\n\n    getEnabledLanguages() {\n      return app.tree.get('details').enabledLanguages\n    },\n\n    setStartingBlock(startingBlockKey) {\n      app.tree.get('details').startingBlockKey = startingBlockKey\n    },\n\n    clearStartingBlockIfIs(blockKey) {\n      if (app.tree.get('details').startingBlockKey == blockKey) {\n        app.tree.get('details').startingBlockKey = ''\n      }\n    },\n\n    clearExitBlockIfIs(blockKey) {\n      if (app.tree.get('details').exitBlockKey == blockKey) {\n        app.tree.get('details').exitBlockKey = ''\n      }\n    },\n\n    enableVoice() {\n      app.tree.get('details').hasVoice = 1\n    },\n    disableVoice() {\n      app.tree.get('details').hasVoice = 0\n    },\n    enableSms() {\n      app.tree.get('details').hasSms = 1\n    },\n    disableSms() {\n      app.tree.get('details').hasSms = 0\n    },\n    enableUssd() {\n      app.tree.get('details').hasUssd = 1\n    },\n    disableUssd() {\n      app.tree.get('details').hasUssd = 0\n    },\n    enableSocial() {\n      app.tree.get('details').hasSocial = 1\n    },\n    disableSocial() {\n      app.tree.get('details').hasSocial = 0\n    },\n    enableClipboard() {\n      app.tree.get('details').hasClipboard = 1\n    },\n    disableClipboard() {\n      app.tree.get('details').hasClipboard = 0\n    },\n\n    validateLanguageAndContentTypes(tree, blocks) {\n      let missingLanguageIdsAudioFiles = []\n      let missingLanguageIdsSmsContent = []\n      let missingLanguageIdsUssdContent = []\n      let missingLanguageIdsSocialContent = []\n      let missingLanguageIdsClipboardContent = []\n      const jsKey = {}\n\n      _.forEach(blocks, (block) => {\n        missingLanguageIdsAudioFiles = []\n        missingLanguageIdsSmsContent = []\n        missingLanguageIdsUssdContent = []\n        missingLanguageIdsSocialContent = []\n        missingLanguageIdsClipboardContent = []\n\n        if (app.ui.blockClasses[block.type].hasContent == 1) {\n          if (app.tree.get('details').hasVoice && _.keys(block.audioFiles).length < tree.enabledLanguages.length) {\n            missingLanguageIdsAudioFiles = _.difference(tree.enabledLanguages, _.keys(block.audioFiles))\n          }\n\n          if (app.tree.get('details').hasSms && _.keys(block.smsContent).length < tree.enabledLanguages.length) {\n            if (block.type !== 'RandomOrderMultipleChoiceQuestionBlock') {\n              missingLanguageIdsSmsContent = _.difference(\n                tree.enabledLanguages,\n                _.keys(block.smsContent),\n              )\n            }\n          }\n\n          if (app.tree.get('details').hasUssd && _.keys(block.ussdContent).length < tree.enabledLanguages.length) {\n            if (block.type !== 'RandomOrderMultipleChoiceQuestionBlock') {\n              missingLanguageIdsUssdContent = _.difference(\n                tree.enabledLanguages,\n                _.keys(block.ussdContent),\n              )\n            }\n          }\n\n          if (app.tree.get('details').hasSocial && _.keys(block.socialContent).length < tree.enabledLanguages.length) {\n            if (block.type !== 'RandomOrderMultipleChoiceQuestionBlock') {\n              missingLanguageIdsSocialContent = _.difference(\n                tree.enabledLanguages,\n                _.keys(block.socialContent),\n              )\n            }\n          }\n\n          if (app.tree.get('details').hasClipboard && _.keys(block.clipboardContent).length < tree.enabledLanguages.length) {\n            if (block.type !== 'RandomOrderMultipleChoiceQuestionBlock') {\n              missingLanguageIdsClipboardContent = _.difference(\n                tree.enabledLanguages,\n                _.keys(block.clipboardContent),\n              )\n            }\n          }\n\n          if (missingLanguageIdsAudioFiles.length || missingLanguageIdsSmsContent.length || missingLanguageIdsUssdContent.length || missingLanguageIdsSocialContent.length || missingLanguageIdsClipboardContent.length) {\n            jsKey[block.jsKey] = {\n              sms: missingLanguageIdsSmsContent,\n              voice: missingLanguageIdsAudioFiles,\n              ussd: missingLanguageIdsUssdContent,\n              social: missingLanguageIdsSocialContent,\n              clipboard: missingLanguageIdsClipboardContent,\n            }\n          }\n        }\n\n        /*\n        //if block is a multiple choice question, check if user has set multiple digit options\n        if (block.type === \"MultipleChoiceQuestionBlock\"){\n          var choiceKeyPresses = block.customData.choiceKeypresses;\n          //check if there are any duplicate in the choices\n\n          if ((new Set(_.values(choiceKeyPresses))).size !== (_.values(choiceKeyPresses).length)){\n            var uniqN = [];\n            var duplicates = [];\n            jQ.each(choiceKeyPresses, function(i, el){\n              if (uniqN.lastIndexOf(el) === -1) {\n                uniqN.push(el);\n              }else{\n                duplicates.push(el);\n              }\n            });\n\n            jsKey[block.jsKey]['duplicateChoicePresses'] = duplicates;\n          }else{\n            jsKey[block.jsKey]['duplicateChoicePresses'] = [];\n          }\n\n        }\n\n        if (block.type === \"GroupBranchBlock\"){\n          //check if this block has a group set\n          if (!block.customData.hasOwnProperty('groupId') || (block.customData.groupId === \"\")) {\n            jsKey[block.jsKey] = {'noGroup' : \"NoGroupSelected\"};\n          }\n        }\n\n        if (block.type === \"RunTreeBlock\"){\n\n          if (!block.customData.hasOwnProperty('destinationTreeSetId') || (block.customData.destinationTreeSetId === \"\")) {\n            jsKey[block.jsKey] = {'noRunTree':'NoTreeSelected'};\n          }\n        }\n\n        if (block.type === \"GroupSizeBranchBlock\") {\n\n          if (!block.customData.hasOwnProperty('groupId') || (block.customData.groupId === \"\")){\n            jsKey[block.jsKey] = {\n                        'noGroup':\"NoGroupSelected\"\n                       };\n          }\n\n        }\n\n        if (block.type === \"LanguageSelectorBlock\"){\n          if (!block.customData.hasOwnProperty('languageSelectorId') || (block.customData.languageSelectorId === \"\")){\n            jsKey[block.jsKey] = {\n                      'noLanguageSelector' : 'NoLanguageSelectorSelected'\n                    };\n          }\n\n        }\n\n        */\n      })\n\n      return jsKey\n    },\n\n    validateContent() {\n      const tree = this.get('details')\n      const\n        blocks = this.get('blocks')\n\n      return this.validateLanguageAndContentTypes(tree, blocks)\n    },\n\n    updateFloipAlert() {\n      if (app.tree.floipSyncedAt) {\n        jQ('.push-flow-package-alert-message')\n          .html(`<div class=\"alert alert-success\">${Lang.trans('trees.floip-sync-success')}</div>`)\n      } else if (jQ('.floip-push-url-input')\n        .val()) {\n        jQ('.push-flow-package-alert-message')\n          .html(`<div class=\"alert alert-warning\">${Lang.trans('trees.floip-sync-warning')}</div>`)\n      }\n    },\n\n    getEndBlockPosition(topOrBottom, returnBlockKey, offset) {\n      let tallestYPosition = 0\n      let tallestBlockKey = ''\n\n      if (topOrBottom != 'bottom') {\n        // TODO:\n        if (app.tree.get('blocks')[0]) {\n          tallestYPosition = app.tree.get('blocks')[0].uiData.yPosition\n          tallestBlockKey = app.tree.get('blocks')[0].jsKey\n          // Seed this initially, otherwise the \"0\" value will stay shortest.\n        }\n      }\n\n      _.each(app.tree.get('blocks'), (block) => {\n        const thisYPosition = block.uiData.yPosition\n\n        if (topOrBottom == 'bottom') {\n          if (thisYPosition > tallestYPosition) {\n            tallestYPosition = thisYPosition\n            tallestBlockKey = block.jsKey\n          }\n        } else if (thisYPosition < tallestYPosition) {\n          tallestYPosition = thisYPosition\n          tallestBlockKey = block.jsKey\n        }\n      }, this)\n\n      if (typeof offset !== 'undefined') {\n        if (topOrBottom == 'bottom') {\n          tallestYPosition += offset\n        } else {\n          tallestYPosition -= offset\n        }\n      }\n\n      if (returnBlockKey == 1) {\n        return tallestBlockKey\n      }\n\n      return tallestYPosition\n    },\n\n    getTallestBlockPosition(offset) {\n      return this.getEndBlockPosition('bottom', 0, offset)\n    },\n    getShortestBlockPosition(offset) {\n      return this.getEndBlockPosition('top', 0, offset)\n    },\n    getTallestBlockKey() {\n      return this.getEndBlockPosition('bottom', 1)\n    },\n    getShortestBlockKey() {\n      return this.getEndBlockPosition('top', 1)\n    },\n\n  }\n\n  // eg. \"block_1492643090294_28_node_3\"\n\n  app.Tree._blockIdPrefixMatcher = /^(block_\\d+_\\d+).*/\n  app.Tree._validateNonExistentBlockReferences = function (blocks, connections) {\n    // todo: also validate .blocks.items.properties.customData.outputs.conditions.jsKey === \"block_1450273012962_38\"\n    // todo: also validate .details.startingBlockKey === \"block_1450273012962_38\"\n\n    const keysToVerifiedMap = {}\n    const keysToExistsMap = {}\n    const keys = _.pluck(blocks, 'jsKey')\n    const validateKey = function (key) {\n      keysToVerifiedMap[key] = true\n      keysToExistsMap[key] = _.contains(keys, key)\n    }\n\n    _.forEach(connections, function (conn, i) {\n      validateKey(conn.endBlockKey)\n      validateKey(conn.startBlockKey)\n\n      const extractedKey = _.get(this._blockIdPrefixMatcher.exec(conn.outputKey), 1)\n      extractedKey && validateKey(extractedKey)\n    }, this)\n\n    return _.contains(_.values(keysToExistsMap), 0)\n  }\n\n  app.Tree._mergeAndSanitizeImportedInto = function (treeJson, importJson) {\n    if (!importJson) {\n      // validator handles `null`ed json in a particular way\n      return\n    }\n\n    // 1- Remove contents - based on selected channels\n    _.forEach(_.get(importJson, 'blocks'), (block, i) => {\n      if (!_.get(treeJson, 'details.hasVoice', false)) {\n        block.audioFiles = {}\n      }\n      if (!_.get(treeJson, 'details.hasSms', false)) {\n        block.smsContent = {}\n        block.smsAutogenLangs = []\n      }\n      if (!_.get(treeJson, 'details.hasUssd', false)) {\n        block.ussdContent = {}\n        block.ussdAutogenLangs = []\n      }\n      if (!_.get(treeJson, 'details.hasSocial', false)) {\n        block.socialContent = {}\n        block.socialAutogenLangs = []\n      }\n      if (!_.get(treeJson, 'details.hasClipboard', false)) {\n        block.clipboardContent = {}\n        block.clipboardAutogenLangs = []\n      }\n    })\n\n    // 2- Remove contents - based on selected languages\n    const importedEnabledLanguages = _.get(importJson, 'details.enabledLanguages', [])\n    const validLanguages = _.get(treeJson, 'details.enabledLanguages', [])\n    const invalidLanguages = _.difference(importedEnabledLanguages, validLanguages)\n\n    if (invalidLanguages.length > 0) {\n      const blockContentsToReview = [\n        'customData.reviewed',\n        'audioFiles',\n        'smsContent',\n        'ussdContent',\n        'socialContent',\n        'clipboardContent',\n        'smsAutogenLangs',\n        'ussdAutogenLangs',\n        'socialAutogenLangs',\n        'clipboardAutogenLangs',\n      ]\n\n      _.forEach(_.get(importJson, 'blocks'), (block, i) => {\n        _.forEach(blockContentsToReview, (contentPath, i) => {\n          const content = _.get(block, contentPath, {})\n          let sanitizedContent = []\n          // AutogenLangs\n          if (_.isArray(content)) {\n            // remove by value\n            sanitizedContent = _.difference(content, invalidLanguages)\n            // Contents & others\n          } else {\n            // remove by prop\n            sanitizedContent = _.omit(content, invalidLanguages)\n          }\n          _.set(block, contentPath, sanitizedContent)\n        })\n      })\n    }\n\n    // 3- Fix non object contents & Strip out customData from some block types\n    // Block Type KeyValues to strip out\n    const orgContentBlockTypeKeys = {\n      SubscriberBranchBlock: ['customDataCategory', 'customDataValue', 'propertyFieldId'],\n      GroupBranchBlock: ['groupId'],\n      GroupSizeBranchBlock: ['groupId'],\n      SubscriberPropertyBlock: ['customDataCategory', 'customDataValue', 'newLanguage', 'propertyFieldId'],\n      GroupPropertyBlock: ['groupId'],\n      BillSubscriberBlock: [\n        'apiUrlDestination',\n        'apiUsername',\n        'apiPassword',\n        'apiProductCode',\n        'apiStockCode',\n        'apiDeductionAmount',\n        'apiOperationId',\n        'apiOperationType',\n      ],\n      TriggerOutgoingCallBlock: [\n        'recipientType',\n        'scheduleType',\n        'messageVersionSetId',\n        'messageId',\n        'surveyVersionSetId',\n        'surveyId',\n        'treeVersionSetId',\n        'treeId',\n        'languageSelectorId',\n        'subscribers',\n      ],\n      LanguageSelectorBlock: ['languageSelectorId'],\n      CallHistoryBranchBlock: ['mode', 'rangeDays', 'rangeStartDate', 'rangeEndDate'],\n      DirectorySelectionBlock: ['setSubscriberPropertyConfiguration'],\n      OpenQuestionBlock: ['setSubscriberPropertyConfiguration'],\n      RandomOrderMultipleChoiceQuestionBlock: ['setSubscriberPropertyConfiguration'],\n      MultipleChoiceQuestionBlock: ['setSubscriberPropertyConfiguration'],\n      NumericQuestionBlock: ['setSubscriberPropertyConfiguration'],\n      CollaborativeFilteringRatingBlock: ['candidateBlocks'],\n      CollaborativeFilteringRatioBranchBlock: ['candidateBlock'],\n    }\n\n    _.forEach(_.get(importJson, 'blocks'), (block, i) => {\n      block.audioFiles = Array.isArray(block.audioFiles) ? {} : block.audioFiles\n      block.smsContent = Array.isArray(block.smsContent) ? {} : block.smsContent\n      block.ussdContent = Array.isArray(block.ussdContent) ? {} : block.ussdContent\n      block.socialContent = Array.isArray(block.socialContent) ? {} : block.socialContent\n      block.clipboardContent = Array.isArray(block.clipboardContent) ? {} : block.clipboardContent\n      block.customData = Array.isArray(block.customData) ? {} : block.customData\n\n      if (_.has(orgContentBlockTypeKeys, block.type)) {\n        // For each key within the Block Type\n        _.forEach(orgContentBlockTypeKeys[block.type], (key, i) => {\n          delete block.customData[key]\n        })\n      }\n    })\n\n    return _.extend({}, treeJson, {\n      details: _.assign({}, _.get(importJson, 'details'), treeJson.details),\n      blocks: _.get(importJson, 'blocks', []),\n      connections: _.get(importJson, 'connections', []),\n    })\n  }\n\n  app.Tree.validateTreeData = function (json, schema) {\n    // Usage:\n    // schema = app.Tree.createJsonSchemaFor(\n    //    _.pluck(app.ui.languages, 'id'),\n    //    _.keys(app.ui.blockClasses))\n    // app.tree = app.Tree.validateAndCreateFrom(json, schema)\n\n    // json was invalid at some point along the way\n\n    if (!json) {\n      throw _.extend(new Ajv.ValidationError([]), {message: 'Tree validation failed!'})\n    }\n\n    const validate = new Ajv({coerceTypes: true}).compile(schema)\n\n    if (!validate(json)) {\n      // validate.errors are a list like:\n      // [{\"keyword\":\"type\",\"dataPath\":\".details.title\",\"schemaPath\":\"#/properties/details/properties/title/type\",\"params\":{\"type\":\"string\"},\"message\":\"should be string\"}]\n      throw _.extend(\n        new Ajv.ValidationError(validate.errors),\n        {message: 'Tree validation failed!'},\n      )\n    }\n\n    if (this._validateNonExistentBlockReferences(json.blocks, json.connections)) {\n      throw _.extend(new Ajv.ValidationError([\n        {\n          keyword: 'reference',\n          dataPath: '.connections.items.properties',\n          message: 'should reference existing jsKey properties',\n        },\n      ]), {message: 'Tree validation failed!'})\n    }\n  }\n\n  app.Tree.createJsonSchemaFor = function (languages, blockTypes) {\n    // todo: fix enum for language\n    // todo: fix enum for block classes\n    // todo: add enum for `connection.startBlockKey` and `connection.endBlockKey`\n    // todo: add enum for `connection.endBlockKey`\n    // todo: add enum for `details.startingBlockKey`\n\n    // Reference: http://epoberezkin.github.io/ajv/keywords.html\n    return {\n      properties: {\n        id: {type: 'integer'},\n        details: {\n          type: 'object',\n          properties: {\n            title: {type: 'string'},\n            description: {type: 'string'},\n            hasVoice: {type: 'boolean'},\n            enabledLanguages: {\n              type: 'array',\n              items: {\n                type: 'string',\n                enum: languages,\n              },\n            },\n            hasSms: {type: 'boolean'},\n            hasUssd: {type: 'boolean'},\n            hasSocial: {type: 'boolean'},\n            startingBlockKey: {type: 'string'},\n          },\n        },\n        blocks: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              type: {\n                type: 'string',\n                enum: blockTypes,\n              },\n              customData: {\n                type: 'object',\n                properties: {\n                  title: {type: 'string'},\n                  repeatKey: {type: 'integer'},\n                  repeatMax: {type: 'integer'},\n                  repeatDelay: {type: 'integer'},\n                  repeat: {type: 'boolean'},\n                },\n              },\n              uiData: {\n                type: 'object',\n                properties: {\n                  xPosition: {type: 'integer'},\n                  yPosition: {type: 'integer'},\n                  numConnections: {type: 'integer'},\n                },\n              },\n              audioFiles: {type: 'object'},\n              smsContent: {type: 'object'},\n              ussdContent: {type: 'object'},\n              socialContent: {type: 'object'},\n              clipboardContent: {type: 'object'},\n              smsAutogenLangs: {type: 'array'},\n              ussdAutogenLangs: {type: 'array'},\n              socialAutogenLangs: {type: 'array'},\n              clipboardAutogenLangs: {type: 'array'},\n              jsKey: {type: 'string'},\n            },\n          },\n        },\n        connections: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              startBlockKey: {type: 'string'},\n              outputKey: {type: 'string'},\n              endBlockKey: {type: 'string'},\n            },\n          },\n        },\n      },\n    }\n  }\n}())\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    if (sideChannel.has(object)) {\n        throw new RangeError('Cyclic object value');\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, true);\n        var valueSideChannel = getSideChannel();\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","/*!\n *  Lang.js for Laravel localization in JavaScript.\n *\n *  @version 1.1.12\n *  @license MIT https://github.com/rmariuzzo/Lang.js/blob/master/LICENSE\n *  @site    https://github.com/rmariuzzo/Lang.js\n *  @author  Rubens Mariuzzo <rubens@mariuzzo.com>\n */\n\n(function(root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD support.\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // NodeJS support.\n        module.exports = factory();\n    } else {\n        // Browser global support.\n        root.Lang = factory();\n    }\n\n}(this, function() {\n    'use strict';\n\n    function inferLocale() {\n        if (typeof document !== 'undefined' && document.documentElement) {\n            return document.documentElement.lang;\n        }\n    };\n\n    function convertNumber(str) {\n        if (str === '-Inf') {\n            return -Infinity;\n        } else if (str === '+Inf' || str === 'Inf' || str === '*') {\n            return Infinity;\n        }\n        return parseInt(str, 10);\n    }\n\n    // Derived from: https://github.com/symfony/translation/blob/460390765eb7bb9338a4a323b8a4e815a47541ba/Interval.php\n    var intervalRegexp = /^({\\s*(\\-?\\d+(\\.\\d+)?[\\s*,\\s*\\-?\\d+(\\.\\d+)?]*)\\s*})|([\\[\\]])\\s*(-Inf|\\*|\\-?\\d+(\\.\\d+)?)\\s*,\\s*(\\+?Inf|\\*|\\-?\\d+(\\.\\d+)?)\\s*([\\[\\]])$/;\n    var anyIntervalRegexp = /({\\s*(\\-?\\d+(\\.\\d+)?[\\s*,\\s*\\-?\\d+(\\.\\d+)?]*)\\s*})|([\\[\\]])\\s*(-Inf|\\*|\\-?\\d+(\\.\\d+)?)\\s*,\\s*(\\+?Inf|\\*|\\-?\\d+(\\.\\d+)?)\\s*([\\[\\]])/;\n\n    // Default options //\n\n    var defaults = {\n        locale: 'en'/** The default locale if not set. */\n    };\n\n    // Constructor //\n\n    var Lang = function(options) {\n        options = options || {};\n        this.locale = options.locale || inferLocale() || defaults.locale;\n        this.fallback = options.fallback;\n        this.messages = options.messages;\n    };\n\n    // Methods //\n\n    /**\n     * Set messages source.\n     *\n     * @param messages {object} The messages source.\n     *\n     * @return void\n     */\n    Lang.prototype.setMessages = function(messages) {\n        this.messages = messages;\n    };\n\n    /**\n     * Get the current locale.\n     *\n     * @return {string} The current locale.\n     */\n    Lang.prototype.getLocale = function() {\n        return this.locale || this.fallback;\n    };\n\n    /**\n     * Set the current locale.\n     *\n     * @param locale {string} The locale to set.\n     *\n     * @return void\n     */\n    Lang.prototype.setLocale = function(locale) {\n        this.locale = locale;\n    };\n\n    /**\n     * Get the fallback locale being used.\n     *\n     * @return void\n     */\n    Lang.prototype.getFallback = function() {\n        return this.fallback;\n    };\n\n    /**\n     * Set the fallback locale being used.\n     *\n     * @param fallback {string} The fallback locale.\n     *\n     * @return void\n     */\n    Lang.prototype.setFallback = function(fallback) {\n        this.fallback = fallback;\n    };\n\n    /**\n     * This method act as an alias to get() method.\n     *\n     * @param key {string} The key of the message.\n     * @param locale {string} The locale of the message\n     *\n     * @return {boolean} true if the given key is defined on the messages source, otherwise false.\n     */\n    Lang.prototype.has = function(key, locale) {\n        if (typeof key !== 'string' || !this.messages) {\n            return false;\n        }\n\n        return this._getMessage(key, locale) !== null;\n    };\n\n    /**\n     * Get a translation message.\n     *\n     * @param key {string} The key of the message.\n     * @param replacements {object} The replacements to be done in the message.\n     * @param locale {string} The locale to use, if not passed use the default locale.\n     *\n     * @return {string} The translation message, if not found the given key.\n     */\n    Lang.prototype.get = function(key, replacements, locale) {\n        if (!this.has(key, locale)) {\n            return key;\n        }\n\n        var message = this._getMessage(key, locale);\n        if (message === null) {\n            return key;\n        }\n\n        if (replacements) {\n            message = this._applyReplacements(message, replacements);\n        }\n\n        return message;\n    };\n\n    /**\n     * This method act as an alias to get() method.\n     *\n     * @param key {string} The key of the message.\n     * @param replacements {object} The replacements to be done in the message.\n     *\n     * @return {string} The translation message, if not found the given key.\n     */\n    Lang.prototype.trans = function(key, replacements) {\n        return this.get(key, replacements);\n    };\n\n    /**\n     * Gets the plural or singular form of the message specified based on an integer value.\n     *\n     * @param key {string} The key of the message.\n     * @param count {number} The number of elements.\n     * @param replacements {object} The replacements to be done in the message.\n     * @param locale {string} The locale to use, if not passed use the default locale.\n     *\n     * @return {string} The translation message according to an integer value.\n     */\n    Lang.prototype.choice = function(key, number, replacements, locale) {\n        // Set default values for parameters replace and locale\n        replacements = typeof replacements !== 'undefined'\n            ? replacements\n            : {};\n\n        // The count must be replaced if found in the message\n        replacements.count = number;\n\n        // Message to get the plural or singular\n        var message = this.get(key, replacements, locale);\n\n        // Check if message is not null or undefined\n        if (message === null || message === undefined) {\n            return message;\n        }\n\n        // Separate the plural from the singular, if any\n        var messageParts = message.split('|');\n\n        // Get the explicit rules, If any\n        var explicitRules = [];\n\n        for (var i = 0; i < messageParts.length; i++) {\n            messageParts[i] = messageParts[i].trim();\n\n            if (anyIntervalRegexp.test(messageParts[i])) {\n                var messageSpaceSplit = messageParts[i].split(/\\s/);\n                explicitRules.push(messageSpaceSplit.shift());\n                messageParts[i] = messageSpaceSplit.join(' ');\n            }\n        }\n\n        // Check if there's only one message\n        if (messageParts.length === 1) {\n            // Nothing to do here\n            return message;\n        }\n\n        // Check the explicit rules\n        for (var j = 0; j < explicitRules.length; j++) {\n            if (this._testInterval(number, explicitRules[j])) {\n                return messageParts[j];\n            }\n        }\n\n        locale = locale || this._getLocale(key);\n        var pluralForm = this._getPluralForm(number, locale);\n\n        return messageParts[pluralForm];\n    };\n\n    /**\n     * This method act as an alias to choice() method.\n     *\n     * @param key {string} The key of the message.\n     * @param count {number} The number of elements.\n     * @param replacements {object} The replacements to be done in the message.\n     *\n     * @return {string} The translation message according to an integer value.\n     */\n    Lang.prototype.transChoice = function(key, count, replacements) {\n        return this.choice(key, count, replacements);\n    };\n\n    /**\n     * Parse a message key into components.\n     *\n     * @param key {string} The message key to parse.\n     * @param key {string} The message locale to parse\n     * @return {object} A key object with source and entries properties.\n     */\n    Lang.prototype._parseKey = function(key, locale) {\n        if (typeof key !== 'string' || typeof locale !== 'string') {\n            return null;\n        }\n\n        var segments = key.split('.');\n        var source = segments[0].replace(/\\//g, '.');\n\n        return {\n            source: locale + '.' + source,\n            sourceFallback: this.getFallback() + '.' + source,\n            entries: segments.slice(1)\n        };\n    };\n\n    /**\n     * Returns a translation message. Use `Lang.get()` method instead, this methods assumes the key exists.\n     *\n     * @param key {string} The key of the message.\n     * @param locale {string} The locale of the message\n     *\n     * @return {string} The translation message for the given key.\n     */\n    Lang.prototype._getMessage = function(key, locale) {\n        locale = locale || this.getLocale();\n        \n        key = this._parseKey(key, locale);\n\n        // Ensure message source exists.\n        if (this.messages[key.source] === undefined && this.messages[key.sourceFallback] === undefined) {\n            return null;\n        }\n\n        // Get message from default locale.\n        var message = this.messages[key.source];\n        var entries = key.entries.slice();\n        var subKey = entries.join('.');\n        message = message !== undefined ? this._getValueInKey(message, subKey) : undefined;\n\n\n        // Get message from fallback locale.\n        if (typeof message !== 'string' && this.messages[key.sourceFallback]) {\n            message = this.messages[key.sourceFallback];\n            entries = key.entries.slice();\n            subKey = '';\n            while (entries.length && message !== undefined) {\n                var subKey = !subKey ? entries.shift() : subKey.concat('.', entries.shift());\n                if (message[subKey]) {\n                    message = message[subKey]\n                    subKey = '';\n                }\n            }\n        }\n\n        if (typeof message !== 'string') {\n            return null;\n        }\n\n        return message;\n    };\n\n    Lang.prototype._getValueInKey = function(obj, str) {\n        // If the full key exists just return the value\n        if (typeof obj[str] === 'string') {\n            return obj[str]\n        }\n\n        str = str.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n        str = str.replace(/^\\./, '');           // strip a leading dot\n\n        var parts = str.split('.');\n\n        for (var i = 0, n = parts.length; i < n; ++i) {\n            var currentKey = parts.slice(0, i + 1).join('.');\n            var restOfTheKey = parts.slice(i + 1, parts.length).join('.')\n            \n            if (obj[currentKey]) {\n                return this._getValueInKey(obj[currentKey], restOfTheKey)\n            }\n        }\n\n        return obj;\n    };\n\n    /**\n     * Return the locale to be used between default and fallback.\n     * @param {String} key\n     * @return {String}\n     */\n    Lang.prototype._getLocale = function(key) {\n        key = this._parseKey(key, this.locale)\n        if (this.messages[key.source]) {\n            return this.locale;\n        }\n        if (this.messages[key.sourceFallback]) {\n            return this.fallback;\n        }\n        return null;\n    };\n\n    /**\n     * Find a message in a translation tree using both dotted keys and regular ones\n     *\n     * @param pathSegments {array} An array of path segments such as ['family', 'father']\n     * @param tree {object} The translation tree\n     */\n    Lang.prototype._findMessageInTree = function(pathSegments, tree) {\n        while (pathSegments.length && tree !== undefined) {\n            var dottedKey = pathSegments.join('.');\n            if (tree[dottedKey]) {\n                tree = tree[dottedKey];\n                break;\n            }\n\n            tree = tree[pathSegments.shift()]\n        }\n\n        return tree;\n    };\n\n    /**\n     * Sort replacement keys by length in descending order.\n     *\n     * @param a {string} Replacement key\n     * @param b {string} Sibling replacement key\n     * @return {number}\n     * @private\n     */\n    Lang.prototype._sortReplacementKeys = function(a, b) {\n        return b.length - a.length;\n    };\n\n    /**\n     * Apply replacements to a string message containing placeholders.\n     *\n     * @param message {string} The text message.\n     * @param replacements {object} The replacements to be done in the message.\n     *\n     * @return {string} The string message with replacements applied.\n     */\n    Lang.prototype._applyReplacements = function(message, replacements) {\n        var keys = Object.keys(replacements).sort(this._sortReplacementKeys);\n\n        keys.forEach(function(replace) {\n            message = message.replace(new RegExp(':' + replace, 'gi'), function (match) {\n                var value = replacements[replace];\n\n                // Capitalize all characters.\n                var allCaps = match === match.toUpperCase();\n                if (allCaps) {\n                    return value.toUpperCase();\n                }\n\n                // Capitalize first letter.\n                var firstCap = match === match.replace(/\\w/i, function(letter) {\n                    return letter.toUpperCase();\n                });\n                if (firstCap) {\n                    return value.charAt(0).toUpperCase() + value.slice(1);\n                }\n\n                return value;\n            })\n        });\n        return message;\n    };\n\n    /**\n     * Checks if the given `count` is within the interval defined by the {string} `interval`\n     *\n     * @param  count     {int}    The amount of items.\n     * @param  interval  {string} The interval to be compared with the count.\n     * @return {boolean}          Returns true if count is within interval; false otherwise.\n     */\n    Lang.prototype._testInterval = function(count, interval) {\n        /**\n         * From the Symfony\\Component\\Translation\\Interval Docs\n         *\n         * Tests if a given number belongs to a given math interval.\n         *\n         * An interval can represent a finite set of numbers:\n         *\n         *  {1,2,3,4}\n         *\n         * An interval can represent numbers between two numbers:\n         *\n         *  [1, +Inf]\n         *  ]-1,2[\n         *\n         * The left delimiter can be [ (inclusive) or ] (exclusive).\n         * The right delimiter can be [ (exclusive) or ] (inclusive).\n         * Beside numbers, you can use -Inf and +Inf for the infinite.\n         */\n\n        if (typeof interval !== 'string') {\n            throw 'Invalid interval: should be a string.';\n        }\n\n        interval = interval.trim();\n\n        var matches = interval.match(intervalRegexp);\n        if (!matches) {\n            throw 'Invalid interval: ' + interval;\n        }\n\n        if (matches[2]) {\n            var items = matches[2].split(',');\n            for (var i = 0; i < items.length; i++) {\n                if (parseInt(items[i], 10) === count) {\n                    return true;\n                }\n            }\n        } else {\n            // Remove falsy values.\n            matches = matches.filter(function(match) {\n                return !!match;\n            });\n\n            var leftDelimiter = matches[1];\n            var leftNumber = convertNumber(matches[2]);\n            if (leftNumber === Infinity) {\n                leftNumber = -Infinity;\n            }\n            var rightNumber = convertNumber(matches[3]);\n            var rightDelimiter = matches[4];\n\n            return (leftDelimiter === '[' ? count >= leftNumber : count > leftNumber)\n                && (rightDelimiter === ']' ? count <= rightNumber : count < rightNumber);\n        }\n\n        return false;\n    };\n\n    /**\n     * Returns the plural position to use for the given locale and number.\n     *\n     * The plural rules are derived from code of the Zend Framework (2010-09-25),\n     * which is subject to the new BSD license (http://framework.zend.com/license/new-bsd).\n     * Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)\n     *\n     * @param {Number} count\n     * @param {String} locale\n     * @return {Number}\n     */\n    Lang.prototype._getPluralForm = function(count, locale) {\n        switch (locale) {\n            case 'az':\n            case 'bo':\n            case 'dz':\n            case 'id':\n            case 'ja':\n            case 'jv':\n            case 'ka':\n            case 'km':\n            case 'kn':\n            case 'ko':\n            case 'ms':\n            case 'th':\n            case 'tr':\n            case 'vi':\n            case 'zh':\n                return 0;\n\n            case 'af':\n            case 'bn':\n            case 'bg':\n            case 'ca':\n            case 'da':\n            case 'de':\n            case 'el':\n            case 'en':\n            case 'eo':\n            case 'es':\n            case 'et':\n            case 'eu':\n            case 'fa':\n            case 'fi':\n            case 'fo':\n            case 'fur':\n            case 'fy':\n            case 'gl':\n            case 'gu':\n            case 'ha':\n            case 'he':\n            case 'hu':\n            case 'is':\n            case 'it':\n            case 'ku':\n            case 'lb':\n            case 'ml':\n            case 'mn':\n            case 'mr':\n            case 'nah':\n            case 'nb':\n            case 'ne':\n            case 'nl':\n            case 'nn':\n            case 'no':\n            case 'om':\n            case 'or':\n            case 'pa':\n            case 'pap':\n            case 'ps':\n            case 'pt':\n            case 'so':\n            case 'sq':\n            case 'sv':\n            case 'sw':\n            case 'ta':\n            case 'te':\n            case 'tk':\n            case 'ur':\n            case 'zu':\n                return (count == 1)\n                    ? 0\n                    : 1;\n\n            case 'am':\n            case 'bh':\n            case 'fil':\n            case 'fr':\n            case 'gun':\n            case 'hi':\n            case 'hy':\n            case 'ln':\n            case 'mg':\n            case 'nso':\n            case 'xbr':\n            case 'ti':\n            case 'wa':\n                return ((count === 0) || (count === 1))\n                    ? 0\n                    : 1;\n\n            case 'be':\n            case 'bs':\n            case 'hr':\n            case 'ru':\n            case 'sr':\n            case 'uk':\n                return ((count % 10 == 1) && (count % 100 != 11))\n                    ? 0\n                    : (((count % 10 >= 2) && (count % 10 <= 4) && ((count % 100 < 10) || (count % 100 >= 20)))\n                        ? 1\n                        : 2);\n\n            case 'cs':\n            case 'sk':\n                return (count == 1)\n                    ? 0\n                    : (((count >= 2) && (count <= 4))\n                        ? 1\n                        : 2);\n\n            case 'ga':\n                return (count == 1)\n                    ? 0\n                    : ((count == 2)\n                        ? 1\n                        : 2);\n\n            case 'lt':\n                return ((count % 10 == 1) && (count % 100 != 11))\n                    ? 0\n                    : (((count % 10 >= 2) && ((count % 100 < 10) || (count % 100 >= 20)))\n                        ? 1\n                        : 2);\n\n            case 'sl':\n                return (count % 100 == 1)\n                    ? 0\n                    : ((count % 100 == 2)\n                        ? 1\n                        : (((count % 100 == 3) || (count % 100 == 4))\n                            ? 2\n                            : 3));\n\n            case 'mk':\n                return (count % 10 == 1)\n                    ? 0\n                    : 1;\n\n            case 'mt':\n                return (count == 1)\n                    ? 0\n                    : (((count === 0) || ((count % 100 > 1) && (count % 100 < 11)))\n                        ? 1\n                        : (((count % 100 > 10) && (count % 100 < 20))\n                            ? 2\n                            : 3));\n\n            case 'lv':\n                return (count === 0)\n                    ? 0\n                    : (((count % 10 == 1) && (count % 100 != 11))\n                        ? 1\n                        : 2);\n\n            case 'pl':\n                return (count == 1)\n                    ? 0\n                    : (((count % 10 >= 2) && (count % 10 <= 4) && ((count % 100 < 12) || (count % 100 > 14)))\n                        ? 1\n                        : 2);\n\n            case 'cy':\n                return (count == 1)\n                    ? 0\n                    : ((count == 2)\n                        ? 1\n                        : (((count == 8) || (count == 11))\n                            ? 2\n                            : 3));\n\n            case 'ro':\n                return (count == 1)\n                    ? 0\n                    : (((count === 0) || ((count % 100 > 0) && (count % 100 < 20)))\n                        ? 1\n                        : 2);\n\n            case 'ar':\n                return (count === 0)\n                    ? 0\n                    : ((count == 1)\n                        ? 1\n                        : ((count == 2)\n                            ? 2\n                            : (((count % 100 >= 3) && (count % 100 <= 10))\n                                ? 3\n                                : (((count % 100 >= 11) && (count % 100 <= 99))\n                                    ? 4\n                                    : 5))));\n\n            default:\n                return 0;\n        }\n    };\n\n    return Lang;\n\n}));\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","var convert = require('./convert'),\n    func = convert('every', require('../every'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardRoot.vue?vue&type=style&index=0&id=0a9a2f9a&prod&lang=scss&\"","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","import {chain, keyBy, uniqBy, union} from 'lodash'\nimport axios from 'axios'\nimport Vue from 'vue'\nimport {SupportedContentType, SupportedMode} from '@floip/flow-runner'\nimport {routeFrom} from '@/lib/mixins/Routes'\n\nexport default {\n  state: chain(global)\n    .get('__AUDIO__', {})\n    .defaultsDeep({\n      library: [],\n      recording: {\n        // keyed by `{jsKey}:{langId}`\n        isCalling: {},\n        isRecorderSelectorVisible: false,\n        recorders: [],\n      },\n    })\n    .value(),\n\n  getters: {\n    availableAudioFiles: (state) => state.library || [],\n    availableAudiosByUri: (state) => keyBy(state.library, 'uri'),\n  },\n\n  mutations: {\n    addRecorder({recording}, recorder) {\n      recording.recorders = uniqBy(union(recording.recorders, [recorder]), 'id')\n    },\n\n    pushAudioIntoLibrary({library, recording}, audio) {\n      library.push(audio)\n    },\n\n    setRecordingStatusFor({recording: {isCalling}}, {key, value: status}) {\n      Vue.set(isCalling, key, status)\n    },\n\n    setAudioRecordingConfigVisibilityForSelectedBlock({recording}, {langId, isVisible}) {\n      recording.isRecorderSelectorVisible = isVisible\n    },\n\n    setAudioRecordingConfigVisibilityFor({recording}, {key, isVisible}) {\n      recording.isRecorderSelectorVisible = isVisible\n    },\n  },\n\n  actions: {\n    startAudioRecordingFor({\n                             commit, dispatch, state, rootState,\n                           }, {\n                             key,\n                             description,\n                             name: recorder_name,\n                             phone: recorder_phonenumber,\n                             isNew: is_new_recorder,\n                           }) {\n      commit('setAudioRecordingConfigVisibilityFor', {key, isVisible: false})\n      // TODO: enable showAppMessageFor once available\n      // dispatch('showAppMessageFor', {message: 'Atempting to call...'})\n\n      return axios.post(\n        routeFrom('trees.calltorecordStart', null, rootState.trees.ui.routes),\n        {\n          recorder_phonenumber, recorder_name, is_new_recorder, description,\n        },\n        {headers: {'Content-Type': 'application/json'}},\n      )\n        .then(({\n                 data: {\n                   uuid, queue_id: queueId, status, status_description, description, recorder_id,\n                 },\n               }) => {\n          commit('addRecorder', {\n            id: recorder_id,\n            name: recorder_name,\n            phone: recorder_phonenumber,\n          })\n\n          // TODO: enable showAppMessageFor once available\n          // if (status_description === 'error') {\n          //   const message = status === 'no_credit_error' ? description : 'Error dialing number'\n          // dispatch('showAppMessageFor', {message, isComplete: true})\n          // return\n          // }\n\n          // status_description is 'sending_to_dn'\n          // TODO: enable showAppMessageFor once available\n          // dispatch('showAppMessageFor', {message: 'Sending out call...'})\n          commit('setRecordingStatusFor', {\n            key, uuid, queueId, value: 'initiating_call',\n          })\n          setTimeout(() => dispatch('fetchAudioRecordingStatusFor', {key, uuid, queueId}), 3000)\n        })\n        .catch((error) => {\n          if (error.response) {\n            // Request made and server responded\n            console.error('Audio', error.response.data)\n          } else if (error.request) {\n            console.log('Audio', 'The request was made but no response was received', error)\n          } else {\n            console.log('Audio', 'Something happened in setting up the request that triggered an Error', error)\n          }\n        })\n    },\n\n    /**\n     * fetch Audio Recording Status\n     *\n     * @param commit\n     * @param dispatch\n     * @param state\n     * @param rootState\n     * @param key\n     * @param uuid\n     * @param queueId\n     * @returns {Promise<AxiosResponse<any>>}\n     */\n    fetchAudioRecordingStatusFor({\n                                   commit, dispatch, state, rootState,\n                                 }, {key, uuid, queueId}) {\n      return axios.post(\n        routeFrom('trees.calltorecordStatus', null, rootState.trees.ui.routes),\n        {uuid, queue_id: queueId},\n        {headers: {'Content-Type': 'application/json'}},\n      )\n        .then(({data}) => {\n          console.debug('Call recording status', data.status)\n          dispatch('checkAudioRecordingStatusFor', {\n            ...data, key, uuid, queueId,\n          })\n        })\n        .catch((error) => {\n          if (error.response) {\n            // Request made and server responded\n            console.error('Audio', error.response.data)\n          } else if (error.request) {\n            console.log('Audio', 'The request was made but no response was received', error)\n          } else {\n            console.log('Audio', 'Something happened in setting up the request that triggered an Error', error)\n          }\n        })\n    },\n\n    async checkAudioRecordingStatusFor({commit, dispatch, state}, data) {\n      const {\n        key, uuid, audio_file_id, queueId, status, description, created_at, duration_seconds,\n      } = data\n\n      commit('setRecordingStatusFor', {\n        key, uuid, queueId, value: status,\n      })\n\n      if (status === 'new') {\n        const langId = extractLangIdFromRecordingKey(key)\n        const extension = description.split('.')[description.split('.').length - 1]\n        const uploadedAudio = {\n          id: audio_file_id,\n          filename: uuid,\n          description,\n          language_id: langId,\n          duration_seconds,\n          original_extension: extension,\n          created_at,\n        }\n\n        const resource = await dispatch('flow/resource_createWith', {\n          props: {\n            uuid,\n            values: {\n              language_id: langId,\n              content_type: SupportedContentType.AUDIO,\n              modes: [SupportedMode.IVR],\n              value: description,\n            },\n          },\n        })\n\n        dispatch('flow/resource_add', {resource})\n        commit('pushAudioIntoLibrary', uploadedAudio)\n\n        // TODO: what should be the equivalence of this in flow-builder\n\n        // commit('updateReviewedStateFor', {jsKey, langId, value: false})\n        // dispatch('attemptSaveTree')\n\n        // todo: refactor @jory's audio file stuff so that we can reuse everywhere\n      }\n\n      const isComplete = status === 'error' || status === 'new'\n      // TODO: enable showAppMessageFor once available\n      // const fetchStatusMessageMap = {\n      // + hide\n      //   error: 'Error dialing number',\n      // + hide\n      //   new: 'Call recorded successfully',\n      // sending_to_dn\n      //   in_progress: 'Dialing...',\n      //   queued: 'Dialing...',\n      //   recording: 'Recording...',\n      //   listen_to_recording: 'Listening to recording...',\n      //   sending_audio_to_cn: 'Retrieving audio...',\n      //   processing: 'Processing audio file...',\n      //   discard_and_record: 'Audio discarded, Recording again...'\n      // }\n      //\n      if (isComplete) {\n        // dispatch('showAppMessageFor', {message: fetchStatusMessageMap[status], isComplete: true})\n        return\n      }\n      // dispatch('showAppMessageFor', {message: fetchStatusMessageMap[status]})\n\n      const fetchStatusDelayMap = {\n        in_progress: 3000,\n        queued: 2000,\n        recording: 100,\n        listen_to_recording: 1000,\n        sending_audio_to_cn: 500,\n        processing: 300,\n        discard_and_record: 3000,\n      }\n\n      setTimeout((_) => dispatch('fetchAudioRecordingStatusFor', {key, uuid, queueId}), fetchStatusDelayMap[status])\n    },\n  },\n}\n\nconst extractLangIdFromRecordingKey = (key) => key.split(':')[1]\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"import-flow\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 m-2\"},[_c('div',{staticClass:\"card d-flex bg-light\"},[_c('div',{staticClass:\"card-body\"},[_c('div',[(_vm.hasImportFlowTitle)?_c('h2',[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.import-flow'))+\" \")]):_vm._e(),_c('p',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.create-flow-from-json')))]),(_vm.trans('flow-builder.import-note'))?_c('div',{staticClass:\"alert alert-info\",attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.import-note'))+\" \")]):_vm._e()]),_c('div',[_c('label',{staticClass:\"mt-2 no-weight\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.uploadOrPaste),expression:\"uploadOrPaste\"}],attrs:{\"type\":\"radio\",\"value\":\"upload\"},domProps:{\"checked\":_vm._q(_vm.uploadOrPaste,\"upload\")},on:{\"change\":function($event){_vm.uploadOrPaste=\"upload\"}}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.import-json-file'))+\" \")]),(_vm.uploadOrPaste === 'upload')?_c('div',{staticClass:\"ml-3 mr-3\"},[_c('div',{staticClass:\"form-inline mb-2\"},[_c('span',{staticClass:\"one-line\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",on:{\"click\":_vm.chooseFile}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")((!_vm.flowJsonText ? 'flow-builder.import-file' : 'flow-builder.replace-file')))+\" \")]),_c('input',{ref:\"file\",attrs:{\"id\":\"flowUpload\",\"type\":\"file\",\"hidden\":\"\"},on:{\"change\":_vm.handleFileUpload}}),(_vm.fileName)?_c('strong',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.uploaded-file')))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")])]),(_vm.flowJsonText)?_c('text-editor',{staticClass:\"tall-text\",attrs:{\"value\":_vm.flowJson,\"label\":\"\",\"placeholder\":_vm._f(\"trans\")('flow-builder.edit-flow-json')},on:{\"input\":_vm.setUpdatingAndHandleFlowJsonTextChange}}):_vm._e()],1):_vm._e()]),_c('div',{staticClass:\"mt-2\"},[_c('label',{staticClass:\"mt-2 no-weight\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.uploadOrPaste),expression:\"uploadOrPaste\"}],attrs:{\"type\":\"radio\",\"value\":\"paste\"},domProps:{\"checked\":_vm._q(_vm.uploadOrPaste,\"paste\")},on:{\"change\":function($event){_vm.uploadOrPaste=\"paste\"}}}),_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.paste-json-directly'))+\" \")]),(_vm.uploadOrPaste === 'paste')?_c('div',{staticClass:\"ml-3 mr-3\"},[_c('text-editor',{staticClass:\"tall-text\",attrs:{\"value\":_vm.flowJson,\"label\":\"\",\"placeholder\":_vm._f(\"trans\")('flow-builder.paste-flow-json')},on:{\"input\":_vm.setUpdatingAndHandleFlowJsonTextChange}})],1):_vm._e()]),_c('error-handler-v2'),_c('div',{staticClass:\"float-right mt-3\"},[_c('router-link',{staticClass:\"btn btn-outline-secondary mr-2\",attrs:{\"to\":_vm.route('flows.cancelImport')}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.cancel'))+\" \")]),_c('a',{staticClass:\"btn btn-primary\",class:{'disabled': _vm.disableContinue},attrs:{\"href\":_vm.route('flows.editFlow', {flowId: _vm.flowUUID, component: 'builder', mode: 'edit'})},on:{\"click\":function($event){$event.preventDefault();_vm.handleImportFlow(_vm.route('flows.editFlow', {flowId: _vm.flowUUID, component: 'builder', mode: 'edit'}))}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.create-flow'))+\" \")])],1)],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {ILanguage} from '@floip/flow-runner/dist/flow-spec/ILanguage'\nimport {ActionTree, GetterTree, MutationTree} from 'vuex'\nimport {IRootState} from '@/store'\nimport {IBlock, IContainer, IContext} from '@floip/flow-runner'\nimport {cloneDeep, difference, differenceWith, find, findIndex, get, isEmpty, isEqual, join, keys, reject, set, uniq} from 'lodash'\nimport {ErrorObject} from 'ajv'\nimport Lang from '@/lib/filters/lang'\nimport {IContactPropertyMultipleChoice} from '../block-types/Core_SetContactPropertyStore.model'\nimport {IGroupOption} from '../block-types/Core_SetGroupMembershipStore'\nimport {\n  checkSingleFlowOnly,\n  detectedGroupChanges,\n  detectedLanguageChanges,\n  detectedPropertyChanges,\n  getGroupBlocks,\n  getPropertyBlocks,\n  updateResourcesForLanguageMatch,\n} from '../utils/importHelpers'\n\n// AJV keywords considered as important errors which should block an import\nconst TRUE_AJV_ERROR_KEY_WORDS = ['required', 'additionalProperties', 'minItems', 'error', 'backend_error']\n// AJV dataPath part considered as important errors which should block an import\nconst TRUE_AJV_ERROR_DATA_PATH_PART = [\n  // scenario eg.: `keyword = 'pattern', dataPath = 'flow/0/uuid'`\n  'uuid',\n]\n\nexport const getters: GetterTree<IImportState, IRootState> = {\n  flowSpecVersion: (state) => state.flowSpecVersion,\n  hasSomethingToImport: (state) => !isEmpty(state.flowJsonText),\n  languagesMissing: (state) => !isEmpty(state.missingLanguages),\n  propertiesMissing: (state) => !isEmpty(state.missingProperties),\n  groupsMissing: (state) => !isEmpty(state.missingGroups),\n  isSafeToImport: (state, getters) => Array.isArray(getters.containerImportValidationTrueErrors)\n    && getters.containerImportValidationTrueErrors.length === 0\n    && getters.languagesMissing === false\n    && getters.propertiesMissing === false\n    && getters.groupsMissing === false,\n  hasWarnings: (state, getters) => getters.containerImportValidationWarningErrors !== undefined\n    && getters.containerImportValidationWarningErrors.length > 0,\n  containerImportValidationTrueErrors: (state, getters) => getters.containerImportValidationErrors?.filter(\n    (ajvError: ErrorObject) => TRUE_AJV_ERROR_KEY_WORDS.includes(ajvError.keyword)\n      || TRUE_AJV_ERROR_DATA_PATH_PART.some((pathPart) => ajvError.dataPath.includes(pathPart)),\n  ),\n  containerImportValidationWarningErrors: (state, getters) => getters.containerImportValidationErrors?.filter(\n    (ajvError: ErrorObject) => !TRUE_AJV_ERROR_KEY_WORDS.includes(ajvError.keyword)\n      && !TRUE_AJV_ERROR_DATA_PATH_PART.some((pathPart) => ajvError.dataPath.includes(pathPart)),\n    ),\n  containerImportValidationErrors: (state, getters, rootState) => rootState['validation'].validationStatuses?.container_import?.ajvErrors ?? [],\n}\n\nexport const mutations: MutationTree<IImportState> = {\n  setUpdating(state, updatingStatus) {\n    state.updating = updatingStatus\n  },\n  baseReset(state) {\n    state.flowContainer = null\n    state.flowJsonText = ''\n    state.flowSpecVersion = undefined\n    state.propertyBlocks = []\n    state.groupBlocks = []\n  },\n  resetLanguageMatching(state) {\n    state.matchingLanguages = []\n    state.missingLanguages = []\n    state.existingLanguagesWithoutMatch = []\n  },\n  resetPropertyMatching(state) {\n    state.matchingLanguages = []\n    state.blocksMissingProperties = {}\n    state.missingProperties = []\n    state.existingPropertiesWithoutMatch = []\n  },\n  resetGroupMatching(state) {\n    state.matchingGroups = []\n    state.blocksMissingGroups = {}\n    state.missingGroups = []\n    state.existingGroupsWithoutMatch = []\n  },\n  addMissingLanguage(state, language) {\n    state.missingLanguages.push(language)\n  },\n  setMissingLanguages(state, languages) {\n    state.missingLanguages = languages\n  },\n  setMatchingLanguages(state, languages) {\n    state.matchingLanguages = languages\n  },\n  setExistingLanguagesWithoutMatch(state, languages) {\n    state.existingLanguagesWithoutMatch = languages\n  },\n  /**\n   * Set languages for the 1st flow\n   * Imports can only contain 01 flow.\n   * @param state\n   * @param languages\n   */\n  setImportedFlowLanguages(state, languages) {\n    if (state.flowContainer) {\n      state.flowContainer.flows[0].languages = languages\n    } else {\n      throw new Error('flowContainer is not set')\n    }\n  },\n  /**\n   * Set resources for the 1st flow\n   * Imports can only contain 01 flow.\n   * @param state\n   * @param resources\n   */\n  setImportedFlowResources(state, resources) {\n    if (state.flowContainer) {\n      state.flowContainer.flows[0].resources = resources\n    } else {\n      throw new Error('flowContainer is not set')\n    }\n  },\n  addFlowLanguage(state, language) {\n    if (state.flowContainer) {\n      state.flowContainer.flows[0].languages.push(language)\n    } else {\n      throw new Error('flowContainer is not set')\n    }\n  },\n  setFlowJsonText(state, text) {\n    state.flowJsonText = text\n  },\n  setFlowContainer(state, flowContainer) {\n    state.flowContainer = flowContainer\n  },\n  setFlowContainerBlocks(state, blocks) {\n    if (state.flowContainer) {\n      set(state.flowContainer, 'flows[0].blocks', blocks)\n    }\n  },\n  setFlowSpecVersion(state, version) {\n    state.flowSpecVersion = version\n  },\n  setGroupBlocks(state, groupBlocks) {\n    state.groupBlocks = groupBlocks\n  },\n  setPropertyBlocks(state, propertyBlocks) {\n    state.propertyBlocks = propertyBlocks\n  },\n  setBlocksMissingProperties(state, blocksMissingProperties) {\n    state.blocksMissingProperties = blocksMissingProperties\n  },\n  setMissingProperties(state, missingProperties) {\n    state.missingProperties = missingProperties\n  },\n  setMatchingProperties(state, matchingProperties) {\n    state.matchingProperties = matchingProperties\n  },\n  setExistingPropertiesWithoutMatch(state, existingPropertiesWithoutMatch) {\n    state.existingPropertiesWithoutMatch = existingPropertiesWithoutMatch\n  },\n  setBlocksMissingGroups(state, blocksMissingGroups) {\n    state.blocksMissingGroups = blocksMissingGroups\n  },\n  setMissingGroups(state, missingGroups) {\n    state.missingGroups = missingGroups\n  },\n  setMatchingGroups(state, matchingGroups) {\n    state.matchingGroups = matchingGroups\n  },\n  setExistingGroupsWithoutMatch(state, existingGroupsWithoutMatch) {\n    state.existingGroupsWithoutMatch = existingGroupsWithoutMatch\n  },\n}\n\nexport const actions: ActionTree<IImportState, IRootState> = {\n  async setFlowJson({commit, state, getters, dispatch}, value: string) {\n    commit('validation/resetValidationStatuses', {key: 'container_import'}, {root: true})\n    commit('setFlowJsonText', value)\n    let flowContainer\n    try {\n      // check valid json\n      flowContainer = JSON.parse(state.flowJsonText)\n    } catch (e) {\n      commit('resetLanguageMatching')\n      commit('resetPropertyMatching')\n      commit('resetGroupMatching')\n    }\n\n    const hasProgrammaticError = await dispatch('validate_containerImportWithProgrammaticLogic', {\n      key: 'container_import',\n      flowContainer,\n    })\n    if (hasProgrammaticError === false) {\n      return\n    } else {\n      const validationErrors = await dispatch('validation/validate_containerImport', {flowContainer}, {root: true})\n\n      if (flowContainer !== undefined) {\n        commit('setFlowSpecVersion', flowContainer?.specification_version)\n      }\n    }\n\n    if (getters.isSafeToImport === false) {\n      return\n    }\n\n    //We know it's valid JSON at least. Let's display it correctly formatted\n    commit('setFlowJsonText', JSON.stringify(flowContainer, null, 2))\n\n    // Try to fix the imported container\n    const oldFlowContainer = cloneDeep(state.flowContainer)\n    const newFlowContainer = cloneDeep(flowContainer)\n    commit('setFlowContainer', flowContainer)\n\n    if (detectedLanguageChanges({flowContainer: newFlowContainer, oldFlowContainer})) {\n      await dispatch('tryToFixLanguages', state.flowContainer)\n    }\n    // matching on \"property_key\" == \"name\" in builder.config.json\n    const newPropertyBlocks = getPropertyBlocks(flowContainer)\n    if (detectedPropertyChanges({newPropertyBlocks, oldPropertyBlocks: state.propertyBlocks})) {\n      commit('setPropertyBlocks', newPropertyBlocks)\n      await dispatch('tryToFixProperties', state.propertyBlocks)\n    }\n    // matching on \"group_key\" == \"id\" in builder.config.json\n    const newGroupBlocks = getGroupBlocks(flowContainer)\n    if (detectedGroupChanges({newGroupBlocks, oldGroupBlocks: state.groupBlocks})) {\n      commit('setGroupBlocks', newGroupBlocks)\n      await dispatch('tryToFixGroups', state.groupBlocks)\n    }\n    commit('setFlowJsonText', JSON.stringify(state.flowContainer, null, 2))\n  },\n  async validate_containerImportWithProgrammaticLogic(\n    {state, commit, getters, rootState, rootGetters},\n    {key, flowContainer}: { key: string, flowContainer: IContainer },\n  ): Promise<Boolean> {\n    const dataPath = '/container'\n    // we provide a keyword 'error' in ajvError to tell our error handler this should not be ignored (not like `pattern` keyword)\n    const keyword = 'error'\n    if (flowContainer === undefined) {\n      commit('validation/pushAjvErrorToValidationStatuses', {\n        key,\n        ajvError: {dataPath, keyword, message: Lang.trans('flow-builder-validation.invalid-json-provided')} as ErrorObject,\n      }, {root: true})\n      return false\n    } else {\n      let isValid = true\n      // We have a valid json file\n      if (flowContainer.flows === undefined || flowContainer.flows?.length === 0) {\n        commit('validation/pushAjvErrorToValidationStatuses', {\n          key,\n          ajvError: {dataPath, keyword, message: Lang.trans('flow-builder-validation.container-flow-is-empty')} as ErrorObject,\n        }, {root: true})\n        isValid = false\n      }\n\n      const supportedSpecVersions = rootGetters?.supportedFlowSpecVersionsForImport\n      if (supportedSpecVersions === undefined\n        || !Array.isArray(supportedSpecVersions)\n        || (Array.isArray(supportedSpecVersions) && supportedSpecVersions === [])) {\n        throw new Error('Please set the supportedFlowSpecVersionsForImport in flow config')\n      }\n\n      if (supportedSpecVersions.includes(flowContainer.specification_version) === false) {\n        commit('validation/pushAjvErrorToValidationStatuses', {\n          key,\n          ajvError: {\n            dataPath,\n            keyword,\n            message: `${Lang.trans('flow-builder-validation.non-supported-spec-version')}: ${flowContainer.specification_version}`,\n          } as ErrorObject,\n        }, {root: true})\n        isValid = false\n      }\n\n      const uploadedBlockTypes = uniq(get(flowContainer, 'flows[0].blocks', []).map((block: IBlock) => block.type))\n      const unsupportedBlockClasses = difference(uploadedBlockTypes, rootGetters.blockClasses)\n      if (!isEmpty(unsupportedBlockClasses) === true) {\n        const unsupportedBlockClassesList = join(unsupportedBlockClasses, ', ')\n        commit('validation/pushAjvErrorToValidationStatuses', {\n          key,\n          ajvError: {\n            dataPath,\n            keyword,\n            message: `${Lang.trans('flow-builder-validation.unsupported-blocks-detected')}: ${unsupportedBlockClassesList}`,\n          } as ErrorObject,\n        }, {root: true})\n        isValid = false\n      }\n      return isValid\n    }\n    return true\n  },\n  async tryToFixLanguages({state, commit, rootGetters}, flowContainer: IContext) {\n    const uploadLanguages: ILanguage[] = get(flowContainer, 'flows[0].languages', [])\n    const matchingLanguages: ILanguage[] = []\n    if (uploadLanguages) {\n      uploadLanguages.forEach((language) => {\n        const matchingLanguage = find(rootGetters.languages, (orgLanguage) => isEqual(orgLanguage, language))\n        if (!matchingLanguage) {\n          // Unlike the others we don't reset this.\n          // A previously unmatched language can only be fixed by updating or adding a language\n          commit('addMissingLanguage', language)\n        } else {\n          matchingLanguages.push(language)\n        }\n      })\n      commit('setMatchingLanguages', matchingLanguages)\n      // Update the languages so we use the org settings for things like id and orgId\n      commit('setImportedFlowLanguages', state.matchingLanguages)\n      commit('setExistingLanguagesWithoutMatch', differenceWith(rootGetters.languages, state.matchingLanguages, isEqual))\n    }\n  },\n  async tryToFixProperties({rootGetters, state, commit}, newPropertyBlocks: IBlock[]) {\n    const matchingProperties: IContactPropertyMultipleChoice[] = []\n    const blocksMissingProperties = cloneDeep(state.blocksMissingProperties)\n    newPropertyBlocks.forEach((propertyBlock) => {\n      const propertyIdentifier = get(propertyBlock, 'config.set_contact_property.property_key')\n      if (propertyIdentifier) {\n        const matchingProperty = find(rootGetters.subscriberPropertyFields, (orgProperty) => isEqual(orgProperty.name, propertyIdentifier))\n        if (!matchingProperty) {\n          // Unlike the others we don't reset this.\n          // A previously unmatched property can only be fixed by updating or adding a language\n          //\n          // Name is all we can get when there isn't a match\n          // ...as the block sidebar gets the actual displayLabel by matching\n          if (!get(blocksMissingProperties, propertyIdentifier)) {\n            blocksMissingProperties[propertyIdentifier] = []\n          }\n          blocksMissingProperties[propertyIdentifier].push(propertyBlock.uuid)\n        } else {\n          matchingProperties.push(matchingProperty)\n        }\n      }\n    })\n    commit('setBlocksMissingProperties', blocksMissingProperties)\n\n    commit(\n      'setMissingProperties',\n      keys(state.blocksMissingProperties).map((propertyIdentifier) => ({\n        name: propertyIdentifier,\n        blockIds: state.blocksMissingProperties[propertyIdentifier],\n      })),\n    )\n    commit('setMatchingProperties', matchingProperties)\n    // Update the languages so we use the org settings for things like id and orgId\n    commit('setExistingPropertiesWithoutMatch', differenceWith(rootGetters.subscriberPropertyFields, state.matchingProperties, isEqual))\n  },\n\n  async tryToFixGroups({rootGetters, state, commit}, newGroupBlocks: IBlock[]) {\n    const matchingGroups: IGroupOption[] = []\n    const blocksMissingGroups = cloneDeep(state.blocksMissingGroups)\n    newGroupBlocks.forEach((groupBlock) => {\n      const groupIdentifier = get(groupBlock, 'config.group_key')\n      const groupName = get(groupBlock, 'config.group_name')\n      if (groupIdentifier) {\n        const matchingGroup = find(rootGetters.groups, (orgGroup) => (isEqual(orgGroup.id, groupIdentifier)\n          && isEqual(orgGroup.name, groupName)))\n        if (!matchingGroup) {\n          // Unlike the others we don't reset this.\n          // A previously unmatched group can only be fixed by updating or adding a language\n          if (!get(blocksMissingGroups, groupIdentifier)) {\n            blocksMissingGroups[groupIdentifier] = {group_name: groupName, blockIds: []}\n          }\n          blocksMissingGroups[groupIdentifier].blockIds.push(groupBlock.uuid)\n        } else {\n          matchingGroups.push(matchingGroup)\n        }\n      }\n    })\n    commit('setBlocksMissingGroups', blocksMissingGroups)\n\n    commit(\n      'setMissingGroups',\n      keys(state.blocksMissingGroups).map((groupIdentifier) => ({id: groupIdentifier, ...state.blocksMissingGroups[groupIdentifier]})),\n    )\n    commit('setMatchingGroups', matchingGroups)\n    // Update the languages so we use the org settings for things like id and orgId\n    commit('setExistingGroupsWithoutMatch', differenceWith(rootGetters.groups, state.matchingGroups, isEqual))\n  },\n  matchLanguage({commit, state, dispatch}, {oldLanguage, matchingNewLanguage}) {\n    commit('addFlowLanguage', matchingNewLanguage)\n    commit(\n      'setImportedFlowResources',\n      updateResourcesForLanguageMatch(get(state.flowContainer, 'flows.0.resources', []), oldLanguage.id, matchingNewLanguage.id),\n    )\n    commit('setFlowJsonText', JSON.stringify(state.flowContainer, null, 2))\n    commit('setMissingLanguages', reject(state.missingLanguages, (language) => isEqual(language, oldLanguage)))\n    dispatch('tryToFixLanguages', state.flowContainer)\n  },\n  matchProperty({commit, state, dispatch}, {oldProperty, matchingNewProperty}) {\n    const blocks = cloneDeep(get(state.flowContainer, 'flows[0].blocks'))\n    if (!blocks) {\n      return\n    }\n    oldProperty.blockIds.forEach((blockId: string) => {\n      const blockIndex = findIndex(blocks, (block: IBlock) => block.uuid === blockId)\n      if (blockIndex < 0) {\n        return\n      }\n      set(blocks, `${blockIndex}.config.set_contact_property.property_key`, matchingNewProperty.name)\n    })\n    commit('setFlowContainerBlocks', blocks)\n    commit('setFlowJsonText', JSON.stringify(state.flowContainer, null, 2))\n    // missingProperties gets updated again when we validate below\n    const newBlocksMissingProperties: { [key: string]: string[] } = {}\n    commit('setBlocksMissingProperties', keys(state.blocksMissingProperties).reduce((newBlocksMissingProperties, propertyIdentifier) => {\n      if (oldProperty.name !== propertyIdentifier) {\n        newBlocksMissingProperties[propertyIdentifier] = state.blocksMissingProperties[propertyIdentifier]\n      }\n      return newBlocksMissingProperties\n    }, newBlocksMissingProperties))\n    commit('setPropertyBlocks', getPropertyBlocks(state.flowContainer as IContext))\n    dispatch('tryToFixProperties', state.propertyBlocks)\n  },\n  matchGroup({commit, state, dispatch}, {oldGroup, matchingNewGroup}) {\n    const blocks = cloneDeep(get(state.flowContainer, 'flows[0].blocks'))\n    if (!blocks) {\n      return\n    }\n    oldGroup.blockIds.forEach((blockId: string) => {\n      const blockIndex = findIndex(blocks, (block: IBlock) => block.uuid === blockId)\n      if (blockIndex < 0) {\n        return\n      }\n      set(blocks, `${blockIndex}.config.group_key`, matchingNewGroup.id)\n      set(blocks, `${blockIndex}.config.group_name`, matchingNewGroup.name)\n    })\n    commit('setFlowContainerBlocks', blocks)\n    commit('setFlowJsonText', JSON.stringify(state.flowContainer, null, 2))\n    // missingGroups gets updated again when we validate below\n    const newBlocksMissingGroups: { [key: string]: { group_name: string, blockIds: string[] } } = {}\n    commit('setBlocksMissingGroups', keys(state.blocksMissingGroups).reduce((newBlocksMissingGroups, groupIdentifier) => {\n      if (oldGroup.id !== groupIdentifier) {\n        newBlocksMissingGroups[groupIdentifier] = state.blocksMissingGroups[groupIdentifier]\n      }\n      return newBlocksMissingGroups\n    }, newBlocksMissingGroups))\n    commit('setGroupBlocks', getGroupBlocks(state.flowContainer as IContext))\n    dispatch('tryToFixGroups', state.groupBlocks)\n  },\n}\n\nexport interface IImportState {\n  matchingLanguages: ILanguage[],\n  missingLanguages: ILanguage[],\n  existingLanguagesWithoutMatch: ILanguage[],\n  blocksMissingProperties: { [key: string]: string[] },\n  missingProperties: { name: string, blockIds: string[] }[],\n  matchingProperties: IContactPropertyMultipleChoice[],\n  existingPropertiesWithoutMatch: IContactPropertyMultipleChoice[],\n  blocksMissingGroups: { [key: string]: { group_name: string, blockIds: string[] } },\n  missingGroups: { id: string, group_name: string, blockIds: string[] }[],\n  matchingGroups: IGroupOption[],\n  existingGroupsWithoutMatch: IGroupOption[],\n  flowContainer: IContext | null,\n  flowJsonText: string,\n  flowSpecVersion: string | undefined,\n  propertyBlocks: IBlock[],\n  groupBlocks: IBlock[],\n  updating: boolean,\n}\n\nexport const stateFactory = (): IImportState => ({\n  matchingLanguages: [],\n  missingLanguages: [],\n  existingLanguagesWithoutMatch: [],\n  blocksMissingProperties: {},\n  missingProperties: [],\n  matchingProperties: [],\n  existingPropertiesWithoutMatch: [],\n  blocksMissingGroups: {},\n  missingGroups: [],\n  matchingGroups: [],\n  existingGroupsWithoutMatch: [],\n  flowContainer: null,\n  flowJsonText: '',\n  flowSpecVersion: undefined,\n  propertyBlocks: [],\n  groupBlocks: [],\n  updating: false,\n})\n\nexport default {\n  namespaced: true,\n  state: stateFactory,\n  getters,\n  mutations,\n  actions,\n}\n","\n\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {Getter, Mutation, namespace, State} from 'vuex-class'\nimport {debounce, forEach, get, isEmpty} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {store} from '@/store'\nimport {IContext} from '@floip/flow-runner'\nimport ErrorHandlerV2 from '@/components/interaction-designer/flow-editors/import/ErrorHandlerV2.vue'\nimport {createContainerFlowStackAndReturnLastItem} from '@/store/flow/utils/importHelpers'\n\nimport ImportStore from '@/store/flow/views/import'\nimport {ErrorObject} from 'ajv'\n\nconst flowVuexNamespace = namespace('flow')\nconst importVuexNamespace = namespace('flow/import')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({\n  components: {\n    ErrorHandlerV2,\n  },\n})\nclass ImportFlow extends mixins(Lang, Routes) {\n  @Prop({default: () => ({})}) readonly appConfig!: object\n\n  @Prop({default: () => ({})}) readonly builderConfig!: object\n\n  uploadOrPasteSetting = 'upload'\n\n  fileName = ''\n\n  async beforeCreate(): Promise<void> {\n    const {$store} = this\n\n    forEach(store.modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n\n    $store.hasModule(['flow', 'import'])\n    || $store.registerModule(['flow', 'import'], ImportStore)\n  }\n\n  async created(): Promise<void> {\n    if ((!isEmpty(this.appConfig) && !isEmpty(this.builderConfig)) || !this.isConfigured) {\n      this.configure({appConfig: this.appConfig, builderConfig: this.builderConfig})\n    }\n  }\n\n  async mounted(): Promise<void> {\n    // reset states to make sure existing states don't interfere with the import logic\n    this.flow_resetStates()\n  }\n\n  @validationVuexNamespace.Action resetValidationStatuses!: ({key}: {key: string}) => void\n\n  get uploadOrPaste() {\n    return this.uploadOrPasteSetting\n  }\n\n  set uploadOrPaste(value) {\n    if (value !== this.uploadOrPasteSetting) {\n      this.reset()\n    }\n    this.uploadOrPasteSetting = value\n  }\n\n  get flowJson() {\n    return this.flowJsonText\n  }\n\n  set flowJson(value) {\n    this.setFlowJson(value)\n  }\n\n  setUpdatingAndHandleFlowJsonTextChange(value: string) {\n    this.setUpdating(true)\n    this.debounceHandleFlowJsonTextChange(value)\n  }\n\n  // In case someone is editing a language, let's give them a second to finish before we tell them it doesn't match\n  debounceHandleFlowJsonTextChange = debounce(this.handleFlowJsonTextChange, 2000)\n\n  async handleFlowJsonTextChange(value: string) {\n    this.flowJson = value\n    this.setUpdating(false)\n  }\n\n  @importVuexNamespace.Getter isSafeToImport!: boolean\n\n  get flowUUID() {\n    return createContainerFlowStackAndReturnLastItem(this.flowContainer)\n  }\n\n  chooseFile() {\n    const fileInput: any = this.$refs.file\n    fileInput.click()\n  }\n\n  async handleFileUpload(event: any) {\n    this.reset()\n\n    const selectedFile = event.target.files[0]\n    this.fileName = selectedFile.name\n    event.target.value = ''\n\n    const reader = new FileReader()\n\n    reader.onload = (readEvent: any) => {\n      this.flowJson = readEvent.target.result.toString()\n    }\n\n    reader.readAsText(selectedFile, 'UTF-8')\n  }\n\n  @validationVuexNamespace.Mutation pushAjvErrorToValidationStatuses!: ({key, ajvError}: {key: string, ajvError: ErrorObject}) => void\n\n  @State(({trees: {ui}}) => ui) ui!: any\n\n  @flowVuexNamespace.Action flow_persistImport!: ({\n    persistRoute,\n    flowContainer,\n  }: { persistRoute: string, flowContainer: IContext }) => Promise<IContext>\n  @flowVuexNamespace.Mutation flow_resetStates!: () => void\n\n  async handleImportFlow(route: string) {\n    const flowContainer = await this.flow_persistImport({\n      // Would need to switch mixins to class components to fix this - https://class-component.vuejs.org/guide/extend-and-mixins.html#mixins\n      persistRoute: this.route('flows.persistFlowImport', {}),\n      flowContainer: this.flowContainer,\n    })\n    const numberOfFlows = flowContainer.flows.length ?? 0\n\n    try {\n      this.reset()\n      let notificationMessage = ''\n      if (numberOfFlows > 1) {\n        notificationMessage = Lang.trans('flow-builder.n-flows-saved', {\n          number: numberOfFlows,\n        })\n      } else {\n        notificationMessage = Lang.trans('flow-builder.flow-saved')\n      }\n      this.$toast.success(notificationMessage, {\n            timeout: 3000,\n            hideProgressBar: true,\n      })\n      this.$router.push(route)\n    } catch (e) {\n      console.warn('There was something wrong when trying to import flow', 'Check console log for more details', e)\n    }\n  }\n\n  @Mutation configure!: ({appConfig, builderConfig}: { appConfig: object, builderConfig: object }) => void\n\n  @Getter isConfigured!: boolean\n\n  @Getter hasImportFlowTitle!: boolean\n\n  get disableContinue() {\n    return this.flowUUID === undefined\n      || !this.isSafeToImport\n  }\n\n  @importVuexNamespace.Action setFlowJson!: (value: string) => Promise<void>\n\n  @importVuexNamespace.Mutation baseReset!: () => void\n\n  @importVuexNamespace.Mutation resetLanguageMatching!: () => void\n\n  @importVuexNamespace.Mutation resetGroupMatching!: () => void\n\n  @importVuexNamespace.Mutation resetPropertyMatching!: () => void\n\n  @importVuexNamespace.Mutation setFlowError!: (text: string) => void\n\n  @importVuexNamespace.Mutation setUpdating!: (updatingStatus: boolean) => void\n\n  @importVuexNamespace.State flowError!: string\n\n  @importVuexNamespace.State flowJsonText!: string\n\n  @importVuexNamespace.State flowContainer!: IContext\n\n  reset() {\n    this.fileName = ''\n    this.baseReset()\n    this.resetLanguageMatching()\n    this.resetPropertyMatching()\n    this.resetGroupMatching()\n    this.resetValidationStatuses({key: 'container_import'})\n  }\n}\n\nexport default ImportFlow\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportFlow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportFlow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImportFlow.vue?vue&type=template&id=593a2fd0&\"\nimport script from \"./ImportFlow.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImportFlow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImportFlow.vue?vue&type=style&index=0&id=593a2fd0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios, {CancelToken} from 'axios'\nimport lodash from 'lodash'\nimport qs from 'qs'\nimport Vue from 'vue'\n\n// todo: are these values odd?\n\nexport const Statuses = {\n  PENDING: -1,\n  UNINITIALIZED: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n}\n\nexport const FlightStatusToNameMap = {\n  [Statuses.PENDING]: 'pending',\n  [Statuses.UNINITIALIZED]: 'uninitialized',\n  [Statuses.SUCCESS]: 'success',\n  [Statuses.FAILURE]: 'failure',\n}\n\nexport default {\n  namespaced: true,\n\n  state() {\n    return {flights: {}}\n  },\n\n  mutations: {\n    create({flights}, {key, promise, cancellation}) {\n      Vue.set(flights, key, {\n        status: Statuses.PENDING,\n        progress: 0,\n        error: null,\n        promise,\n        cancel: cancellation,\n      })\n    },\n\n    cancel({flights}, {key}) {\n      lodash.invoke(flights, `${key}.cancel`)\n    },\n  },\n\n  actions: {\n    async create({commit, dispatch, state: {flights}}, {key, promise, cancellation}) {\n      // todo: figure out queuing + streaming\n      // todo: convert to .push() + flights.invoke('cancel')\n\n      const previousFlight = flights[key]\n      if (previousFlight && cancellation) {\n        previousFlight.cancel()\n      }\n\n      commit('create', {key, promise, cancellation})\n      const flight = flights[key]\n      flight.id = `flight-${lodash.uniqueId()}`\n\n      try {\n        const response = await promise\n        Object.assign(flight, {status: Statuses.SUCCESS, progress: 100})\n\n        // surface response to next promises\n\n        return response\n        // failed request\n      } catch (e) {\n        flight.error = e\n        flight.status = Statuses.FAILURE\n        return null\n      }\n    },\n\n    createCancellableXhr({commit, dispatch, state}, config) {\n      const\n        {key} = config\n      const {token, cancel: cancellation} = CancelToken.source()\n      const promise = axios.request({\n        paramsSerializer: (p) => qs.stringify(p, {arrayFormat: 'bracket'}),\n        cancelToken: token,\n        // todo: migrate file upload to use this flights api\n        onUploadProgress: null,\n        onDownloadProgress: null,\n        headers: {'X-Requested-With': 'XMLHttpRequest'},\n        ...config,\n      })\n\n      return dispatch('create', {key, promise, cancellation})\n    },\n\n    resetStatus({commit, dispatch, state: {flights}}, {key}) {\n      if (!flights[key]) {\n        return\n      }\n      flights[key].status = Statuses.UNINITIALIZED\n      commit('cancel', {key})\n\n      // should rather be a m reset mutation to reset other values as well as cancel()\n      // eg. (value, error, progress, status, cancel-token), the whole shebang!\n    },\n\n    cancelAll({commit, dispatch, state: {flights}}) {\n      for (const key of Object.keys(flights)) {\n        commit('cancel', {key})\n      }\n    },\n  },\n  getters: {\n    hasPendingFlight(state) {\n      return Object.values(state.flights)\n        .find((f) => f.status === Statuses.PENDING)\n    },\n  },\n}\n","import axios from 'axios'\nimport lodash, {get, set} from 'lodash'\n\nimport Vue from 'vue'\n\nimport {routeFrom} from '@/lib/mixins/Routes'\nimport flights from '@/store/common/flight-monitor.js'\n\nimport flow from 'lodash/fp/flow'\nimport pickBy from 'lodash/fp/pickBy'\nimport _every from 'lodash/fp/every'\nimport {bootstrapLegacyGlobalDependencies} from './bootstrap-legacy-global-dependencies'\n\nconst every = _every.convert({cap: false})\n\nclass ValidationError extends Error {\n  constructor(validationResults) {\n    super()\n    this.validationResults = validationResults\n  }\n}\n\nexport default {\n  modules: {flights},\n\n  state() {\n    return {\n      tree: null,\n      ui: {\n        isConfigured: false,\n        audioFiles: null,\n        callCenterQueues: null,\n        previousTreeJson: null,\n        /** @note - `validationResults` has two states:\n         *            (1) `null` - indicating we have yet to save the tree since loading the page\n         *            (2) non-null or `[]` - indicating the tree has been saved and has gone through server-side validation */\n        // todo: this is an empty list on page load, and shouldn't be?\n        validationResults: null,\n        originalTreeJsonValidationResults: null,\n        selectedBlock: null,\n        designerWorkspaceHeight: 1400,\n        currentZoom: 1,\n        treeUpdateConflict: null,\n        enabledFeatures: [\n          /** @see \\Voto5\\Http\\Controllers\\V3TreesController::get_editTree */\n        ],\n        isSaveCurrentlyInProgress: false,\n        isEditable: true,\n        subscriberPropertyFields: [],\n        blockTags: [],\n        supportedFlowSpecVersionsForImport: undefined,\n      },\n    }\n  },\n\n  getters: {\n    isConfigured: ({ui}) => ui.isConfigured,\n    isFeatureCallCenterQueuesEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'callCenterQueues'),\n    isFeatureCallToRecordEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'callToRecord'),\n    isFeatureMultimediaUploadEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'multimediaUpload'),\n    isFeatureAddSubscriberPropertyFieldEnabled: ({ui}) => lodash.find(\n      ui.enabledFeatures,\n      (feature) => feature === 'addSubscriberPropertyField',\n    ),\n    isFeatureFloipPushEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'floipPush'),\n    isFeatureTreeSaveEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'treeSave'),\n    isFeatureAddLanguageOnImportEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'addLanguageOnImport'),\n    isFeatureTreeSendEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'treeSend'),\n    isFeatureTreeDuplicateEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'treeDuplicate'),\n    isFeatureTreeViewVersionsEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'treeViewVersions'),\n    isFeatureTreeDuplicateOfEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'treeDuplicateOf'),\n    isResourceViewerEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'resourceViewer'),\n    isFeatureUpdateInteractionTotalsEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'updateInteractionTotals'),\n    isFeatureAudioUploadEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'audioUpload'),\n    isFeatureSimulatorEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'simulator'),\n    isFeatureViewResultsEnabled: ({ui}) => lodash.find(ui.enabledFeatures, (feature) => feature === 'viewResults'),\n\n    hasCreateFlowTitle: ({ui}) => lodash.get(ui, 'pages.createFlow.hasPageTitle', true),\n    hasImportFlowTitle: ({ui}) => lodash.get(ui, 'pages.importFlow.hasPageTitle', true),\n\n    hasToolbarFlowTitle: ({ui}) => lodash.get(ui, 'toolbar.hasFlowTitle', true),\n    hasToolbarHomeButton: ({ui}) => lodash.get(ui, 'toolbar.hasHomeButton', true),\n    hasToolbarNewFlowButton: ({ui}) => lodash.get(ui, 'toolbar.hasNewFlowButton', true),\n    hasToolbarExportButton: ({ui}) => lodash.get(ui, 'toolbar.hasExportButton', true),\n\n    builderWidthAdjustment: ({ui}) => lodash.get(ui, 'pages.interactionDesigner.builderWidthAdjustment', 0),\n\n    selectedBlock: ({tree, ui}) => lodash.find(get(tree, 'blocks', []), {jsKey: ui.selectedBlock}),\n\n    subscriberPropertyFields: ({ui}) => lodash.get(ui, 'subscriberPropertyFields', []),\n\n    subscriberPropertyFieldDataTypesMapping: ({ui}) => lodash.get(ui, 'subscriberPropertyFieldDataTypesMapping', {}),\n\n    groups: ({ui}) => lodash.get(ui, 'groups', []),\n\n    interactiveBlockClasses: ({ui}) => lodash.pickBy(ui.blockClasses, (value) => value.is_interactive),\n\n    blockClasses: ({ui}) => lodash.keys(ui.blockClasses),\n\n    supportedFlowSpecVersionsForImport: ({ui}) => ui.supportedFlowSpecVersionsForImport,\n\n    interactiveBlocksInTree: ({tree}, {interactiveBlockClasses}) => lodash.filter(\n      tree.blocks,\n      (b) => lodash.includes(Object.keys(interactiveBlockClasses), b.type),\n    ),\n\n    isEditable: ({ui}) => !!ui.isEditable,\n\n    // todo: trip a debounced version of this (for larger trees)\n    // todo: which is faster lodash deep isEqual or JSON.stringify() ?\n    hasChanges: ({tree, ui}) => ui.previousTreeJson !== JSON.stringify(tree),\n\n    hasIssues({tree, ui}) {\n      const {\n        validationResults,\n        originalValidationResults: validationResultsFromPageLoad,\n        validationResults: hasSavedSinceLoad,\n      } = ui\n\n      return (hasSavedSinceLoad && !_.isEmpty(validationResults))\n        || (!hasSavedSinceLoad && !_.isEmpty(validationResultsFromPageLoad))\n        || !tree.blocks.length\n    },\n\n    isTreeSaving(state) {\n      return state.ui.isSaveCurrentlyInProgress\n    },\n\n    hasClipboard: ({tree}) => tree.details.hasClipboard,\n\n    isSelectedBlockSupportedForSummary({ui}, getters) {\n      if (!getters.selectedBlock) {\n        return false\n      }\n      return lodash.get(ui.blockClasses[getters.selectedBlock.type], 'isSummarizable', false)\n    },\n\n    canSelectedBlockSetSubscriberProperty({ui}, getters) {\n      if (!getters.selectedBlock) {\n        return false\n      }\n      return lodash.get(ui.blockClasses[getters.selectedBlock.type], 'canSetSubscriberProperty', false)\n    },\n\n    isBlockAvailableByBlockClass(state) {\n      return lodash.mapValues(state.ui.blockClasses, (blockClass) => {\n        const contentTypesToEnabledStatus = lodash.get(blockClass, 'isEnabledForContentType', [])\n\n        return flow(\n          pickBy((isEnabled, contentType) => state.tree.details[`has${lodash.startCase(contentType)}`]),\n          every((isEnabled, contentType) => contentTypesToEnabledStatus[contentType]),\n        )(contentTypesToEnabledStatus)\n      })\n    },\n\n    // todo: is this an accurate inverse of trees::hasIssues from ResourceViewer ?\n    isTreeValid(state) {\n      return state.tree.blocks.length\n        && !state.ui.originalTreeJsonValidationResults\n        && lodash.isEmpty(state.ui.validationResults)\n    },\n\n    jsonValidationResults(state) {\n      return state.ui.originalTreeJsonValidationResults\n    },\n\n    // Duplicating \\Voto\\Core\\Trees\\Tree::getTitle\n    treeTitle: ({tree}) => tree.title || 'Untitled Tree',\n\n    languages: ({ui}) => ui.languages || [],\n\n    validationResults: ({ui}) => ui.validationResults,\n\n    treeCreatedAt: ({tree}) => tree.createdAt.date,\n    treeEditedAt: ({tree}) => tree.editedAt.date,\n    treeUpdatedAt: ({tree}) => tree.updatedAt.date,\n\n    supportedModes: ({ui}) => ui.supportedModes || [],\n    defaultModes: ({ui}) => ui.defaultModes || [],\n  },\n\n  mutations: {\n    addOrgLanguage({ui}, language) {\n      const newLanguage = {...language}\n      ui.languages.push(newLanguage)\n    },\n\n    setTreeSaving(state, isSaving) {\n      state.ui.isSaveCurrentlyInProgress = isSaving\n    },\n\n    // TODO: find a better place to put the configure, putting it inside trees store doesn't make sense\n    configure({ui}, {appConfig, builderConfig}) {\n      const {\n        app,\n        __AUDIO__: audio,\n        __TREES_UI__: uiOverrides,\n        __APP__: appContext,\n      } = bootstrapLegacyGlobalDependencies(appConfig, builderConfig)\n      ui.isConfigured = true\n\n      // update this.state to expose permissions, etc\n      lodash.merge(this.state, appContext)\n      lodash.merge(this.state.audio, audio)\n\n      // todo: audio recording feature is likely to be unavailable for standalone app - How do we want to isolate these?\n      set(app, 'audioChoice.audioLibrary', audio.library)\n      set(app, 'audioChoice.recorderList', audio.recording.recorders)\n\n      lodash.merge(ui, lodash.merge(uiOverrides, {\n        previousTreeJson: JSON.stringify(uiOverrides.originalTreeJson),\n        validationResults: uiOverrides.originalValidationResults,\n      }))\n    },\n    setWorkingTree(state, {tree: treeData}) {\n      const tree = new app.Tree(treeData)\n      /** @property app.tree\n       *  @deprecated We'll only need this until we've eradicated references in legacy. */\n      app.tree = tree\n      state.tree = tree.attributes\n    },\n\n    setDesignerWorkspaceHeight({tree, ui}, {height}) {\n      ui.designerWorkspaceHeight = height\n    },\n\n    setSelectedBlock({tree, ui}, {jsKey}) {\n      ui.selectedBlock = jsKey || ''\n    },\n\n    deselectBlocks({ui}) {\n      ui.selectedBlock = ''\n    },\n\n    updateTreeDetailsWith({tree, ui}, {key, value}) {\n      tree.details[key] = value\n    },\n\n    updateBlockCustomDataFor({tree, ui}, {jsKey, key, value}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      Vue.set(block.customData, key, value)\n    },\n\n    updateBlockCustomDataWithNestedKeyFor({tree, ui}, {jsKey, nestedKey, value}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      const customData = lodash.cloneDeep(block.customData)\n      lodash.set(customData, nestedKey, value)\n      block.customData = customData\n    },\n\n    updateBlockUiDataFor({tree, ui}, {jsKey, key, value}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      Vue.set(block.uiData, key, value)\n    },\n\n    updateMaxNumericDigits({tree, ui}, {value}) {\n      const selectedBlock = lodash.find(tree.blocks, {jsKey: ui.selectedBlock})\n      Vue.set(selectedBlock, 'customData.maxNumericDigits', value)\n    },\n\n    updateBlockContentFor({tree, ui}, {\n      type, langId, jsKey, value,\n    }) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      // social has nested text content\n      if (type === 'social') {\n        if (!block.socialContent[langId]) {\n          Vue.set(block.socialContent, langId, {})\n        }\n        Vue.set(block.socialContent[langId], 'text', value)\n      } else {\n        block[`${type}Content`] = {\n          ...block[`${type}Content`],\n          ...{[langId]: value},\n        }\n      }\n    },\n\n    updateBlockFileContentFor({tree, ui}, {\n      langId, jsKey, fileUrl, fileId, fileType, mimeType, contentType,\n    }) {\n      const block = lodash.find(tree.blocks, {jsKey})\n\n      const content = lodash.get(block, `${contentType}Content`)\n      if (content[langId] === undefined) {\n        Vue.set(content, langId, {})\n      }\n      Vue.set(content[langId], 'fileUrl', fileUrl)\n      Vue.set(content[langId], 'fileId', fileId)\n      Vue.set(content[langId], 'fileType', fileType)\n      Vue.set(content[langId], 'mimeType', mimeType)\n    },\n\n    updateBlockFileContentForAllLanguages({tree, ui}, {\n      jsKey, fileUrl, fileId, fileType, mimeType, contentType,\n    }) {\n      const block = lodash.find(tree.blocks, {jsKey})\n\n      const content = lodash.get(block, `${contentType}Content`)\n\n      Vue.set(content, 'allLanguagesFileUrl', fileUrl)\n      Vue.set(content, 'allLanguagesFileId', fileId)\n      Vue.set(content, 'allLanguagesFileType', fileType)\n      Vue.set(content, 'allLanguagesMimeType', mimeType)\n    },\n\n    initBlockAutoGenStateFor({tree, ui}, {type, jsKey}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      Vue.set(block, `${type}AutogenLangs`, [])\n    },\n\n    updateBlockAutoGenStateFor({tree, ui}, {\n      type, langId, jsKey, value: enable,\n    }) {\n      const block = lodash.find(tree.blocks, {jsKey})\n      const i = block[`${type}AutogenLangs`].indexOf(+langId)\n      const absent = i === -1\n\n      if (enable) {\n        absent && block[`${type}AutogenLangs`].push(+langId)\n      } else {\n        !absent && block[`${type}AutogenLangs`].splice(i, 1)\n      }\n    },\n\n    updateReviewedStateFor({tree, ui}, {langId, jsKey, value}) {\n      const {customData: data} = lodash.find(tree.blocks, {jsKey})\n      data.reviewed[langId] = value\n    },\n\n    updateIsEditable({ui}, {value}) {\n      ui.isEditable = value\n    },\n\n    addEnabledFeature({ui}, {value}) {\n      if (ui.enabledFeatures.indexOf(value) < 0) {\n        ui.enabledFeatures.push(value)\n      }\n    },\n\n    removeEnabledFeature({ui}, {value}) {\n      if (ui.enabledFeatures.indexOf(value) > -1) {\n        ui.enabledFeatures = ui.enabledFeatures.filter((item) => item !== value)\n      }\n    },\n\n    setContentTypeEnabled({tree}, {contentType, isEnabled}) {\n      tree[`has${lodash.upperFirst(contentType)}`] = +isEnabled\n    },\n\n    addSubscriberPropertyField({ui}, {property}) {\n      ui.subscriberPropertyFields.push(property)\n    },\n\n    addContactGroup({ui}, {group}) {\n      ui.groups.push(group)\n    },\n\n    setTreeUpdateConflictStatus(state, {treeUpdateConflict}) {\n      state.ui.treeUpdateConflict = treeUpdateConflict\n    },\n\n    setInteractionTotals(state, {interactionTotals}) {\n      Vue.set(state.ui, 'interactionTotals', interactionTotals)\n    },\n  },\n\n  actions: {\n    async validateAndAddOrgLanguage({dispatch, commit}, {persistRoute, language}) {\n      const validationErrors = await dispatch('validation/validate_new_language', {language}, {root: true})\n      if (!validationErrors.isValid) {\n        return false\n      }\n\n      if (!persistRoute) {\n        console.info('Language persistence route not configured correctly in builder.config.json. Falling back to vuex store')\n        commit('addOrgLanguage', language)\n        return language\n      }\n      try {\n        const {data} = await axios.post(persistRoute, language)\n        commit('addOrgLanguage', data)\n        return language\n      } catch (error) {\n        console.info(`Server error persisting flow: \"${get(error, 'response.data')}\". Status: ${error.response.status}`)\n        commit('flow/import/setFlowError', 'flow-builder.error-persisting-language', {root: true})\n        return false\n      }\n    },\n    initializeTreeModel({dispatch, state: {ui: {isTreeImport}}}) {\n      require('./10-trees-model')\n      // todo: this is also included via `../public/dist/js/legacy/trees` on tree-builder\n      //       but we don't include that beast in storybook b/c of global dependency hierarchy\n      //       global lodash is the only dependency, and they magically attach themselves onto\n      //       root self regardless of whether or not it's being managed by module loader.\n      //       Odd behaviour, but works out in this case.\n      require('./12-trees-helpers')\n\n      isTreeImport\n        ? dispatch('initializeTreeModelFromImport')\n        : dispatch('initializeTreeModelFromOriginalTreeJson')\n    },\n\n    // @note - these are the only actions that are outside the realm of an existing tree.\n    initializeTreeModelFromOriginalTreeJson({commit, dispatch, state: {ui}}) {\n      commit('setWorkingTree', {tree: ui.originalTreeJson})\n      // => this kinda sucks, because now we're dispatching vuex notifications for all these upgrades\n      dispatch('upgradeTreeModel')\n    },\n\n    initializeTreeModelFromImport({commit, dispatch, state: {ui}}) {\n      const schema = app.Tree.createJsonSchemaFor(\n        _.pluck(ui.languages, 'id'),\n        _.keys(ui.blockClasses),\n      )\n      const tree = app.Tree._mergeAndSanitizeImportedInto(ui.originalTreeJson, ui.importTreeJson)\n\n      try {\n        app.Tree.validateTreeData(tree, schema)\n        console.debug('Tree validation succeeded!')\n\n        commit('setWorkingTree', {tree})\n        // todo: this kinda sucks, because now we're dispatching vuex notifications for all these upgrades\n        dispatch('upgradeTreeModel')\n        dispatch('attemptImportPersistence')\n      } catch (validation) {\n        console.error('Tree validation failed!', validation)\n        ui.originalTreeJsonValidationResults = validation\n        // default initialization solely because a tree is prerequisite to continuation\n        dispatch('initializeTreeModelFromOriginalTreeJson')\n      }\n    },\n\n    async attemptImportPersistence({\n                                     dispatch, state: {\n        ui, ui: {\n          isTreeImport,\n          originalTreeJsonValidationResults,\n        },\n      },\n                                   }) {\n      const hasImportValidationErrors = !!originalTreeJsonValidationResults\n      if (!isTreeImport || hasImportValidationErrors) {\n        return\n      }\n\n      // persist imported tree with valid json\n      const validationResults = await dispatch('attemptSaveTree')\n      console.debug('Tree import save validation results', validationResults)\n      // hook into validation rendering that happens once view is initialized\n      ui.originalValidationResults = validationResults\n    },\n\n    // Hoist data to adhere to latest expectations\n    upgradeTreeModel() {\n      app.tree.upgrade()\n    },\n\n    discoverTallestBlockForDesignerWorkspaceHeight({commit, dispatch, state}, {buffer = 350, aboveTallest}) {\n      const\n        initialHeight = aboveTallest ? app.tree.getTallestBlockPosition() : 0\n      const minHeight = 1000\n      const height = Math.max(buffer + initialHeight, minHeight)\n\n      commit('setDesignerWorkspaceHeight', {height})\n    },\n\n    uiChanged(context, {msg}) {\n      console.log('app.ui.change [via vuex.trees.uiChanged]', msg)\n    },\n\n    async attemptSaveTree({dispatch, getters: {hasChanges, isFeatureTreeSaveEnabled}, state: {ui}}) {\n      if (!ui.isEditable || !hasChanges) {\n        console.info('trees', 'Decided against unnecessary tree save!')\n        // non-promise response implies no in-flight request -- aka no-op.\n        return\n      }\n\n      if (!isFeatureTreeSaveEnabled) {\n        console.info('Feature `treeSave` is disabled')\n        return\n      }\n\n      /*\n       * todo: we can't double-chain our jQuery adapter, unless we put more time into it -- then-ing off jQuery adapted\n       *    results in another raw jQuery promise :P\n       * todo: debounce this?\n       */\n      const {app} = global\n\n      try {\n        await dispatch('validateTree')\n        dispatch('saveTree')\n      } catch (error) {\n        if (error instanceof ValidationError) {\n          app.dataControl._setValidationResultsForUI(error.validationResults)\n        } else {\n          throw error\n        }\n      }\n    },\n\n    async saveTree() {\n      // todo: we still need a timer for this on data change -- can this be done on a watcher rather than polling?\n      const {app} = global\n      await app.dataControl.send()\n    },\n\n    /**\n     * Calls the supplied/injected validation function from __TREE_FEATURES__.validation.validate(), and returns the\n     * array of validation results. This function is a pure function, and does not make changes to external data.\n     *\n     * @param dispatch\n     * @param tree\n     * @throws ValidationError If the validation fails, ValidationError will be thrown, which contains the\n     *            ValidationResults\n     * @returns {Promise<array>} a Promise that will return an array of the validation results.\n     */\n    async validateTree({dispatch, state: {tree}}) {\n      const validate = lodash.get(global.__TREE_FEATURES__, 'validation.validate')\n      if (validate) {\n        await validate(tree)\n      } else {\n        await dispatch('validateFloipFlow')\n      }\n    },\n\n    /**\n     * Default Floip validation. If you want Floip Core validation to be run, your\n     * __TREE_FEATURES__.validation.validate() function should call this one and add it's results to the value\n     * returned from __TREE_FEATURES__.validation.validate(). This function is a pure function, and does not make\n     * changes to external data.\n     *\n     * @throws ValidationError If the validation fails, ValidationError will be thrown, which contains the\n     *            ValidationResults\n     * @returns {Promise<array>} a Promise that will return an array of the validation results.\n     */\n    async validateFloipFlow() {\n      /* TODO: (https://viamoinc.atlassian.net/browse/VMO-685) Create default FLOIP CORE Flow validation here and\n       *   uncomment the below line after adding an implementation */\n      // throw new ValidationError([])\n    },\n\n    setDefaultBlockRepeatValues({commit, dispatch, state: {tree}}, {jsKey, values: defaults}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n\n      for (const key in defaults) {\n        !(key in block.customData) && commit('updateBlockCustomDataFor', {jsKey, key, value: defaults[key]})\n      }\n    },\n\n    updateTextContent({commit}, {\n      type, jsKey, langId, value, disableAutoGen,\n    }) {\n      commit('updateBlockContentFor', {\n        type, jsKey, langId, value,\n      })\n      commit('updateBlockAutoGenStateFor', {\n        type, jsKey, langId, value: !disableAutoGen,\n      })\n      commit('updateReviewedStateFor', {jsKey, langId, value: false})\n    },\n\n    setContentFromQuestionText({commit, dispatch, state: {tree}}, {jsKey}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n\n      let generatedText = block.customData.title\n      let isFirst\n      let maxDigits\n\n      // todo: Let's not hand-roll pluralization — https://laravel.com/docs/5.4/localization#pluralization\n      const grammar = {\n        EN: {\n          starter: 'Reply ',\n          connector: ' for ',\n          separator: ', ',\n          conclusion: '.',\n          numericStart: 'Reply with up to ',\n          numericEndPlural: ' digits.',\n          numericEndSingular: ' digit.',\n          validationCode: 'Please reply with your unique code',\n        },\n      }\n\n      if (tree.details.hasSms || tree.details.hasUssd || tree.details.hasSocial || tree.details.hasClipboard) {\n        // todo: push these customizations into custom handlers on particular block types\n        if (block.type == 'MultipleChoiceQuestionBlock' || block.type == 'CollaborativeFilteringRatingBlock') {\n          generatedText += ` ${grammar.EN.starter}`\n          isFirst = 1\n\n          // choices values\n\n          block.customData.choices.forEach((choice, index) => {\n            if (isFirst != 1) {\n              generatedText += grammar.EN.separator\n            }\n            generatedText += _.parseInt(index + 1) + grammar.EN.connector + choice\n            isFirst = 0\n          })\n\n          generatedText += grammar.EN.conclusion\n        } else if (block.type == 'LocationBlock') {\n          generatedText += ` ${grammar.EN.starter}`\n          isFirst = 1\n\n          // this is likely choice's name prop\n\n          block.customData.choices.forEach((choice, index) => {\n            // choiceResponse = $('#' + $(e).attr('id') + '_primaryoption').val()\n            if (isFirst != 1) {\n              generatedText += grammar.EN.separator\n            }\n\n            generatedText += _.parseInt(index + 1) + grammar.EN.connector + choice.name\n            isFirst = 0\n          })\n\n          generatedText += grammar.EN.conclusion\n        } else if (block.type == 'NumericQuestionBlock') {\n          maxDigits = lodash.get(block, 'customData.maxNumericDigits')\n          if (!maxDigits) {\n            maxDigits = 3\n          }\n\n          if (maxDigits == '1') {\n            generatedText += ` ${grammar.EN.numericStart}${maxDigits}${grammar.EN.numericEndSingular}`\n          } else {\n            generatedText += ` ${grammar.EN.numericStart}${maxDigits}${grammar.EN.numericEndPlural}`\n          }\n        } else if (block.type == 'IdValidationBlock') {\n          generatedText = grammar.EN.validationCode\n        }\n\n        lodash.forEach(['sms', 'ussd', 'social', 'clipboard'], (contentType) => {\n          if (tree.details[`has${lodash.upperFirst(contentType)}`] && block[`${contentType}AutogenLangs`].length) {\n            _.each(block[`${contentType}AutogenLangs`], (languageId) => {\n              dispatch('updateTextContent', {\n                type: contentType,\n                jsKey: block.jsKey,\n                langId: languageId,\n                value: generatedText,\n              })\n\n              dispatch('uiChanged', `Updated ${contentType} Content with auto-gen text: ${generatedText}`)\n            })\n          }\n        })\n      }\n    },\n\n    setBlockNumConnections({commit, dispatch, state}, {value: newNumConnections, jsKey}) {\n      console.debug('vuex.trees', 'setBlockNumConnections', newNumConnections, jsKey)\n\n      // Remove any connection elements connected to the block\n      // Remove the block from the UI\n      // Change the data number of connections\n      // Re-add the block to the UI\n      // Re-display the connections going to it\n\n      newNumConnections = _.parseInt(newNumConnections)\n\n      // Make sure the new number of connections is a number\n      if (!_.isFinite(newNumConnections)) {\n        newNumConnections = 1\n      }\n      // Enforce appropriate limits on the number of connections:\n      if (newNumConnections < 1) {\n        newNumConnections = 1\n      }\n\n      const selectedBlockKey = jsKey || app.ui.selectedBlock\n      const selectedBlock = app.tree.getBlock(selectedBlockKey)\n\n      const {numConnections} = selectedBlock.uiData\n\n      if (newNumConnections == numConnections) {\n        // If there's no change, skip the intensive process of rebuilding all those connections\n        console.log('No change in the number of connections.')\n        return true\n      }\n\n      // Otherwise: change the connections!\n\n      app.ui.lockConnections = 1\n\n      // Remove the connections from each of the nodes at the bottom of the block\n      _.each(_.range(1, numConnections + 1), (index) => {\n        console.debug('Removing connections at', index, 'for', selectedBlockKey)\n        // app.jsPlumb.detachAllConnections(selectedBlockKey + '_node_' + index);\n      })\n\n      // Remove any connections connected to the \"target\" / top of the block\n      // Fortunately these call the jsPlumb binding for removing a connection\n      // which in turn is set to remove the entry from the app.tree.get('connections') array. Yay!\n      // app.jsPlumb.detachAllConnections(selectedBlockKey + '_target');\n\n      // Update the actual block data to use the new number:\n      selectedBlock.uiData.numConnections = newNumConnections\n\n      // Remove any connections that are higher in outputKey (node) number than the new maximum numConnections:\n      app.tree.filterBlockConnectionsAboveMax(selectedBlockKey)\n\n      // Re-add disappeared connections?\n\n      app.ui.lockConnections = 0\n\n      // once in vuejs, can we'll be able to just do a [dis]connect via connections diff\n      dispatch.bind(null, 'discoverTallestBlockForDesignerWorkspaceHeight', {aboveTallest: true})\n      // app.jsPlumb.resetBindings(app.tree.get('connections'), true, selectedBlockKey, handleDragStop)\n\n      app.ui.change('Changed number of block connections.')\n    },\n\n    setMcqOutputNames({commit, dispatch, state: {tree}}, {jsKey}) {\n      console.debug('vuex.trees', 'setMcqOutputNames', jsKey)\n\n      const block = lodash.find(tree.blocks, {jsKey})\n      if (!block) {\n        console.log('AppView::generateMcqOutputNamesFor()', 'Unable to find specified block.')\n        return\n      }\n\n      const isOutputBranchingEnabled = !!block.customData.branching\n      let outputNames\n\n      if (isOutputBranchingEnabled) {\n        if (block.type === 'SummaryBlock') {\n          outputNames = [langJs.trans('trees.confirm'), langJs.trans('trees.reject')]\n        } else {\n          outputNames = lodash.clone(lodash.get(block, 'customData.choices', lodash.range(1, block.customData.numChoices + 1)))\n        }\n      } else {\n        outputNames = [1]\n      }\n\n      commit('updateBlockCustomDataFor', {jsKey, key: 'numChoices', value: outputNames.length})\n\n      const isNoResponseExitEnabled = block.customData.addExitForNoResponse\n      isNoResponseExitEnabled && outputNames.push('trees.output-exit')\n\n      commit('updateBlockUiDataFor', {jsKey, key: 'outputNames', value: outputNames})\n      dispatch('setBlockNumConnections', {jsKey, value: outputNames.length})\n    },\n\n    setMcqSidebarFieldLabels({commit, dispatch, state: {tree}}, {jsKey}) {\n      const block = lodash.find(tree.blocks, {jsKey})\n\n      if (!block || !isMCQBlock(block)) {\n        console.log('AppView::generateMcqOutputNamesFor()', 'Wrong block type')\n        return\n      }\n\n      const isVoiceEnabled = tree.details.hasVoice\n      const isTextChannelEnabled = tree.details.hasSms || tree.details.hasUssd || tree.details.hasSocial || tree.details.hasClipboard\n      const hasChoiceKeypresses = !lodash.isEmpty(block.customData.choiceKeypresses)\n      let fieldLabels\n\n      if (isVoiceEnabled && !isTextChannelEnabled && hasChoiceKeypresses) {\n        fieldLabels = getChoiceKeyPressesFor(block)\n      } else if (isVoiceEnabled && isTextChannelEnabled && hasChoiceKeypresses) {\n        fieldLabels = lodash.times(block.customData.numChoices, lodash.constant('•'))\n      } else {\n        fieldLabels = lodash.range(1, block.customData.numChoices + 1)\n      }\n\n      commit('updateBlockUiDataFor', {jsKey, key: 'fieldLabels', value: fieldLabels})\n    },\n\n    addSubscriberPropertyField({commit, dispatch, state}, {displayLabel, dataType, choices}) {\n      return axios.post(routeFrom('trees.addSubscriberPropertyField', null, state.ui.routes), {displayLabel, dataType, choices})\n        .then((response) => {\n          lodash.filter(choices, (c) => !!c.value)\n          commit('addSubscriberPropertyField', {property: response.data.data})\n          return response\n        })\n    },\n\n    setTreeUpdateConflictStatus({commit}, payload) {\n      commit('setTreeUpdateConflictStatus', payload)\n    },\n\n    async fetchInteractionTotals({\n                                   state, commit, dispatch, getters,\n                                 }, {startDate, endDate}) {\n      if (!getters.isFeatureUpdateInteractionTotalsEnabled) {\n        console.info('Feature `updateInteractionTotals` is disabled')\n        return\n      }\n      const key = 'interaction-totals'\n      const url = routeFrom('trees.ajaxTotalInteractions', {treeId: state.tree.id}, state.ui.routes)\n      const params = {startDate, endDate}\n\n      const response = await dispatch('flights/createCancellableXhr', {key, url, params})\n      if (response) {\n        commit('setInteractionTotals', {interactionTotals: response.data})\n      }\n    },\n  },\n}\n\nconst getChoiceKeyPressesFor = (block) => {\n  const keypresses = block.customData.choiceKeypresses\n  return lodash.range(1, block.customData.numChoices + 1)\n    .map((i) => keypresses[i] || i)\n}\n\nconst isMCQBlock = (block) => block.type === 'MultipleChoiceQuestionBlock'\n  || block.type === 'CollaborativeFilteringRatingBlock'\n  || block.type === 'RandomOrderMultipleChoiceQuestionBlock'\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"fetch-flow\"},[_c('div',{staticClass:\"d-flex h-100 text-center\"},[_c('div',{staticClass:\"cover-container d-flex w-100 h-100 p-3 mx-auto flex-column\"},[_c('main',{staticClass:\"px-3\"},[_c('h2',[_vm._v(_vm._s(_vm._f(\"trans\")(_vm.message)))]),(_vm.showNewButton)?_c('router-link',{staticClass:\"mt-3 btn btn-outline-secondary mr-2 active\",attrs:{\"to\":_vm.route('flows.newFlow'),\"title\":_vm.trans('flow-builder.create-a-new-flow')}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.new-flow'))+\" \")]):_vm._e(),(_vm.flowLink)?_c('router-link',{staticClass:\"mt-3 btn btn-outline-secondary mr-2 active\",attrs:{\"to\":_vm.flowLink,\"title\":_vm.trans('flow-builder.flow-details')}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.go-to-flow'))+\" \")]):_vm._e()],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nimport {forEach, isEmpty} from 'lodash'\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {Getter, Mutation, namespace} from 'vuex-class'\nimport {store} from '@/store'\nimport {IFlow} from '@floip/flow-runner'\nimport {mixins} from 'vue-class-component'\nimport {RawLocation} from 'vue-router'\n\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({})\nclass FetchFlow extends mixins(Routes, Lang) {\n  @Prop({required: true}) readonly uuid!: string\n  @Prop({default: () => ({})}) readonly appConfig!: object\n  @Prop({default: () => ({})}) readonly builderConfig!: object\n\n  message = 'flow-builder.fetching-flow'\n  showNewButton = false\n  flowLink = null\n\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Action flow_fetch!: ({fetchRoute}: { fetchRoute: string }) => Promise<IFlow>\n  @flowVuexNamespace.Mutation flow_setActiveFlowId!: ({flowId}: { flowId: string }) => void\n\n  @validationVuexNamespace.Action validate_allBlocksFromBackend!: () => Promise<void>\n\n  @Mutation configure!: ({appConfig, builderConfig}: { appConfig: object, builderConfig: object }) => void\n  @Getter isConfigured!: boolean\n\n  async mounted(): Promise<void> {\n    const nextUrl: RawLocation = this.$route.query.nextUrl as RawLocation\n    const url = new URL(nextUrl as string, window.location.origin)\n    const urlParams = url.searchParams.toString()\n    const baseFetchRoute = this.route('flows.fetchFlowServer', {flowId: this.uuid})\n    const fetchRoute = `${baseFetchRoute}?${urlParams}`\n    const flowContainer = await this.flow_fetch({fetchRoute})\n    if (flowContainer) {\n      this.flow_setActiveFlowId({flowId: this.uuid})\n      if (nextUrl) {\n        await this.$router.replace(nextUrl)\n      } else {\n        this.message = 'flow-builder.flow-found'\n        this.flowLink = this.route('flows.editFlow', {flowId: this.activeFlow.uuid, component: 'builder', mode: 'edit'})\n      }\n\n      await this.validate_allBlocksFromBackend()\n    } else {\n      this.message = 'flow-builder.flow-not-found'\n      this.showNewButton = true\n    }\n  }\n\n  async beforeCreate(): Promise<void> {\n    const {$store} = this\n\n    forEach(store.modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  }\n\n  async created(): Promise<void> {\n    if ((!isEmpty(this.appConfig) && !isEmpty(this.builderConfig)) || !this.isConfigured) {\n      this.configure({appConfig: this.appConfig, builderConfig: this.builderConfig})\n    }\n  }\n}\n\nexport default FetchFlow\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FetchFlow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FetchFlow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FetchFlow.vue?vue&type=template&id=26ce5194&\"\nimport script from \"./FetchFlow.vue?vue&type=script&lang=ts&\"\nexport * from \"./FetchFlow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportFlow.vue?vue&type=style&index=0&id=593a2fd0&prod&lang=scss&\"","import ImportedLang from 'lang.js'\nimport ImportedMoment from 'moment'\nimport ImportedJquery from 'jquery'\nimport {isEmpty, merge} from 'lodash'\n\nexport function bootstrapLegacyGlobalDependencies(appConfig = {}, builderConfig = {}) {\n  // initialize configuration sources\n  const __APP__ = !isEmpty(appConfig) ? appConfig : require('../../../app.config')\n  const __CONTEXT__ = !isEmpty(builderConfig) ? builderConfig : require('../../../builder.config')\n  const source = appConfig.i18n ? appConfig.i18n : require('../../assets/messages.json')\n\n  // todo: the remaining legacy code still expects the ability to mutate data directly on `app.ui.*` rather than using trees store\n  //      for now, we'll need to ensure app.ui === __TREES_UI__ */\n  const app = merge(global.app || {}, __CONTEXT__)\n  const __TREES_UI__ = app.ui\n  const __AUDIO__ = app.audio\n\n  // configure libraries\n  const Lang = new ImportedLang()\n  Lang.setMessages(source)\n  Lang.setLocale(__APP__.locale)\n  Lang.defaultLocale = 'en'\n\n  const moment = ImportedMoment\n  moment.locale(Lang.getLocale())\n\n  const jQuery = ImportedJquery\n  const jQ = ImportedJquery\n\n  // export as globals (overwrites pre-existing)\n  const exported = {\n    Lang,\n    moment,\n    // aliasing $ to jQ to avoid jQuery conflict in consumer side\n    jQ,\n    jQuery,\n\n    __APP__,\n    __CONTEXT__,\n    __TREES_UI__,\n    __AUDIO__,\n\n    app,\n  }\n  Object.assign(global, exported)\n\n  require('bootstrap-datetimepicker/src/js/bootstrap-datetimepicker')\n  jQ.fn.datetimepicker.defaults.locale = Lang.getLocale()\n\n  return exported\n}\n\nexport default bootstrapLegacyGlobalDependencies\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"bg-light home\"},[_c('div',{staticClass:\"container pt-5 bg-light\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"offset-1 col-10\"},[_c('div',{staticClass:\"card-deck mb-3\"},[_c('div',{staticClass:\"card mb-4 box-shadow\"},[_c('div',{staticClass:\"card-body\"},[_c('h3',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder')))]),_c('div',{staticClass:\"row mt-5 mb-5\"},[_c('div',{staticClass:\"col-sm-5 border-right\"},[_c('div',{staticClass:\"d-flex h-100 text-center\"},[_c('div',{staticClass:\"cover-container d-flex w-100 h-100 mx-auto flex-column\"},[_c('main',{staticClass:\"px-3\"},[_c('router-link',{staticClass:\"btn btn-primary mr-2\",attrs:{\"to\":_vm.route('flows.newFlow'),\"title\":_vm.trans('flow-builder.create-flow'),\"data-cy\":\"create-flow--btn\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.create-flow'))+\" \")]),_c('div',{staticClass:\"mt-4\"},[_c('router-link',{staticClass:\"mt-3 mr-2 active\",attrs:{\"to\":_vm.route('flows.importFlow'),\"title\":_vm.trans('flow-builder.import-flow')}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.import-flow'))+\" \")])],1),_c('div',{staticClass:\"mt-4\"},[_c('language-adder',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":scope.showAddLanguageModal}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.add-language'))+\" \")])]}}])})],1),_c('div',{staticClass:\"mt-4\"},[(!!_vm.flows.length)?_c('h4',[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.existing-flows'))+\": \")]):_vm._e(),_vm._l((_vm.flows),function(flow){return _c('div',{key:flow.uuid},[_c('router-link',{staticClass:\"mt-3 btn btn-outline-secondary mr-2 active\",attrs:{\"to\":_vm.route('flows.editFlow', {flowId: flow.uuid, component: 'builder', mode: 'edit'}),\"title\":_vm.trans('flow-builder.flow-details')}},[_vm._v(\" \"+_vm._s(flow.label || flow.uuid)+\" \")])],1)})],2)],1)])])]),_c('div',{staticClass:\"col-sm-7\"},[_c('p',[_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-info-1'))+\" \")]),_c('span',[_c('a',{staticClass:\"blue-link\",class:{'d-none': !_vm.isExtraContentHidden},attrs:{\"href\":\"#\"},on:{\"click\":_vm.showExtraContent}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.learn-more')))])]),_c('span',{ref:\"extra-content-1\",class:{'d-none': _vm.isExtraContentHidden}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-info-2'))+\" \")])]),_c('p',{ref:\"extra-content-2\",class:{'d-none': _vm.isExtraContentHidden}},[_c('span',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-info-3-pt-1')))]),_vm._m(0),_c('span',[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-info-3-pt-2')))]),_c('a',{staticClass:\"blue-link\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.hideExtraContent}},[_vm._v(_vm._s(_vm._f(\"trans\")('flow-builder.less')))])]),_c('p',[_c('b',[_c('a',{staticClass:\"mt-3 mr-2 active\",attrs:{\"href\":\"https://github.com/FLOIP/flow-builder\",\"title\":_vm.trans('flow-builder.flow-builder-documentation')}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-documentation'))+\" \")])])]),_c('p',[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.flow-builder-info-4'))+\" \"),_vm._m(1)])])])])])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b',[_c('a',{attrs:{\"href\":\"https://flowinterop.org/\"}},[_vm._v(\"https://flowinterop.org/\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b',[_c('a',{attrs:{\"href\":\"https://flowinteroperability.slack.com\"}},[_vm._v(\"flowinteroperability.slack.com\")])])\n}]\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {Component, Prop} from 'vue-property-decorator'\nimport {forEach, isEmpty} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {store} from '@/store'\nimport {Getter, Mutation, namespace} from 'vuex-class'\nimport {IFlow} from '@floip/flow-runner'\n\nconst flowVuexNamespace = namespace('flow')\n\n@Component({})\nclass Home extends mixins(Lang, Routes) {\n  @Prop({default: () => ({})}) readonly appConfig!: object\n  @Prop({default: () => ({})}) readonly builderConfig!: object\n\n  isExtraContentHidden = true\n\n  showExtraContent(e: KeyboardEvent): void {\n    e.preventDefault()\n    this.isExtraContentHidden = false\n  }\n\n  hideExtraContent(e: KeyboardEvent): void {\n    e.preventDefault()\n    this.isExtraContentHidden = true\n  }\n\n  @flowVuexNamespace.State flows!: IFlow[]\n  @Mutation configure!: ({appConfig, builderConfig}: { appConfig: object, builderConfig: object }) => void\n  @Getter isConfigured!: boolean\n\n  async beforeCreate(): Promise<void> {\n    const {$store} = this\n\n    forEach(store.modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  }\n\n  async created(): Promise<void> {\n    if ((!isEmpty(this.appConfig) && !isEmpty(this.builderConfig)) || !this.isConfigured) {\n      this.configure({appConfig: this.appConfig, builderConfig: this.builderConfig})\n    }\n  }\n}\n\nexport default Home\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=7be6489a&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=7be6489a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionDesigner.vue?vue&type=style&index=1&id=6abec910&prod&lang=scss&\"","/* global Backbone */\nimport _ from 'lodash'\n\nwindow.app = window.app || {};\n\n(function (jQ) {\n  app.ui = app.ui || {}\n  app.ui.changes = 0\n\n  app.ui.saveTimer = app.ui.saveTimer || 60\n  app.ui.isSaveCurrentlyInProgress = false\n\n  app.ui.removeClassPrefix = function (blockClassName) {\n    return blockClassName.substr(11)\n  }\n\n  app.ui.change = function (textNotification) {\n    console.log('app.ui.change', textNotification)\n\n    const {selectedBlock} = builder.$store.getters\n\n    if (!selectedBlock) {\n      return\n    }\n\n    // Temporary legacy fix for when some customData properties are not reactive by default\n    // because they don't yet exist in `15-trees-block-defaults.js`\n    selectedBlock.customData = _.extend({}, selectedBlock.customData)\n  }\n\n  app.ui.noChange = function () {\n    console.log('app.ui.nochange')\n  }\n\n  app.ui.changeLock = function () {\n    app.ui.changes = -1\n  }\n\n  app.ui.findSubscriberPropertyField = function (search) {\n    return _.find(app.ui.subscriberPropertyFields, search) || null\n  }\n\n  app.dataControl = {}\n  app.dataControl.send = function () {\n    if (!builder.$store.getters.isFeatureTreeSaveEnabled) {\n      console.info('Feature `treeSave` is disabled')\n      return\n    }\n\n    const outputData = JSON.stringify(app.tree)\n\n    const treeId = app.tree.get('id')\n    if (app.ui.isSaveCurrentlyInProgress === true) {\n      console.log('Save currently in progress')\n      return\n    }\n\n    const treeUpdatedConflict = builder.$store.state.trees.ui.treeUpdateConflict\n    app.ui.isSaveCurrentlyInProgress = true\n\n    app.audioChoice.setTopUpdatesBar(Lang.trans('trees.saving-tree'))\n    app.dataControl._setValidationResultsForUI([])\n\n    const requestData = {\n      data: outputData,\n    }\n    if (treeUpdatedConflict !== null) {\n      console.log('Update not currently possible')\n      return false\n    }\n\n    const promise = jQ.post(`/ajax/trees/save/${treeId}`, requestData)\n      .done((response) => {\n        app.audioChoice.setTopUpdatesBar(Lang.trans('trees.tree-saved'), 1)\n        // the person has been logged out\n        if (typeof (response) !== 'object') {\n          // spawn the modal\n          jQ('#myModal')\n            .modal({show: true, backdrop: 'static'})\n        }\n\n        app.ui.isSaveCurrentlyInProgress = false\n        app.dataControl._setValidationResultsForUI(response.validation_results)\n\n        // used to detect changes in vuejs\n\n        app.ui.previousTreeJson = outputData\n        app.ui.noChange()\n\n        app.tree.updateFloipAlert()\n      })\n      .fail((response) => {\n        if (response.status === 409) {\n          // Dispatch an action to prevent further tree update until page is refreshed\n          const payload = {\n            treeUpdateConflict: {\n              tree_id: treeId,\n              message: response.responseJSON.message,\n            },\n          }\n          builder.$store.dispatch('setTreeUpdateConflictStatus', payload)\n        } else {\n          console.error(response)\n          app.audioChoice.setTopUpdatesBar(Lang.trans('trees.error-while-saving-tree'), 1)\n        }\n      })\n      .always(() => {\n        app.ui.isSaveCurrentlyInProgress = false\n      })\n\n    // Create Adapter from jQuery-promise-api to ES6-promise-api\n    // so that it can be chained into vuex actions\n    return _.defaults(promise, {\n      then: promise.done,\n      catch: promise.fail,\n      finally: promise.always,\n    })\n  }\n\n  app.dataControl._setValidationResultsForUI = function (validationResults) {\n    app.ui.validationResults = validationResults || []\n  }\n\n  app.exportOptionsModal = {}\n  app.exportOptionsModal.initialize = function () {\n    const exportOptionsTemplate = _.template(JST['legacy/templates/export-options-template.html'])\n\n    jQ('body')\n      .append(exportOptionsTemplate())\n\n    jQ('.tree-export-options-input')\n      .change((e) => {\n        app.exportOptionsModal.handleInput(e)\n      })\n\n    // Select the URL box text if clicked\n    jQ('.tree-export-options-download-api-url')\n      .focus(function () {\n        this.select()\n      })\n\n    // Add datepickers for the time boxes\n    jQ('.tree-export-options-input-datepicker')\n      .datetimepicker({\n        pickTime: false,\n      })\n    jQ('.tree-export-options-input-datepicker')\n      .on('dp.change', (e) => {\n        jQ(e.currentTarget)\n          .trigger('change')\n      })\n\n    // Kickoff the process to build the link URL!\n    jQ('.tree-export-options-input')\n      .first()\n      .trigger('change')\n  }\n\n  app.exportOptionsModal.open = function () {\n    if (jQ('#export-options-modal').length == 0) {\n      app.exportOptionsModal.initialize()\n    }\n\n    // Show the modal.\n    jQ('#export-options-modal')\n      .modal()\n  }\n\n  app.exportOptionsModal.handleInput = function (e) {\n    const value = jQ(e.currentTarget)\n      .val()\n    const key = jQ(e.currentTarget)\n      .attr('data-export-options-key')\n\n    if (key == 'dateFilter') {\n      if (value == '1') {\n        jQ('.export-options-date-filter-container')\n          .show()\n      } else {\n        jQ('.export-options-date-filter-container')\n          .hide()\n\n        // Reset the values so they don't get serialized if hidden\n        jQ('.tree-export-options-input[data-export-options-key=callsAfter]')\n          .val('')\n        jQ('.tree-export-options-input[data-export-options-key=callsBefore]')\n          .val('')\n      }\n    }\n\n    jQ('.tree-export-options-download-link')\n      .attr('href', app.exportOptionsModal.buildUrl())\n    jQ('.tree-export-options-download-api-url')\n      .val(app.exportOptionsModal.buildUrl(1))\n  }\n\n  app.exportOptionsModal.buildUrl = function (isApiUrl) {\n    let url = `/trees/${app.ui.treeId}/exportcsv?`\n\n    if (isApiUrl) {\n      url = `${window.location.protocol}//${window.location.host}/api/v1/trees/${app.ui.treeId}/csvexport/direct?`\n    }\n\n    url += jQ('.tree-export-options-input')\n      .serialize()\n\n    if (isApiUrl) {\n      url += `&api_key=${app.ui.apiKey}`\n    }\n\n    return url\n  }\n\n  // Initial version of the shareable link modal,\n  // for a specific single tree:\n  app.shareableLinkModal = {}\n  app.shareableLinkModal.initialize = function () {\n    const shareableLinkTemplate = _.template(JST['legacy/templates/shareable-link-template.html'])\n\n    jQ('body')\n      .append(shareableLinkTemplate())\n\n    // Select the URL box text if clicked\n    jQ('.tree-shareable-link-url')\n      .focus(function () {\n        this.select()\n      })\n\n    // Assign button clicks\n    jQ('.tree-shareable-link-generate-button')\n      .on('click', (e) => {\n        app.shareableLinkModal.sendRequest('create')\n      })\n    jQ('.tree-shareable-link-delete-button')\n      .on('click', (e) => {\n        app.shareableLinkModal.switchView('delete')\n      })\n    jQ('.tree-shareable-link-delete-confirm-button')\n      .on('click', (e) => {\n        app.shareableLinkModal.sendRequest('delete')\n      })\n    jQ('.tree-shareable-link-delete-cancel-button')\n      .on('click', (e) => {\n        app.shareableLinkModal.switchView('edit')\n      })\n\n    if (app.ui.publicId) {\n      // If there's already a public ID, then show the \"edit\" view\n      app.shareableLinkModal.setUrl()\n      app.shareableLinkModal.switchView('edit')\n    } else {\n      app.shareableLinkModal.switchView('new')\n    }\n  }\n\n  app.shareableLinkModal.switchView = function (view) {\n    jQ('.shareable-link-delete')\n      .hide()\n    jQ('.shareable-link-edit')\n      .hide()\n    jQ('.shareable-link-new')\n      .hide()\n    jQ(`.shareable-link-${view}`)\n      .show()\n  }\n\n  app.shareableLinkModal.open = function (e) {\n    if (jQ('#shareable-link-modal').length == 0) {\n      app.shareableLinkModal.initialize()\n    }\n\n    // Show the modal.\n    jQ('#shareable-link-modal')\n      .modal()\n  }\n\n  app.shareableLinkModal.buildUrl = function () {\n    let url = ''\n    if (app.ui.publicId) {\n      url = `${window.location.protocol}//${window.location.host}/share/a/trees/${app.ui.publicId}`\n    }\n    return url\n  }\n\n  app.shareableLinkModal.setUrl = function () {\n    const url = app.shareableLinkModal.buildUrl()\n    jQ('.tree-shareable-link-url')\n      .val(url)\n    jQ('.tree-shareable-link-url-link')\n      .attr('href', url)\n  }\n\n  app.shareableLinkModal.sendRequest = function (requestType) {\n    jQ.post(`/ajax/trees/updateshareablelink/${app.ui.treeId}`, {type: requestType})\n      .done((response) => {\n        if (response) {\n          // New one!\n          app.ui.publicId = response\n\n          app.shareableLinkModal.setUrl()\n          app.shareableLinkModal.switchView('edit')\n        } else {\n          app.ui.publicId = ''\n          app.shareableLinkModal.switchView('new')\n        }\n\n        return true\n      })\n      .fail((response) => {\n        const errorMessage = response.responseJSON || 'Error while updating shareable link...'\n        app.audioChoice.setTopUpdatesBar(errorMessage, 1)\n      })\n  }\n\n  // Updated version of the shareable link modal,\n  // for tree sets rather than specific trees!\n\n  app.shareableLinkSetsModal = {}\n  app.shareableLinkSetsModal.initialize = function () {\n    const shareableLinkTemplate = _.template(JST['legacy/templates/shareable-link-sets-template.html'])\n\n    jQ('body')\n      .append(shareableLinkTemplate({\n        defaultLocales: builder.$store.state.defaultLocales,\n        orgEnabledLanguages: builder.$store.state.orgEnabledLanguages,\n      }))\n\n    // Assign button clicks\n    jQ('.tree-shareable-link-sets-generate-button')\n      .on('click', (e) => {\n        app.shareableLinkSetsModal.sendRequest('create')\n      })\n\n    jQ('input[name=shouldUseCustomBlockOrdering]')\n      .on('click', function () {\n        if (jQ(this)\n          .is(':checked')) {\n          jQ('.block-ordinal')\n            .prop('disabled', false)\n        } else {\n          jQ('.block-ordinal')\n            .prop('disabled', true)\n        }\n      })\n\n    jQ('select[name=\\'lockDateRange\\']')\n      .on('change', function () {\n        if (this.value === '1') {\n          jQ('.hide-on-lockDateRange')\n            .hide()\n        } else {\n          jQ('.hide-on-lockDateRange')\n            .show()\n        }\n      })\n\n    // Initialize the second half with the list of existing links:\n    app.shareableLinkSetsModal.initializeLinksList()\n  }\n\n  app.shareableLinkSetsModal.initializeLinksList = function () {\n    const shareableLinkListTemplate = _.template(JST['legacy/templates/shareable-link-sets-list-template.html'])\n    jQ('.shareable-link-sets-list-container')\n      .html(shareableLinkListTemplate)\n\n    jQ('.tree-shareable-link-sets-delete-button')\n      .on('click', (e) => {\n        app.shareableLinkSetsModal.switchToDeleteView(e)\n      })\n    jQ('.tree-shareable-link-sets-delete-confirm-button')\n      .on('click', (e) => {\n        const shareableLinkHash = jQ(e.currentTarget)\n          .attr('data-link-hash')\n        app.shareableLinkSetsModal.sendRequest('delete', shareableLinkHash)\n      })\n    jQ('.tree-shareable-link-sets-delete-cancel-button')\n      .on('click', (e) => {\n        app.shareableLinkSetsModal.switchAwayFromDeleteView(e)\n      })\n  }\n\n  app.shareableLinkSetsModal.switchToDeleteView = function (e) {\n    const shareableLinkId = jQ(e.currentTarget)\n      .attr('data-link-id')\n    const listElement = jQ(`.shareable-link-item-div[data-link-id=${shareableLinkId}]`)\n\n    if (jQ(listElement)\n      .hasClass('list-group-item-danger')) {\n      app.shareableLinkSetsModal.switchAwayFromDeleteView(e)\n    } else {\n      jQ(listElement)\n        .addClass('list-group-item-danger')\n      jQ(listElement)\n        .children('.shareable-link-item-div-delete')\n        .show()\n    }\n  }\n\n  app.shareableLinkSetsModal.switchAwayFromDeleteView = function (e) {\n    const shareableLinkId = jQ(e.currentTarget)\n      .attr('data-link-id')\n    const listElement = jQ(`.shareable-link-item-div[data-link-id=${shareableLinkId}]`)\n\n    jQ(listElement)\n      .removeClass('list-group-item-danger')\n    jQ(listElement)\n      .children('.shareable-link-item-div-delete')\n      .hide()\n  }\n\n  app.shareableLinkSetsModal.open = function (e) {\n    if (jQ('#shareable-link-sets-modal').length == 0) {\n      app.shareableLinkSetsModal.initialize()\n    }\n\n    // Re-set the labels\n    app.shareableLinkSetsModal.setLabelValues()\n\n    // Show the modal.\n    jQ('#shareable-link-sets-modal')\n      .modal()\n  }\n\n  app.shareableLinkSetsModal.setLabelValues = function () {\n    // TODO - use another mini-template for these guys rather than updating text values with jQuery.\n    const startDateLabel = app.startDate.format('MMMM D, YYYY')\n    const endDateLabel = app.endDate.format('MMMM D, YYYY')\n    const channelLabel = app.labels.channel\n    const blocksLabel = app.labels.blocks\n\n    if (app.params.versionFiltersEnabled) {\n      jQ('.shareable-link-sets-versions-label')\n        .show()\n    } else {\n      jQ('.shareable-link-sets-versions-label')\n        .hide()\n    }\n\n    if (app.params.noValidDateRange) {\n      jQ('.shareable-link-sets-date-range-labels')\n        .hide()\n      jQ('.shareable-link-sets-date-range-all-time-label')\n        .show()\n    } else {\n      jQ('span.sl-label-start-date')\n        .text(startDateLabel)\n      jQ('span.sl-label-end-date')\n        .text(endDateLabel)\n    }\n\n    jQ('span.sl-label-channel')\n      .text(channelLabel)\n    jQ('span.sl-label-blocks')\n      .text(blocksLabel)\n\n    jQ('span.sl-label-versions')\n      .text(`${app.labels.versionsSelected} of ${app.labels.versionsTotal}`)\n  }\n\n  app.shareableLinkSetsModal.buildUrl = function (public_hash) {\n    let url = ''\n    if (public_hash) {\n      url = `${window.location.protocol}//${window.location.host}/share/a/trees/${public_hash}`\n    }\n    return url\n  }\n\n  app.shareableLinkSetsModal.sendRequest = function (requestType, shareableLinkHash) {\n    if (requestType == 'delete') {\n      var sendRequest = {\n        requestType,\n        shareableLinkHash,\n      }\n    } else {\n      var sendRequest = {\n        requestType,\n        channelFilter: app.params.channelFilter,\n        includedBlocks: app.params.includedBlocks,\n        excludedBlocks: app.params.excludedBlocks,\n        blockKeys: app.blockKeys,\n        hiddenDirectorySelectionFields: app.params.hiddenDirectorySelectionFields,\n        lockDateRange: _.parseInt(jQ('.shareable-link-sets-input[name=lockDateRange]')\n          .val()),\n        resultsLocale: jQ('.shareable-link-sets-input[name=resultsLocale]')\n          .val(),\n        showKeyMetrics: jQ('.shareable-link-sets-input[name=showKeyMetrics]')\n          .is(':checked') ? '1' : '0',\n        showBlockType: jQ('.shareable-link-sets-input[name=showBlockType]')\n          .is(':checked') ? '1' : '0',\n        shouldShowResultsFromIncompleteEngagements: jQ('.shareable-link-sets-input[name=shouldShowResultsFromIncompleteEngagements]')\n          .is(':checked') ? '1' : '0',\n        shouldOnlyShowLatestResultPerSession: jQ('.shareable-link-sets-input[name=shouldOnlyShowLatestResultPerSession]')\n          .is(':checked') ? '1' : '0',\n        shouldUseSimpleDatePicker: jQ('.shareable-link-sets-input[name=shouldUseSimpleDatePicker]')\n          .is(':checked') ? '1' : '0',\n        shouldUseCustomBlockOrdering: jQ('.shareable-link-sets-input[name=shouldUseCustomBlockOrdering]')\n          .is(':checked') ? '1' : '0',\n        enabledTabs: jQ('input[name=enabledTabs]:checked')\n          .map((i, el) => jQ(el)\n            .val())\n          .get(),\n        tagFilter: jQ('input[name=tagFilter]:checked')\n          .map((i, el) => jQ(el)\n            .val())\n          .get(),\n        directorySelectionFieldFilter: jQ('input[name=directorySelectionFieldFilter]:checked')\n          .map((i, el) => jQ(el)\n            .val())\n          .get(),\n        blockChoiceFilter: jQ('input[name=blockChoiceFilter]:checked')\n          .map((i, el) => jQ(el)\n            .val())\n          .get(),\n        filterDisplayThreshold: jQ('input[name=filterDisplayThreshold]')\n          .val(),\n      }\n\n      if (jQ('.shareable-link-sets-input[name=shouldUseCustomBlockOrdering]')\n        .is(':checked')) {\n        sendRequest.customBlockOrder = _.reduce(\n          jQ('.block-ordinal')\n            .toArray(),\n          (memo, el) => {\n            memo[jQ(el)\n              .data('js-key')] = jQ(el)\n              .val()\n            return memo\n          },\n          {},\n        )\n      }\n\n      if (app.params.noValidDateRange == false) {\n        sendRequest.startDate = app.startDate.format('YYYY-MM-DD')\n        sendRequest.endDate = app.endDate.format('YYYY-MM-DD')\n      }\n\n      if (app.params.versionFiltersEnabled) {\n        sendRequest.versions = app.params.versions\n      }\n    }\n\n    jQ.post(`/ajax/treeversionsets/updateshareablelink/${app.tree_version_set_id}`, {data: sendRequest})\n      .done((response) => {\n        if (requestType == 'delete') {\n          if (response == 1) {\n            // Remove the entry with that hash from the local JS list\n            app.shareableLinks = _.without(\n              app.shareableLinks,\n              _.findWhere(app.shareableLinks, {public_hash: shareableLinkHash}),\n            )\n            // Initialize the second half with the list of existing links:\n            app.shareableLinkSetsModal.initializeLinksList()\n          }\n        } else {\n          // Add the new response to the start of the shareable links array:\n          app.shareableLinks.unshift(response)\n\n          // Initialize the second half with the list of existing links:\n          app.shareableLinkSetsModal.initializeLinksList()\n        }\n        return true\n      })\n      .fail((response) => {\n        const errorMessage = response.responseJSON || 'Error while updating shareable link...'\n        app.audioChoice.setTopUpdatesBar(errorMessage, 1)\n      })\n  }\n\n  // csvExports modal helper functions\n  app.csvExportsModal = {}\n  app.csvExportsModal.initialize = function () {\n    const csvExportTemplate = _.template(JST['legacy/templates/combined-csv-export-template.html'])\n\n    jQ('body')\n      .append(csvExportTemplate())\n\n    // Assign button clicks\n    jQ('.tree-csv-exports-generate-button')\n      .on('click', (e) => {\n        app.csvExportsModal.sendCreateRequest()\n      })\n\n    // var to check when default\n    let setToDefault = true\n    // set recipes – a string of values of customisable fields\n    // headings-cells-mcq-messages\n    const recipeHumanReadable = '0000'\n    const recipeMachineReadable = '1112'\n    let recipeUserCustomised = null\n\n    // get selected options for export from users\n    function getUserOptionsRecipe() {\n      const fhd = (jQ('.csv-exports-option-format-headings')\n        .val()) ? jQ('.csv-exports-option-format-headings')\n        .val() : '0'\n      const fcc = (jQ('.csv-exports-option-format-cells')\n        .val()) ? jQ('.csv-exports-option-format-cells')\n        .val() : '0'\n      const vcq = (jQ('.csv-exports-option-values-mcq')\n        .val()) ? jQ('.csv-exports-option-values-mcq')\n        .val() : '0'\n      const vms = (jQ('.csv-exports-option-values-messages')\n        .val()) ? jQ('.csv-exports-option-values-messages')\n        .val() : '0'\n\n      return fhd + fcc + vcq + vms\n    }\n\n    // remove active class from all\n    jQ('[class*=csv-exports-btn-format-]')\n      .click(() => {\n        jQ('[class*=csv-exports-btn-format-]')\n          .removeClass('btn-primary active')\n          .addClass('btn-secondary')\n      })\n\n    // when human-readable is selected\n    jQ('.csv-exports-btn-format-human')\n      .click(function () {\n        setToDefault = false\n        jQ(this)\n          .addClass('btn-primary active')\n          .removeClass('btn-secondary')\n        jQ('.csv-exports-option-format-headings option')\n          .eq('0')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-format-cells option')\n          .eq('0')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-values-mcq option')\n          .eq('0')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-values-messages option')\n          .eq('0')\n          .prop('selected', 'selected')\n      })\n\n    // when machine-readable is selected\n    jQ('.csv-exports-btn-format-machine')\n      .click(function () {\n        setToDefault = false\n        jQ(this)\n          .addClass('btn-primary active')\n          .removeClass('btn-secondary')\n        jQ('.csv-exports-option-format-headings option')\n          .eq('1')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-format-cells option')\n          .eq('1')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-values-mcq option')\n          .eq('1')\n          .prop('selected', 'selected')\n        jQ('.csv-exports-option-values-messages option')\n          .eq('2')\n          .prop('selected', 'selected')\n      })\n\n    // when custom is selected\n    jQ('.csv-exports-btn-format-custom')\n      .click(function () {\n        setToDefault = false\n        jQ(this)\n          .addClass('btn-primary active')\n          .removeClass('btn-secondary')\n      })\n\n    // when we are to use default – use human-readable\n    if (setToDefault) {\n      jQ('.csv-exports-btn-format-human')\n        .trigger('click')\n    }\n\n    // on change check what options have been selected\n    jQ('[class*=csv-exports-option-]')\n      .change(() => {\n        setToDefault = false\n        recipeUserCustomised = getUserOptionsRecipe()\n\n        // if customRecipe is neither machine-readable NOR human-readable then it is custom\n        if (recipeUserCustomised) {\n          if (recipeUserCustomised == recipeHumanReadable) {\n            jQ('.csv-exports-btn-format-human')\n              .trigger('click')\n          } else if (recipeUserCustomised == recipeMachineReadable) {\n            jQ('.csv-exports-btn-format-machine')\n              .trigger('click')\n          } else {\n            setToDefault = false\n            jQ('[class*=csv-exports-btn-format-]')\n              .removeClass('btn-primary active')\n              .addClass('btn-secondary')\n            jQ('.csv-exports-btn-format-custom')\n              .addClass('btn-primary active')\n              .removeClass('btn-secondary')\n          }\n        }\n      })\n\n    // Initialize the second half with the list of existing links:\n    app.csvExportsModal.initializeLinksList()\n  }\n\n  app.csvExportsModal.initializeLinksList = function () {\n    if (typeof app.csvExportsModal.shareableLinkListTemplate === 'undefined') {\n      app.csvExportsModal.shareableLinkListTemplate = _.template(JST['legacy/templates/combined-csv-export-list-template.html'])\n    }\n    jQ('.csv-exports-list-container')\n      .html(app.csvExportsModal.shareableLinkListTemplate())\n    app.csvExportsModal.queueInProgress()\n  }\n\n  app.csvExportsModal.open = function (e) {\n    if (jQ('#combined-csv-export-modal').length == 0) {\n      app.csvExportsModal.initialize()\n    }\n\n    app.csvExportsModal.setLabelValues()\n    jQ('#combined-csv-export-modal')\n      .modal()\n  }\n\n  app.csvExportsModal.setLabelValues = function () {\n    // TODO - use another mini-template for these guys, rather than updating text values with jQuery.\n    const startDateLabel = app.startDate.format('MMMM D, YYYY')\n    const endDateLabel = app.endDate.format('MMMM D, YYYY')\n    const channelLabel = app.labels.channel\n    const blocksLabel = app.labels.blocks\n\n    if (app.params.versionFiltersEnabled) {\n      jQ('.export-version-sets-versions-label')\n        .show()\n    } else {\n      jQ('.export-version-sets-versions-label')\n        .hide()\n    }\n\n    if (app.params.noValidDateRange) {\n      jQ('.csv-exports-date-range-labels')\n        .hide()\n      jQ('.csv-exports-date-range-all-time-label')\n        .show()\n    } else {\n      jQ('span.sl-label-start-date')\n        .text(startDateLabel)\n      jQ('span.sl-label-end-date')\n        .text(endDateLabel)\n    }\n\n    jQ('span.sl-label-channel')\n      .text(channelLabel)\n    jQ('span.sl-label-blocks')\n      .text(blocksLabel)\n\n    jQ('span.sl-label-versions')\n      .text(`${app.labels.versionsSelected} of ${app.labels.versionsTotal}`)\n  }\n\n  app.csvExportsModal.sendStatusRequest = function () {\n    jQ.ajax({\n      url: `/ajax/treeversionsets/csvexportstatus/${app.tree_version_set_id}`,\n      type: 'GET',\n      dataType: 'json',\n      success(response) {\n        app.csvExports = response\n        app.csvExportsModal.initializeLinksList()\n      },\n    })\n  }\n\n  app.csvExportsModal.sendCreateRequest = function () {\n    const sendRequest = {\n      channelFilter: app.params.channelFilter,\n      includedBlocks: app.params.includedBlocks,\n      excludedBlocks: app.params.excludedBlocks,\n      blockKeys: app.blockKeys,\n      order: jQ('.csv-exports-input[name=order]')\n        .val(),\n      formatHeadings: jQ('.csv-exports-input[name=formatHeadings]')\n        .val(),\n      cellContents: jQ('.csv-exports-input[name=cellContents]')\n        .val(),\n      messageBlockPercent: jQ('.csv-exports-input[name=messageBlockPercent]')\n        .val(),\n      formatMCQResponses: jQ('.csv-exports-input[name=formatMCQResponses]')\n        .val(),\n      treeVersionIds: app.params.versions,\n      mergeOption: jQ('.csv-exports-input[name=mergeOption]')\n        .val(),\n      useLocalTimezone: jQ('.csv-exports-input[name=useLocalTimezone]')\n        .val(),\n      useExcelFormat: jQ('.csv-exports-input[name=useExcelFormat]')\n        .val(),\n    }\n\n    if (app.params.noValidDateRange == false) {\n      sendRequest.startDate = app.startDate.format('YYYY-MM-DD')\n      sendRequest.endDate = app.endDate.format('YYYY-MM-DD')\n    }\n\n    const treeVersionSetId = app.tree_version_set_id\n\n    // time of export click\n\n    const then = moment()\n    // Re-enable time will be after 5s\n    const thenAfter5s = then.clone()\n      .add(5, 'seconds')\n    jQ('.tree-csv-exports-generate-button')\n      .prop('disabled', true)\n    jQ.post(`/ajax/treeversionsets/csvexportstart/${treeVersionSetId}`, {data: sendRequest})\n      .done((response) => {\n        app.csvExports = response\n        app.csvExportsModal.initializeLinksList()\n        return true\n      })\n      .fail((response) => {\n        console.error(response)\n        app.audioChoice.setTopUpdatesBar('Error while sending CSV request...', 1)\n      })\n      .always((response) => {\n        // Re-enable the export button\n        // Estimate the right delay in case the request has been processed in less than 5s\n        const delay = moment.duration(thenAfter5s.diff(moment()))\n        const delayInMilliseconds = delay > 0 ? delay.asMilliseconds() : 0\n        _.delay(() => {\n          jQ('.tree-csv-exports-generate-button')\n            .prop('disabled', false)\n        }, delayInMilliseconds)\n      })\n  }\n\n  app.csvExportsModal.queueInProgress = function () {\n    const firstExportInProgress = _.find(app.csvExports, {upload_status: 0})\n\n    // If necessary, create a de-bounced version of the Ajax status check function\n    if (_.isFunction(app.csvExportsModal.sendStatusRequestDebounced) == false) {\n      app.csvExportsModal.sendStatusRequestDebounced = _.debounce(app.csvExportsModal.sendStatusRequest, 1000)\n    }\n\n    if (firstExportInProgress) {\n      _.delay(app.csvExportsModal.sendStatusRequestDebounced, 0.5 * 1000)\n    }\n  }\n\n  app.blockResultsLoader = {}\n  app.blockResultsLoader.load = function () {\n    const nextBlockKeyToLoad = jQ('.tree-results-block-container[data-is-loaded=0]')\n      .first()\n      .attr('id')\n\n    jQ('.tree-results-loading-indicators')\n      .show()\n\n    if (nextBlockKeyToLoad) {\n      app.blockResultsLoader.loadBlock(nextBlockKeyToLoad, 1)\n    } else {\n      jQ('.tree-results-loading-indicators')\n        .hide()\n    }\n  }\n\n  app.blockResultsLoader.assignButtons = function (parentElement) {\n    jQ(parentElement)\n      .find('.result-view-control-tab')\n      .on('click', (e) => {\n        const targetType = jQ(e.currentTarget)\n          .attr('data-tab-option')\n        jQ(parentElement)\n          .find('.tree-results-item-tabs')\n          .hide()\n        jQ(parentElement)\n          .find(`.tree-results-item-${targetType}`)\n          .show()\n      })\n    jQ(parentElement)\n      .find('.result-view-control-tab')\n      .first()\n      .trigger('click')\n  }\n\n  app.blockResultsLoader.loadBlock = function (blockKey, continueLoading) {\n    let url\n    if (app.shareableLink) {\n      url = window.location.pathname\n\n      // Check if there's already a query string\n      if (window.location.search) {\n        url += `${window.location.search}&blockKey=${blockKey}`\n      } else {\n        url += `?blockKey=${blockKey}`\n      }\n    } else {\n      url = `/ajax/trees/set/${app.tree_version_set_id}/results/${blockKey}${window.location.search}`\n    }\n\n    jQ.ajax({\n      url,\n      type: 'GET',\n      dataType: 'json',\n      success(data) {\n        if (data.htmlOutput) {\n          // Place the HTML output into the container DIV\n          // TODO - this should actually use client-side templates, once the item results template is converted back.\n          _.each(data.htmlOutput, (value, key) => {\n            jQ(`#${key}`)\n              .attr('data-is-loaded', 1)\n              .html(value)\n\n            // Assign buttons for tab switching:\n            app.blockResultsLoader.assignButtons(jQ(`#${key}`))\n          })\n\n          // Generate Chart.js-based charts:\n          app.chartJsHelper.createCharts()\n\n          if (continueLoading) {\n            // Check if there are more blocks to load!\n            app.blockResultsLoader.load()\n          }\n        }\n      },\n    })\n  }\n\n  app.blockResultsLoaderV2 = {}\n  app.blockResultsLoaderV2.loadKeyMetrics = function () {\n    let url\n\n    if (app.shareableLink) {\n      // Check if there's already a query string\n      url = window.location.search\n        ? `${window.location.pathname + window.location.search}&keymetrics=1`\n        : `${window.location.pathname}?keymetrics=1`\n    } else {\n      url = `/ajax/trees/set/${app.tree_version_set_id}/results/keymetrics${window.location.search}`\n    }\n\n    jQ.post(url, {filterSet: _.get(viamo, '$store.state.publicApp.filterSet', [])})\n      .done((keymetrics) => {\n        if (keymetrics) {\n          app.blockResultsLoaderV2.loadDonutChart(\n            'connected',\n            keymetrics.finishedDeliveryLogCount,\n            keymetrics.deliveryLogCount,\n          )\n          jQ('#print-connected-values')\n            .html(`${keymetrics.finishedDeliveryLogCount} Connected of ${keymetrics.deliveryLogCount} Calls`)\n\n          app.blockResultsLoaderV2.loadDonutChart(\n            'completed',\n            keymetrics.completedDeliveryLogCount,\n            keymetrics.deliveryLogCount,\n          )\n          jQ('#print-completed-values')\n            .html(`${keymetrics.completedDeliveryLogCount} Completed of ${keymetrics.deliveryLogCount} Calls`)\n\n          app.blockResultsLoaderV2.loadDonutChart(\n            'unique',\n            keymetrics.uniqueSubscriberCount,\n            keymetrics.deliveryLogCount,\n          )\n          jQ('#print-unique-value')\n            .html(`${keymetrics.uniqueSubscriberCount} Unique Subscribers`)\n\n          app.blockResultsLoaderV2.loadDonutChart(\n            'firsttime',\n            keymetrics.firstTimeSubscriberCount,\n            keymetrics.uniqueSubscriberCount,\n          )\n          jQ('#print-firsttime-value')\n            .html(`${keymetrics.firstTimeSubscriberCount} First Time Subscribers`)\n\n          app.blockResultsLoaderV2.loadDonutChart('answered', keymetrics.completedQuestionCount, 0)\n          jQ('#print-answered-value')\n            .html(`${keymetrics.completedQuestionCount} Question Responses`)\n\n          if (jQ('#tree-results-keymetrics-durations').length > 0) {\n            app.blockResultsLoaderV2.loadAvgCallDurations(keymetrics)\n          }\n        }\n      })\n      .fail((response) => {\n        console.error(response)\n        jQ('.doughnut-charts-row')\n          .html(`<h4 class=\"text-danger text-center\">${JSON.parse(response.responseText)}</h4>`)\n      })\n  }\n\n  app.blockResultsLoaderV2.loadDonutChart = function (keymetricName, chartNumerator, chartTotal) {\n    const chartDenominator = (chartTotal === 0) ? 0 : chartTotal - chartNumerator\n\n    const chartDataSets = {\n      labels: [\n        '',\n        '',\n      ],\n      datasets: [\n        {\n          data: [\n            chartNumerator,\n            chartDenominator,\n          ],\n          backgroundColor: [\n            '#333',\n            '#999',\n          ],\n          hoverBackgroundColor: [\n            '#333',\n            '#999',\n          ],\n          borderColor: [\n            '#333',\n            '#999',\n          ],\n        },\n      ],\n    }\n\n    jQ(`#tree-results-loading-indicator-doughnut-${keymetricName}`)\n      .hide()\n\n    app.chartJsHelper.updateTreeDoughnutChart(`v-chart-tree-doughnut-${keymetricName}`, chartDataSets)\n\n    // Set Chart's dynamic label as visible and set its span html with the value\n    if (chartTotal >= 0) {\n      jQ(`#tree-doughnut-total-${keymetricName}`)\n        .html(formatLargeNumber(chartTotal))\n        .parent()\n        .removeClass('hidden')\n    }\n  }\n\n  app.blockResultsLoaderV2.loadAvgCallDurations = function (durations) {\n    if (durations) {\n      // TODO what iv durationAvg or completedDurationAvg = 0 or don't exist?\n      jQ('#tree-results-duration-all')\n        .html(`${(durations.durationAvg / 60).toPrecision(2)} minutes`)\n      jQ('#tree-results-duration-completed')\n        .html(`${(durations.completedDurationAvg / 60).toPrecision(2)} minutes`)\n      jQ('#tree-results-keymetrics-duration')\n        .show()\n    }\n\n    jQ('#tree-results-loading-indicator-durations')\n      .hide()\n    jQ('.tree-results-duration-item')\n      .css('visibility', 'visible')\n  }\n\n  app.blockResultsLoaderV2.loadBlocksInteractionsChart = function () {\n    const barchartLabelsTruncated = []\n    const barchartLabels = []\n    const totalInteractionsBarchartData = []\n    const completedInteractionsBarchartData = []\n    const orderedCompletedInteractionsBarchartData = []\n    var totalInteractionsOrderedBarchartData = []\n    const colorIndexes = []\n    const orderedColorIndexes = []\n    const orderedBarchartLabelsTruncated = []\n    const orderedBarchartLabels = []\n    var totalInteractionsOrderedBarchartData = []\n\n    _.each(app.resultsData, (blockResult, key) => {\n      let truncatedBlockTitle\n      let resultIndex\n      let colorIndex\n      let totalInteractions\n      let completedInteractions\n      let\n        colorValue\n      const blockTitle = _.get(blockResult, 'details.title') || _.get(blockResult, 'classDetails.name') || ''\n\n      truncatedBlockTitle = blockTitle.length < 9 ? blockTitle : `${blockTitle.substring(0, 9)}...`\n      colorIndex = blockResult.colorIndex\n      colorValue = app.chartJsHelper.getChartChoiceColorsArray(colorIndex)[0]\n      totalInteractions = blockResult.totalInteractions\n\n      // outputKeys is either an empty array, or has one or more objects.\n      completedInteractions = blockResult.outputKeys.reduce((acc, val) => acc + val.outputKeyTotals, 0)\n\n      // Listing-ordered arrays\n      barchartLabels.push(blockTitle)\n      barchartLabelsTruncated.push(truncatedBlockTitle)\n      colorIndexes.push(colorValue)\n      totalInteractionsBarchartData.push(totalInteractions)\n      completedInteractionsBarchartData.push(completedInteractions)\n\n      // Popularity-ordered arrays. Callback fn applies descending order.\n      resultIndex = _.sortedIndex(orderedCompletedInteractionsBarchartData, completedInteractions, (i) => -i)\n      orderedBarchartLabels.splice(resultIndex, 0, blockTitle)\n      orderedBarchartLabelsTruncated.splice(resultIndex, 0, truncatedBlockTitle)\n      orderedColorIndexes.splice(resultIndex, 0, colorValue)\n      orderedCompletedInteractionsBarchartData.splice(resultIndex, 0, completedInteractions)\n      totalInteractionsOrderedBarchartData.splice(resultIndex, 0, totalInteractions)\n    })\n\n    app.chartJsHelper.updateTreeBlocksInteractionsChart('v-chart-tree-blocks-popularity', {\n      labels: orderedBarchartLabelsTruncated,\n      fullLabels: orderedBarchartLabels,\n      datasets: [\n        {\n          data: orderedCompletedInteractionsBarchartData,\n          backgroundColor: orderedColorIndexes,\n          borderColor: orderedColorIndexes,\n          borderWidth: 1,\n        },\n        {\n          hidden: true,\n          data: totalInteractionsOrderedBarchartData,\n          backgroundColor: orderedColorIndexes,\n          borderColor: orderedColorIndexes,\n          borderWidth: 1,\n        },\n      ],\n    })\n\n    app.chartJsHelper.updateTreeBlocksInteractionsChart('v-chart-tree-blocks-listing', {\n      labels: barchartLabelsTruncated,\n      fullLabels: barchartLabels,\n      datasets: [\n        {\n          data: completedInteractionsBarchartData,\n          backgroundColor: colorIndexes,\n          borderColor: colorIndexes,\n          borderWidth: 1,\n        },\n        {\n          hidden: true,\n          data: totalInteractionsBarchartData,\n          backgroundColor: colorIndexes,\n          borderColor: colorIndexes,\n          borderWidth: 1,\n        },\n      ],\n    })\n\n    app.blockResultsLoaderV2.assignButtons(jQ('#tree-summary-container'))\n  }\n\n  app.blockResultsLoaderV2.assignButtons = function (parentElement) {\n    jQ(parentElement)\n      .find('.tree-interactions-barcharts-toggle-button')\n      .on('click', (e) => {\n        const $buttonClicked = jQ(e.currentTarget)\n        const barchartTarget = $buttonClicked.attr('data-section-option')\n\n        if ($buttonClicked.hasClass('active')) {\n          return\n        }\n\n        $buttonClicked.siblings()\n          .removeClass('active')\n        $buttonClicked.addClass('active')\n\n        // Hide and show the relevant Bar Chart\n        jQ('canvas[id^=\\'v-chart-tree-blocks-\\']')\n          .hide()\n        jQ(`#v-chart-tree-blocks-${barchartTarget}`)\n          .show()\n\n        jQ('#order-by-active-label-print')\n          .html(`Order By: ${$buttonClicked.attr('aria-label')}`)\n\n        // Render any charts that haven't been rendered yet. Checks if data-generated==0 attribute.\n        app.chartJsHelper.createCharts()\n        jQ('#v-chart-tree-blocks-listing')\n          .removeClass('hidden')\n      })\n\n    jQ(parentElement)\n      .find('input[name=\"barchart-dataset-toggle\"]')\n      .on('click', (e) => {\n        const barchartDatasetTarget = jQ(e.currentTarget)\n          .attr('value')\n\n        // Note that the barchart-dataset-toggle Buttons are not specific to one Chart\n        const listingChart = app.chartJsHelper.chartObjects['v-chart-tree-blocks-listing']\n        const popularityChart = app.chartJsHelper.chartObjects['v-chart-tree-blocks-popularity']\n\n        const listingDatasets = listingChart.config.data.datasets\n        const popularityDatasets = popularityChart.config.data.datasets\n        const isEnteredSelected = barchartDatasetTarget == 'entered'\n        const isCompletedSelected = barchartDatasetTarget == 'completed'\n\n        if (isCompletedSelected) {\n          jQ('#tree-summary-barchart-title')\n            .html('Completed Interactions per Block')\n        } else {\n          jQ('#tree-summary-barchart-title')\n            .html('Entered Interactions per Block')\n        }\n\n        listingDatasets[0].hidden = isEnteredSelected\n        listingDatasets[1].hidden = isCompletedSelected\n        popularityDatasets[0].hidden = isEnteredSelected\n        popularityDatasets[1].hidden = isCompletedSelected\n\n        listingChart.update()\n        popularityChart.update()\n      })\n    jQ(parentElement)\n      .find('.result-view-section-button')\n      .on('click', (e) => {\n        const tabTarget = jQ(e.currentTarget)\n          .attr('data-section-option')\n        const tabLabel = jQ(e.currentTarget)\n          .text()\n\n        jQ(e.currentTarget)\n          .closest('.result-view-section-control-container')\n          .find('.sub-report-type-title')\n          .html(tabLabel == '╳'\n            ? 'Timeline: Total Interactions'\n            : `Timeline: ${tabLabel}`)\n\n        if (jQ(e.currentTarget)\n          .hasClass('active')) {\n          console.log(`Already on the ${tabLabel} section`)\n          return\n        }\n        jQ(e.currentTarget)\n          .siblings()\n          .removeClass('active')\n        jQ(e.currentTarget)\n          .addClass('active')\n\n        // Hide and show the relevant section\n        jQ(parentElement)\n          .find('.tree-results-item-tab-section')\n          .hide()\n        jQ(parentElement)\n          .find(`.tree-results-item-tab-section[data-section-id=${tabTarget}]`)\n          .show()\n\n        // Render any charts that haven't been rendered yet\n        app.chartJsHelper.createCharts()\n      })\n\n    jQ(parentElement)\n      .find('.result-normalize-cb')\n      .on('click', (e) => {\n        const chartTarget = jQ(e.currentTarget)\n          .attr('data-chart-type')\n        let doNormalize = 0\n        let targetElement\n\n        if (jQ(e.currentTarget)\n          .is(':checked')) {\n          doNormalize = 1\n        }\n\n        // Hide and show the relevant section\n        targetElement = jQ(parentElement)\n          .find(`canvas[data-chart-type=${chartTarget}]`)\n\n        // Set normalize to the new value, and set is-generated to 0, to queue up a re-rendering of the chart:\n        jQ(targetElement)\n          .attr('data-normalize', doNormalize)\n          .attr('data-generated', 0)\n\n        // Render any charts that haven't been rendered yet\n        app.chartJsHelper.createCharts()\n      })\n  }\n\n  app.combinedVersions = {}\n  app.combinedVersions.assignButtons = function () {\n    jQ('.tree-results-versions-select-button')\n      .on('click', (e) => {\n        // Make sure the element lines up underneath the \"Versions\" button\n        // This is a bit awkward, since we're right aligned and not in\n        // a position:absolute setting, so we'll actually add in the\n        // width of the (variable) daterangepicker to a fixed value:\n        const rightPosition = _.parseInt(jQ('#reportrange')\n          .width() + jQ('.tree-results-gear-menu')\n          .width() - jQ('.tree-results-versions-select-button')\n          .width() / 2) - 4\n        jQ('.tree-results-versions-selector')\n          .css({right: rightPosition})\n\n        jQ('.tree-results-versions-selector')\n          .toggle()\n\n        // Prevent clicks on the body element that would re-hide it.\n        e.stopPropagation()\n      })\n\n    jQ('.tree-results-versions-selector')\n      .on('click', (e) => {\n        // Prevent clicks on the body element that would re-hide it.\n        // This also protects clicks on the other elements within the dropdown.\n        e.stopPropagation()\n      })\n\n    jQ('.tree-results-versions-select-all-link')\n      .on('click', (e) => {\n        // jQ('.tree-results-versions-selector').toggle();\n        jQ('.tree-results-versions-selector input[type=checkbox]')\n          .prop('checked', true)\n          .trigger('change')\n      })\n    jQ('.tree-results-versions-select-none-link')\n      .on('click', (e) => {\n        // jQ('.tree-results-versions-selector').toggle();\n        jQ('.tree-results-versions-selector input[type=checkbox]')\n          .prop('checked', false)\n          .trigger('change')\n      })\n\n    jQ('.tree-results-versions-selector input[type=checkbox]')\n      .on('change', (e) => {\n        jQ('.tree-results-versions-apply-button')\n          .prop('disabled', false)\n      })\n\n    jQ('.tree-results-versions-apply-button')\n      .on('click', (e) => {\n        // Delete any existing version entries in the filter form, before adding the selected ones:\n        jQ('#filter-form input[name^=versions]')\n          .remove()\n\n        // With thanks to\n        // http://stackoverflow.com/questions/2530635/jquery-add-additional-parameters-on-submit-not-ajax#comment22923873_2531379\n        jQ('.tree-results-versions-selector input[type=checkbox]:checked')\n          .each(function () {\n            // return jQ(this).val()\n            const input = jQ('<input>', {\n              type: 'hidden',\n              name: 'versions[]',\n              value: jQ(this)\n                .val(),\n            })\n            jQ('#filter-form')\n              .append(jQ(input))\n          })\n\n        jQ('#filter-form')\n          .submit()\n      })\n\n    // If the selector is open, hide it by clicking on the open space,\n    // just like for dropdown menus.\n    jQ('body')\n      .on('click', (e) => {\n        jQ('.tree-results-versions-selector')\n          .hide()\n      })\n\n    jQ('.tree-results-versions-selector')\n      .hide()\n  }\n\n  app.combinedVersions = _.assign({}, app.combinedVersions, window.combinedVersions)\n}(window.jQuery))\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=7be6489a&prod&lang=scss&\"","/**\n * @license\n * =========================================================\n * bootstrap-datetimepicker.js \n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Contributions:\n *  - Andrew Rowls\n *  - Thiago de Arruda\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =========================================================\n */\n\n(function($) {\n\n  // Picker object\n  var smartPhone = (window.orientation != undefined);\n  var DateTimePicker = function(element, options) {\n    this.id = dpgId++;\n    this.init(element, options);\n  };\n\n  DateTimePicker.prototype = {\n    constructor: DateTimePicker,\n\n    init: function(element, options) {\n      var icon;\n      if (!(options.pickTime || options.pickDate))\n        throw new Error('Must choose at least one picker');\n      this.options = options;\n      this.$element = $(element);\n      this.language = options.language in dates ? options.language : 'en'\n      this.pickDate = options.pickDate;\n      this.pickTime = options.pickTime;\n      this.isInput = this.$element.is('input');\n      this.component = this.$element.is('.input-append') ? this.$element.find('.add-on') : false;\n      this.format = options.format;\n      if (!this.format) {\n        if (this.isInput) this.format = this.$element.data('format');\n        else this.format = this.$element.find('input').data('format');\n        if (!this.format) this.format = 'MM/dd/yyyy';\n      }\n      this._compileFormat();\n      if (this.component) {\n        icon = this.component.find('i');\n      }\n      if (this.pickTime) {\n        if (icon && icon.length) this.timeIcon = icon.data('time-icon');\n        if (!this.timeIcon) this.timeIcon = 'icon-time';\n        icon.addClass(this.timeIcon);\n      }\n      if (this.pickDate) {\n        if (icon && icon.length) this.dateIcon = icon.data('date-icon');\n        if (!this.dateIcon) this.dateIcon = 'icon-calendar';\n        icon.removeClass(this.timeIcon);\n        icon.addClass(this.dateIcon);\n      }\n      this.widget = $(getTemplate(this.timeIcon, options.pickDate, options.pickTime, options.pick12HourFormat)).appendTo('body');\n      this.minViewMode = options.minViewMode||this.$element.data('date-minviewmode')||0;\n      if (typeof this.minViewMode === 'string') {\n        switch (this.minViewMode) {\n          case 'months':\n            this.minViewMode = 1;\n          break;\n          case 'years':\n            this.minViewMode = 2;\n          break;\n          default:\n            this.minViewMode = 0;\n          break;\n        }\n      }\n      this.viewMode = options.viewMode||this.$element.data('date-viewmode')||0;\n      if (typeof this.viewMode === 'string') {\n        switch (this.viewMode) {\n          case 'months':\n            this.viewMode = 1;\n          break;\n          case 'years':\n            this.viewMode = 2;\n          break;\n          default:\n            this.viewMode = 0;\n          break;\n        }\n      }\n      this.startViewMode = this.viewMode;\n      this.weekStart = options.weekStart||this.$element.data('date-weekstart')||0;\n      this.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1;\n      this.fillDow();\n      this.fillMonths();\n      this.fillHours();\n      this.fillMinutes();\n      this.fillSeconds();\n      this.update();\n      this.showMode();\n      this._attachDatePickerEvents();\n    },\n\n    show: function(e) {\n      this.widget.show();\n      this.height = this.component ? this.component.outerHeight() : this.$element.outerHeight();\n      this.place();\n      this.$element.trigger({\n        type: 'show',\n        date: this._date\n      });\n      this._attachDatePickerGlobalEvents();\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    },\n\n    hide: function() {\n      // Ignore event if in the middle of a picker transition\n      var collapse = this.widget.find('.collapse')\n      for (var i = 0; i < collapse.length; i++) {\n        var collapseData = collapse.eq(i).data('collapse');\n        if (collapseData && collapseData.transitioning)\n          return;\n      }\n      this.widget.hide();\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      this.set();\n      this.$element.trigger({\n        type: 'hide',\n        date: this._date\n      });\n      this._detachDatePickerGlobalEvents();\n    },\n\n    set: function() {\n      var formatted = '';\n      if (!this._unset) formatted = this.formatDate(this._date);\n      if (!this.isInput) {\n        if (this.component){\n          var input = this.$element.find('input');\n          input.val(formatted);\n          this._resetMaskPos(input);\n        }\n        this.$element.data('date', formatted);\n      } else {\n        this.$element.val(formatted);\n        this._resetMaskPos(this.$element);\n      }\n    },\n\n    setValue: function(newDate) {\n      if (!newDate) {\n        this._unset = true;\n      } else {\n        this._unset = false;\n      }\n      if (typeof newDate === 'string') {\n        this._date = this.parseDate(newDate);\n      } else {\n        this._date = new Date(newDate);\n      }\n      this.set();\n      this.viewDate = UTCDate(this._date.getUTCFullYear(), this._date.getUTCMonth(), 1, 0, 0, 0, 0);\n      this.fillDate();\n      this.fillTime();\n    },\n\n    getDate: function() {\n      if (this._unset) return null;\n      return new Date(this._date.valueOf());\n    },\n\n    setDate: function(date) {\n      if (!date) this.setValue(null);\n      else this.setValue(date.valueOf());\n    },\n\n    getLocalDate: function() {\n      if (this._unset) return null;\n      var d = this._date;\n      return new Date(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate(),\n                      d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds());\n    },\n\n    setLocalDate: function(localDate) {\n      if (!localDate) this.setValue(null);\n      else\n        this.setValue(Date.UTC(\n          localDate.getFullYear(),\n          localDate.getMonth(),\n          localDate.getDate(),\n          localDate.getHours(),\n          localDate.getMinutes(),\n          localDate.getSeconds(),\n          localDate.getMilliseconds()));\n    },\n\n    place: function(){\n      var offset = this.component ? this.component.offset() : this.$element.offset();\n      this.widget.css({\n        top: offset.top + this.height,\n        left: offset.left\n      });\n    },\n\n    notifyChange: function(){\n      this.$element.trigger({\n        type: 'changeDate',\n        date: this.getDate(),\n        localDate: this.getLocalDate()\n      });\n    },\n\n    update: function(newDate){\n      var dateStr = newDate;\n      if (!dateStr) {\n        if (this.isInput) {\n          dateStr = this.$element.val();\n        } else {\n          dateStr = this.$element.find('input').val();\n        }\n        if (!dateStr) {\n          var tmp = new Date()\n          this._date = UTCDate(tmp.getFullYear(),\n                              tmp.getMonth(),\n                              tmp.getDate(),\n                              tmp.getHours(),\n                              tmp.getMinutes(),\n                              tmp.getSeconds(),\n                              tmp.getMilliseconds())\n        } else {\n          this._date = this.parseDate(dateStr);\n        }\n      }\n      this.viewDate = UTCDate(this._date.getUTCFullYear(), this._date.getUTCMonth(), 1, 0, 0, 0, 0);\n      this.fillDate();\n      this.fillTime();\n    },\n\n    fillDow: function() {\n      var dowCnt = this.weekStart;\n      var html = '<tr>';\n      while (dowCnt < this.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\n      }\n      html += '</tr>';\n      this.widget.find('.datepicker-days thead').append(html);\n    },\n\n    fillMonths: function() {\n      var html = '';\n      var i = 0\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\n      }\n      this.widget.find('.datepicker-months td').append(html);\n    },\n\n    fillDate: function() {\n      var year = this.viewDate.getUTCFullYear();\n      var month = this.viewDate.getUTCMonth();\n      var currentDate = UTCDate(\n        this._date.getUTCFullYear(),\n        this._date.getUTCMonth(),\n        this._date.getUTCDate(),\n        0, 0, 0, 0\n      );\n      this.widget.find('.datepicker-days th:eq(1)').text(\n        dates[this.language].months[month] + ' ' + year);\n      var prevMonth = UTCDate(year, month-1, 28, 0, 0, 0, 0);\n      var day = DPGlobal.getDaysInMonth(\n        prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth.valueOf());\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() === this.weekStart) {\n          html.push('<tr>');\n        }\n        clsName = '';\n        if (prevMonth.getUTCFullYear() < year ||\n            (prevMonth.getUTCFullYear() == year &&\n             prevMonth.getUTCMonth() < month)) {\n          clsName += ' old';\n        } else if (prevMonth.getUTCFullYear() > year ||\n                   (prevMonth.getUTCFullYear() == year &&\n                    prevMonth.getUTCMonth() > month)) {\n          clsName += ' new';\n        }\n        if (prevMonth.valueOf() === currentDate.valueOf()) {\n          clsName += ' active';\n        }\n        html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\n        if (prevMonth.getUTCDay() === this.weekEnd) {\n          html.push('</tr>');\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.widget.find('.datepicker-days tbody').empty().append(html.join(''));\n      var currentYear = this._date.getUTCFullYear();\n\n      var months = this.widget.find('.datepicker-months').find(\n        'th:eq(1)').text(year).end().find('span').removeClass('active');\n      if (currentYear === year) {\n        months.eq(this._date.getUTCMonth()).addClass('active');\n      }\n\n      html = '';\n      year = parseInt(year/10, 10) * 10;\n      var yearCont = this.widget.find('.datepicker-years').find(\n        'th:eq(1)').text(year + '-' + (year + 9)).end().find('td');\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += '<span class=\"year' + (i === -1 || i === 10 ? ' old' : '') + (currentYear === year ? ' active' : '') + '\">' + year + '</span>';\n        year += 1;\n      }\n      yearCont.html(html);\n    },\n\n    fillHours: function() {\n      var table = this.widget.find(\n        '.timepicker .timepicker-hours table');\n      table.parent().hide();\n      var html = '';\n      if (this.options.pick12HourFormat) {\n        var current = 1;\n        for (var i = 0; i < 3; i += 1) {\n          html += '<tr>';\n          for (var j = 0; j < 4; j += 1) {\n             var c = current.toString();\n             html += '<td class=\"hour\">' + padLeft(c, 2, '0') + '</td>';\n             current++;\n          }\n          html += '</tr>'\n        }\n      } else {\n        var current = 0;\n        for (var i = 0; i < 6; i += 1) {\n          html += '<tr>';\n          for (var j = 0; j < 4; j += 1) {\n             var c = current.toString();\n             html += '<td class=\"hour\">' + padLeft(c, 2, '0') + '</td>';\n             current++;\n          }\n          html += '</tr>'\n        }\n      }\n      table.html(html);\n    },\n\n    fillMinutes: function() {\n      var table = this.widget.find(\n        '.timepicker .timepicker-minutes table');\n      table.parent().hide();\n      var html = '';\n      var current = 0;\n      for (var i = 0; i < 5; i++) {\n        html += '<tr>';\n        for (var j = 0; j < 4; j += 1) {\n          var c = current.toString();\n          html += '<td class=\"minute\">' + padLeft(c, 2, '0') + '</td>';\n          current += 3;\n        }\n        html += '</tr>';\n      }\n      table.html(html);\n    },\n\n    fillSeconds: function() {\n      var table = this.widget.find(\n        '.timepicker .timepicker-seconds table');\n      table.parent().hide();\n      var html = '';\n      var current = 0;\n      for (var i = 0; i < 5; i++) {\n        html += '<tr>';\n        for (var j = 0; j < 4; j += 1) {\n          var c = current.toString();\n          html += '<td class=\"second\">' + padLeft(c, 2, '0') + '</td>';\n          current += 3;\n        }\n        html += '</tr>';\n      }\n      table.html(html);\n    },\n\n    fillTime: function() {\n      if (!this._date)\n        return;\n      var timeComponents = this.widget.find('.timepicker span[data-time-component]');\n      var table = timeComponents.closest('table');\n      var is12HourFormat = this.options.pick12HourFormat;\n      var hour = this._date.getUTCHours();\n      var period = 'AM';\n      if (is12HourFormat) {\n        if (hour >= 12) period = 'PM';\n        if (hour === 0) hour = 12;\n        else if (hour != 12) hour = hour % 12;\n        this.widget.find(\n          '.timepicker [data-action=togglePeriod]').text(period);\n      }\n      hour = padLeft(hour.toString(), 2, '0');\n      var minute = padLeft(this._date.getUTCMinutes().toString(), 2, '0');\n      var second = padLeft(this._date.getUTCSeconds().toString(), 2, '0');\n      timeComponents.filter('[data-time-component=hours]').text(hour);\n      timeComponents.filter('[data-time-component=minutes]').text(minute);\n      timeComponents.filter('[data-time-component=seconds]').text(second);\n    },\n\n    click: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th');\n      if (target.length === 1) {\n        switch(target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch(target[0].className) {\n              case 'switch':\n                this.showMode(1);\n                break;\n              case 'prev':\n              case 'next':\n                var vd = this.viewDate;\n                var navFnc = DPGlobal.modes[this.viewMode].navFnc;\n                var step = DPGlobal.modes[this.viewMode].navStep;\n                if (target[0].className === 'prev') step = step * -1;\n                vd['set' + navFnc](vd['get' + navFnc]() + step);\n                this.fillDate();\n                this.set();\n                break;\n            }\n            break;\n          case 'span':\n            if (target.is('.month')) {\n              var month = target.parent().find('span').index(target);\n              this.viewDate.setUTCMonth(month);\n            } else {\n              var year = parseInt(target.text(), 10) || 0;\n              this.viewDate.setUTCFullYear(year);\n            }\n            if (this.viewMode !== 0) {\n              this._date = UTCDate(\n                this.viewDate.getUTCFullYear(),\n                this.viewDate.getUTCMonth(),\n                this.viewDate.getUTCDate(),\n                this._date.getUTCHours(),\n                this._date.getUTCMinutes(),\n                this._date.getUTCSeconds(),\n                this._date.getUTCMilliseconds()\n              );\n              this.notifyChange();\n            }\n            this.showMode(-1);\n            this.fillDate();\n            this.set();\n            break;\n          case 'td':\n            if (target.is('.day')) {\n              var day = parseInt(target.text(), 10) || 1;\n              var month = this.viewDate.getUTCMonth();\n              var year = this.viewDate.getUTCFullYear();\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n              this._date = UTCDate(\n                year, month, day,\n                this._date.getUTCHours(),\n                this._date.getUTCMinutes(),\n                this._date.getUTCSeconds(),\n                this._date.getUTCMilliseconds()\n              );\n              this.viewDate = UTCDate(\n                year, month, Math.min(28, day) , 0, 0, 0, 0);\n              this.fillDate();\n              this.set();\n              this.notifyChange();\n            }\n            break;\n        }\n      }\n    },\n\n    actions: {\n      incrementHours: function(e) {\n        this._date.setUTCHours(this._date.getUTCHours() + 1);\n      },\n\n      incrementMinutes: function(e) {\n        this._date.setUTCMinutes(this._date.getUTCMinutes() + 1);\n      },\n\n      incrementSeconds: function(e) {\n        this._date.setUTCSeconds(this._date.getUTCSeconds() + 1);\n      },\n\n      decrementHours: function(e) {\n        this._date.setUTCHours(this._date.getUTCHours() - 1);\n      },\n\n      decrementMinutes: function(e) {\n        this._date.setUTCMinutes(this._date.getUTCMinutes() - 1);\n      },\n\n      decrementSeconds: function(e) {\n        this._date.setUTCSeconds(this._date.getUTCSeconds() - 1);\n      },\n\n      togglePeriod: function(e) {\n        var hour = this._date.getUTCHours();\n        if (hour >= 12) hour -= 12;\n        else hour += 12;\n        this._date.setUTCHours(hour);\n      },\n\n      showPicker: function() {\n        this.widget.find('.timepicker > div:not(.timepicker-picker)').hide();\n        this.widget.find('.timepicker .timepicker-picker').show();\n      },\n\n      showHours: function() {\n        this.widget.find('.timepicker .timepicker-picker').hide();\n        this.widget.find('.timepicker .timepicker-hours').show();\n      },\n\n      showMinutes: function() {\n        this.widget.find('.timepicker .timepicker-picker').hide();\n        this.widget.find('.timepicker .timepicker-minutes').show();\n      },\n\n      showSeconds: function() {\n        this.widget.find('.timepicker .timepicker-picker').hide();\n        this.widget.find('.timepicker .timepicker-seconds').show();\n      },\n\n      selectHour: function(e) {\n        var tgt = $(e.target);\n        var value = parseInt(tgt.text(), 10);\n        if (this.options.pick12HourFormat) {\n          var current = this._date.getUTCHours();\n          if (current >= 12) {\n            if (value != 12) value = (value + 12) % 24;\n          } else {\n            if (value === 12) value = 0;\n            else value = value % 12;\n          }\n        } \n        this._date.setUTCHours(value);\n        this.actions.showPicker.call(this);\n      },\n\n      selectMinute: function(e) {\n        var tgt = $(e.target);\n        var value = parseInt(tgt.text(), 10);\n        this._date.setUTCMinutes(value);\n        this.actions.showPicker.call(this);\n      },\n\n      selectSecond: function(e) {\n        var tgt = $(e.target);\n        var value = parseInt(tgt.text(), 10);\n        this._date.setUTCSeconds(value);\n        this.actions.showPicker.call(this);\n      }\n    },\n\n    doAction: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!this._date) this._date = UTCDate(1970, 0, 0, 0, 0, 0, 0);\n      var action = $(e.currentTarget).data('action');\n      var rv = this.actions[action].apply(this, arguments);\n      this.set();\n      this.fillTime();\n      this.notifyChange();\n      return rv;\n    },\n\n    stopEvent: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n\n    // part of the following code was taken from\n    // http://cloud.github.com/downloads/digitalBush/jquery.maskedinput/jquery.maskedinput-1.3.js\n    keydown: function(e) {\n      var self = this, k = e.which, input = $(e.target);\n      if (k == 8 || k == 46) {\n        // backspace and delete cause the maskPosition\n        // to be recalculated\n        setTimeout(function() {\n          self._resetMaskPos(input);\n        });\n      }\n    },\n\n    keypress: function(e) {\n      var k = e.which;\n      if (k == 8 || k == 46) {\n        // For those browsers which will trigger\n        // keypress on backspace/delete\n        return;\n      }\n      var input = $(e.target);\n      var c = String.fromCharCode(k);\n      var val = input.val() || '';\n      val += c;\n      var mask = this._mask[this._maskPos];\n      if (!mask) {\n        return false;\n      }\n      if (mask.end != val.length) {\n        return;\n      }\n      if (!mask.pattern.test(val.slice(mask.start))) {\n        val = val.slice(0, val.length - 1);\n        while ((mask = this._mask[this._maskPos]) && mask.character) {\n          val += mask.character;\n          // advance mask position past static\n          // part\n          this._maskPos++;\n        }\n        val += c;\n        if (mask.end != val.length) {\n          input.val(val);\n          return false;\n        } else {\n          if (!mask.pattern.test(val.slice(mask.start))) {\n            input.val(val.slice(0, mask.start));\n            return false;\n          } else {\n            input.val(val);\n            this._maskPos++;\n            return false;\n          }\n        }\n      } else {\n        this._maskPos++;\n      }\n    },\n\n    change: function(e) {\n      var input = $(e.target);\n      var val = input.val();\n      if (this._formatPattern.test(val)) {\n        this.update();\n        this.setValue(this._date.getTime());\n        this.notifyChange();\n        this.set();\n      } else if (val && val.trim()) {\n        this.setValue(this._date.getTime());\n        if (this._date) this.set();\n        else input.val('');\n      } else {\n        if (this._date) {\n          this.setValue(null);\n          // unset the date when the input is\n          // erased\n          this.notifyChange();\n        }\n      }\n      this._resetMaskPos(input);\n    },\n\n    showMode: function(dir) {\n      if (dir) {\n        this.viewMode = Math.max(this.minViewMode, Math.min(\n          2, this.viewMode + dir));\n      }\n      this.widget.find('.datepicker > div').hide().filter(\n        '.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n    },\n\n    destroy: function() {\n      this._detachDatePickerEvents();\n      this._detachDatePickerGlobalEvents();\n      this.widget.remove();\n      this.$element.removeData('datetimepicker');\n      this.component.removeData('datetimepicker');\n    },\n\n    formatDate: function(d) {\n      return this.format.replace(formatReplacer, function(match) {\n        var methodName, property, rv, len = match.length;\n        if (match === 'ms')\n          len = 1;\n        property = dateFormatComponents[match].property\n        if (property === 'Hours12') {\n          rv = d.getUTCHours();\n          if (rv === 0) rv = 12;\n          else if (rv !== 12) rv = rv % 12;\n        } else if (property === 'Period12') {\n          if (d.getUTCHours() >= 12) return 'PM';\n          else return 'AM';\n        } else {\n          methodName = 'get' + property;\n          rv = d[methodName]();\n        }\n        if (methodName === 'getUTCMonth') rv = rv + 1;\n        if (methodName === 'getUTCYear') rv = rv + 1900 - 2000;\n        return padLeft(rv.toString(), len, '0');\n      });\n    },\n\n    parseDate: function(str) {\n      var match, i, property, methodName, value, parsed = {};\n      if (!(match = this._formatPattern.exec(str)))\n        return null;\n      for (i = 1; i < match.length; i++) {\n        property = this._propertiesByIndex[i];\n        if (!property)\n          continue;\n        value = match[i];\n        if (/^\\d+$/.test(value))\n          value = parseInt(value, 10);\n        parsed[property] = value;\n      }\n      return this._finishParsingDate(parsed);\n    },\n\n    _resetMaskPos: function(input) {\n      var val = input.val();\n      for (var i = 0; i < this._mask.length; i++) {\n        if (this._mask[i].end > val.length) {\n          // If the mask has ended then jump to\n          // the next\n          this._maskPos = i;\n          break;\n        } else if (this._mask[i].end === val.length) {\n          this._maskPos = i + 1;\n          break;\n        }\n      }\n    },\n\n    _finishParsingDate: function(parsed) {\n      var year, month, date, hours, minutes, seconds, milliseconds;\n      year = parsed.UTCFullYear;\n      if (parsed.UTCYear) year = 2000 + parsed.UTCYear;\n      if (!year) year = 1970;\n      if (parsed.UTCMonth) month = parsed.UTCMonth - 1;\n      else month = 0;\n      date = parsed.UTCDate || 1;\n      hours = parsed.UTCHours || 0;\n      minutes = parsed.UTCMinutes || 0;\n      seconds = parsed.UTCSeconds || 0;\n      milliseconds = parsed.UTCMilliseconds || 0;\n      if (parsed.Hours12) {\n        hours = parsed.Hours12;\n      }\n      if (parsed.Period12) {\n        if (/pm/i.test(parsed.Period12)) {\n          if (hours != 12) hours = (hours + 12) % 24;\n        } else {\n          hours = hours % 12;\n        }\n      }\n      return UTCDate(year, month, date, hours, minutes, seconds, milliseconds);\n    },\n\n    _compileFormat: function () {\n      var match, component, components = [], mask = [],\n      str = this.format, propertiesByIndex = {}, i = 0, pos = 0;\n      while (match = formatComponent.exec(str)) {\n        component = match[0];\n        if (component in dateFormatComponents) {\n          i++;\n          propertiesByIndex[i] = dateFormatComponents[component].property;\n          components.push('\\\\s*' + dateFormatComponents[component].getPattern(\n            this) + '\\\\s*');\n          mask.push({\n            pattern: new RegExp(dateFormatComponents[component].getPattern(\n              this)),\n            property: dateFormatComponents[component].property,\n            start: pos,\n            end: pos += component.length\n          });\n        }\n        else {\n          components.push(escapeRegExp(component));\n          mask.push({\n            pattern: new RegExp(escapeRegExp(component)),\n            character: component,\n            start: pos,\n            end: ++pos\n          });\n        }\n        str = str.slice(component.length);\n      }\n      this._mask = mask;\n      this._maskPos = 0;\n      this._formatPattern = new RegExp(\n        '^\\\\s*' + components.join('') + '\\\\s*$');\n      this._propertiesByIndex = propertiesByIndex;\n    },\n\n    _attachDatePickerEvents: function() {\n      var self = this;\n      // this handles date picker clicks\n      this.widget.on('click', '.datepicker *', $.proxy(this.click, this));\n      // this handles time picker clicks\n      this.widget.on('click', '[data-action]', $.proxy(this.doAction, this));\n      this.widget.on('mousedown', $.proxy(this.stopEvent, this));\n      if (this.pickDate && this.pickTime) {\n        this.widget.on('click.togglePicker', '.accordion-toggle', function(e) {\n          e.stopPropagation();\n          var $this = $(this);\n          var $parent = $this.closest('ul');\n          var expanded = $parent.find('.collapse.in');\n          var closed = $parent.find('.collapse:not(.in)');\n\n          if (expanded && expanded.length) {\n            var collapseData = expanded.data('collapse');\n            if (collapseData && collapseData.transitioning) return;\n            expanded.collapse('hide');\n            closed.collapse('show')\n            $this.find('i').toggleClass(self.timeIcon + ' ' + self.dateIcon);\n            self.$element.find('.add-on i').toggleClass(self.timeIcon + ' ' + self.dateIcon);\n          }\n        });\n      }\n      if (this.isInput) {\n        this.$element.on({\n          'focus': $.proxy(this.show, this),\n          'change': $.proxy(this.change, this),\n        });\n        if (this.options.maskInput) {\n          this.$element.on({\n            'keydown': $.proxy(this.keydown, this),\n            'keypress': $.proxy(this.keypress, this)\n          });\n        }\n      } else {\n        this.$element.on({\n          'change': $.proxy(this.change, this),\n        }, 'input');\n        if (this.options.maskInput) {\n          this.$element.on({\n            'keydown': $.proxy(this.keydown, this),\n            'keypress': $.proxy(this.keypress, this)\n          }, 'input');\n        }\n        if (this.component){\n          this.component.on('click', $.proxy(this.show, this));\n        } else {\n          this.$element.on('click', $.proxy(this.show, this));\n        }\n      }\n    },\n\n    _attachDatePickerGlobalEvents: function() {\n      $(window).on(\n        'resize.datetimepicker' + this.id, $.proxy(this.place, this));\n      if (!this.isInput) {\n        $(document).on(\n          'mousedown.datetimepicker' + this.id, $.proxy(this.hide, this));\n      }\n    },\n\n    _detachDatePickerEvents: function() {\n      this.widget.off('click', '.datepicker *', this.click);\n      this.widget.off('click', '[data-action]');\n      this.widget.off('mousedown', this.stopEvent);\n      if (this.pickDate && this.pickTime) {\n        this.widget.off('click.togglePicker');\n      }\n      if (this.isInput) {\n        this.$element.off({\n          'focus': this.show,\n          'change': this.change,\n        });\n        if (this.options.maskInput) {\n          this.$element.off({\n            'keydown': this.keydown,\n            'keypress': this.keypress\n          });\n        }\n      } else {\n        this.$element.off({\n          'change': this.change,\n        }, 'input');\n        if (this.options.maskInput) {\n          this.$element.off({\n            'keydown': this.keydown,\n            'keypress': this.keypress\n          }, 'input');\n        }\n        if (this.component){\n          this.component.off('click', this.show);\n        } else {\n          this.$element.off('click', this.show);\n        }\n      }\n    },\n\n    _detachDatePickerGlobalEvents: function () {\n      $(window).off('resize.datetimepicker' + this.id);\n      if (!this.isInput) {\n        $(document).off('mousedown.datetimepicker' + this.id);\n      }\n    }\n  };\n\n  $.fn.datetimepicker = function ( option, val ) {\n    return this.each(function () {\n      var $this = $(this),\n      data = $this.data('datetimepicker'),\n      options = typeof option === 'object' && option;\n      if (!data) {\n        $this.data('datetimepicker', (data = new DateTimePicker(\n          this, $.extend({}, $.fn.datetimepicker.defaults,options))));\n      }\n      if (typeof option === 'string') data[option](val);\n    });\n  };\n\n  $.fn.datetimepicker.defaults = {\n    maskInput: true,\n    pickDate: true,\n    pickTime: true,\n    pick12HourFormat: false\n  };\n  $.fn.datetimepicker.Constructor = DateTimePicker;\n  var dpgId = 0;\n  var dates = $.fn.datetimepicker.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\n        \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\",\n        \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n    }\n  };\n\n  var dateFormatComponents = {\n    dd: {property: 'UTCDate', getPattern: function() { return '(0?[1-9]|[1-2][0-9]|3[0-1])\\\\b';}},\n    MM: {property: 'UTCMonth', getPattern: function() {return '(0?[1-9]|1[0-2])\\\\b';}},\n    yy: {property: 'UTCYear', getPattern: function() {return '(\\\\d{2})\\\\b'}},\n    yyyy: {property: 'UTCFullYear', getPattern: function() {return '(\\\\d{4})\\\\b';}},\n    hh: {property: 'UTCHours', getPattern: function() {return '(0?[0-9]|1[0-9]|2[0-3])\\\\b';}},\n    mm: {property: 'UTCMinutes', getPattern: function() {return '(0?[0-9]|[1-5][0-9])\\\\b';}},\n    ss: {property: 'UTCSeconds', getPattern: function() {return '(0?[0-9]|[1-5][0-9])\\\\b';}},\n    ms: {property: 'UTCMilliseconds', getPattern: function() {return '([0-9]{1,3})\\\\b';}},\n    HH: {property: 'Hours12', getPattern: function() {return '(0?[1-9]|1[0-2])\\\\b';}},\n    PP: {property: 'Period12', getPattern: function() {return '(AM|PM|am|pm|Am|aM|Pm|pM)\\\\b';}}\n  };\n\n  var keys = [];\n  for (var k in dateFormatComponents) keys.push(k);\n  keys[keys.length - 1] += '\\\\b';\n  keys.push('.');\n\n  var formatComponent = new RegExp(keys.join('\\\\b|'));\n  keys.pop();\n  var formatReplacer = new RegExp(keys.join('\\\\b|'), 'g');\n\n  function escapeRegExp(str) {\n    // http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n  }\n\n  function padLeft(s, l, c) {\n    if (l < s.length) return s;\n    else return Array(l - s.length + 1).join(c || ' ') + s;\n  }\n\n  function getTemplate(timeIcon, pickDate, pickTime, is12Hours) {\n    if (pickDate && pickTime) {\n      return (\n        '<div class=\"bootstrap-datetimepicker-widget dropdown-menu\">' +\n          '<ul>' +\n            '<li class=\"collapse in\">' +\n              '<div class=\"datepicker\">' +\n                DPGlobal.template +\n              '</div>' +\n            '</li>' +\n            '<li class=\"picker-switch\"><a class=\"accordion-toggle\"><i class=\"' + timeIcon + '\"></i></a></li>' +\n            '<li class=\"collapse\">' +\n              '<div class=\"timepicker\">' +\n                TPGlobal.getTemplate(is12Hours) +\n              '</div>' +\n            '</li>' +\n          '</ul>' +\n        '</div>'\n      );\n    } else if (pickTime) {\n      return (\n        '<div class=\"bootstrap-datetimepicker-widget dropdown-menu\">' +\n          '<div class=\"timepicker\">' +\n            TPGlobal.getTemplate(is12Hours) +\n          '</div>' +\n        '</div>'\n      );\n    } else {\n      return (\n        '<div class=\"bootstrap-datetimepicker-widget dropdown-menu\">' +\n          '<div class=\"datepicker\">' +\n            DPGlobal.template +\n          '</div>' +\n        '</div>'\n      );\n    }\n  }\n\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  var DPGlobal = {\n    modes: [\n      {\n      clsName: 'days',\n      navFnc: 'UTCMonth',\n      navStep: 1\n    },\n    {\n      clsName: 'months',\n      navFnc: 'UTCFullYear',\n      navStep: 1\n    },\n    {\n      clsName: 'years',\n      navFnc: 'UTCFullYear',\n      navStep: 10\n    }],\n    isLeapYear: function (year) {\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n    },\n    getDaysInMonth: function (year, month) {\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n    },\n    headTemplate: \n      '<thead>' +\n        '<tr>' +\n          '<th class=\"prev\">&lsaquo;</th>' +\n          '<th colspan=\"5\" class=\"switch\"></th>' +\n          '<th class=\"next\">&rsaquo;</th>' +\n        '</tr>' +\n      '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>'\n  };\n  DPGlobal.template =\n    '<div class=\"datepicker-days\">' +\n      '<table class=\"table-condensed\">' +\n        DPGlobal.headTemplate +\n        '<tbody></tbody>' +\n      '</table>' +\n    '</div>' +\n    '<div class=\"datepicker-months\">' +\n      '<table class=\"table-condensed\">' +\n        DPGlobal.headTemplate +\n        DPGlobal.contTemplate+\n      '</table>'+\n    '</div>'+\n    '<div class=\"datepicker-years\">'+\n      '<table class=\"table-condensed\">'+\n        DPGlobal.headTemplate+\n        DPGlobal.contTemplate+\n      '</table>'+\n    '</div>';\n  var TPGlobal = {\n    hourTemplate: '<span data-action=\"showHours\" data-time-component=\"hours\" class=\"timepicker-hour\"></span>',\n    minuteTemplate: '<span data-action=\"showMinutes\" data-time-component=\"minutes\" class=\"timepicker-minute\"></span>',\n    secondTemplate: '<span data-action=\"showSeconds\" data-time-component=\"seconds\" class=\"timepicker-second\"></span>',\n  };\n  TPGlobal.getTemplate = function(is12Hours) {\n    return (\n    '<div class=\"timepicker-picker\">' +\n      '<table class=\"table-condensed\"' +\n        (is12Hours ? ' data-hour-format=\"12\"' : '') +\n        '>' +\n        '<tr>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"incrementHours\"><i class=\"icon-chevron-up\"></i></a></td>' +\n          '<td class=\"separator\"></td>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"incrementMinutes\"><i class=\"icon-chevron-up\"></i></a></td>' +\n          '<td class=\"separator\"></td>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"incrementSeconds\"><i class=\"icon-chevron-up\"></i></a></td>' +\n          (is12Hours ? '<td class=\"separator\"></td>' : '') +\n        '</tr>' +\n        '<tr>' +\n          '<td>' + TPGlobal.hourTemplate + '</td> ' +\n          '<td class=\"separator\">:</td>' +\n          '<td>' + TPGlobal.minuteTemplate + '</td> ' +\n          '<td class=\"separator\">:</td>' +\n          '<td>' + TPGlobal.secondTemplate + '</td>' +\n          (is12Hours ?\n          '<td class=\"separator\"></td>' +\n          '<td>' +\n          '<button type=\"button\" class=\"btn btn-primary\" data-action=\"togglePeriod\"></button>' +\n          '</td>' : '') +\n        '</tr>' +\n        '<tr>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"decrementHours\"><i class=\"icon-chevron-down\"></i></a></td>' +\n          '<td class=\"separator\"></td>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"decrementMinutes\"><i class=\"icon-chevron-down\"></i></a></td>' +\n          '<td class=\"separator\"></td>' +\n          '<td><a href=\"#\" class=\"btn\" data-action=\"decrementSeconds\"><i class=\"icon-chevron-down\"></i></a></td>' +\n          (is12Hours ? '<td class=\"separator\"></td>' : '') +\n        '</tr>' +\n      '</table>' +\n    '</div>' +\n    '<div class=\"timepicker-hours\" data-action=\"selectHour\">' +\n      '<table class=\"table-condensed\">' +\n      '</table>'+\n    '</div>'+\n    '<div class=\"timepicker-minutes\" data-action=\"selectMinute\">' +\n      '<table class=\"table-condensed\">' +\n      '</table>'+\n    '</div>'+\n    '<div class=\"timepicker-seconds\" data-action=\"selectSecond\">' +\n      '<table class=\"table-condensed\">' +\n      '</table>'+\n    '</div>'\n    );\n  }\n\n\n})(window.jQuery)\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"new-flow\"},[(_vm.activeFlow)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 m-2\"},[_c('div',{staticClass:\"card w-100 pb-3 bg-light\"},[_c('div',{staticClass:\"card-body\"},[(_vm.flowError)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")(_vm.flowError))+\" \")]):_vm._e(),_c('flow-editor',{attrs:{\"flow\":_vm.activeFlow,\"flow-header\":_vm.createFlowTitle,\"did-user-submit\":_vm.didUserSubmit,\"is-on-small-container\":false}}),_c('div',{staticClass:\"float-right\"},[_c('router-link',{staticClass:\"btn btn-outline-secondary mr-2\",attrs:{\"to\":_vm.route('flows.cancelCreate')}},[_vm._v(\" \"+_vm._s(_vm.trans('flow-builder.cancel'))+\" \")]),_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":_vm.route('flows.editFlow', {flowId: _vm.activeFlow.uuid, component: 'builder', mode: 'edit'}),\"data-cy\":\"create--btn\"},on:{\"click\":function($event){$event.preventDefault();_vm.handlePersistFlow(_vm.route('flows.editFlow', {flowId: _vm.activeFlow.uuid, component: 'builder', mode: 'edit'}))}}},[_vm._v(\" \"+_vm._s(_vm._f(\"trans\")('flow-builder.create'))+\" \")])],1)],1)])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Lang from '@/lib/filters/lang'\nimport Routes from '@/lib/mixins/Routes'\nimport {Component, Prop, Watch} from 'vue-property-decorator'\nimport Vue from 'vue'\nimport {Getter, Mutation, namespace, State} from 'vuex-class'\nimport {forEach, isEmpty} from 'lodash'\nimport {mixins} from 'vue-class-component'\nimport {store} from '@/store'\nimport {IContext, IFlow} from '@floip/flow-runner'\nimport {RawLocation} from 'vue-router'\nimport {IValidationStatus} from '@/store/validation'\n\nconst flowVuexNamespace = namespace('flow')\nconst validationVuexNamespace = namespace('validation')\n\n@Component({})\nclass NewFlow extends mixins(Lang, Routes) {\n  @Prop({default: () => ({})}) readonly appConfig!: object\n  @Prop({default: () => ({})}) readonly builderConfig!: object\n\n  didUserSubmit = false\n\n  @Watch('activeFlow', {deep: true, immediate: true})\n  async onActiveFlowChanged(newFlow: IFlow): Promise<void> {\n    if (Boolean(newFlow) === true) {\n      console.debug('watch/activeFlow:', 'active flow has changed from new flow flow page, validating ...')\n      await this.validate_flow({flow: newFlow})\n    }\n  }\n\n  get createFlowTitle(): string {\n    if (this.hasCreateFlowTitle) {\n      return 'flow-builder.create-flow'\n    }\n    return ''\n  }\n\n  async mounted(): Promise<void> {\n    await this.flow_addBlankFlow()\n  }\n\n  async beforeCreate(): Promise<void> {\n    const {$store} = this\n\n    forEach(store.modules, (v, k) => !$store.hasModule(k) && $store.registerModule(k, v))\n  }\n\n  async created(): Promise<void> {\n    if ((!isEmpty(this.appConfig) && !isEmpty(this.builderConfig)) || !this.isConfigured) {\n      this.configure({appConfig: this.appConfig, builderConfig: this.builderConfig})\n    }\n  }\n\n  async handlePersistFlow(route: RawLocation): Promise<void> {\n    this.didUserSubmit = true\n    if (!this.isActiveFlowConsideredValidOnCreationForm) {\n      return\n    }\n\n    this.flowError = null\n    const flowContainer = await this.flow_persist({\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore TODO: Would need to switch mixins to class components to fix this - https://class-component.vuejs.org/guide/extend-and-mixins.html#mixins\n      persistRoute: this.route('flows.persistFlow', {}),\n      flowContainer: this.activeFlowContainer,\n    })\n    if (flowContainer) {\n      await this.$router.push(route)\n    } else {\n      this.flowError = 'flow-builder.problem-creating-flow'\n      //TODO - hook into validation system when we have it.\n    }\n  }\n\n  flowError: string | null = null\n\n  @State(({trees: {ui}}) => ui) ui!: any\n\n  @Getter hasCreateFlowTitle!: boolean\n\n  @flowVuexNamespace.Action flow_addBlankFlow!: () => Promise<IFlow>\n  @flowVuexNamespace.Action flow_persist!: ({\n    persistRoute,\n    flowContainer,\n  }: { persistRoute: any, flowContainer: IContext }) => Promise<IContext | null>\n  @flowVuexNamespace.Getter activeFlow!: IFlow\n  @flowVuexNamespace.Getter isActiveFlowConsideredValidOnCreationForm?: boolean\n  @flowVuexNamespace.Getter activeFlowContainer!: IContext\n  @Mutation configure!: ({appConfig, builderConfig}: { appConfig: object, builderConfig: object }) => void\n  @Getter isConfigured!: boolean\n\n  @validationVuexNamespace.Action validate_flow!: ({flow}: { flow: IFlow }) => Promise<IValidationStatus>\n}\n\nexport default NewFlow\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NewFlow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./NewFlow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NewFlow.vue?vue&type=template&id=94f10110&\"\nimport script from \"./NewFlow.vue?vue&type=script&lang=ts&\"\nexport * from \"./NewFlow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockActionButtons.vue?vue&type=style&index=0&id=0f4e7d5a&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.activeFlow)?_c('div',{ref:\"interaction-designer-contents\",staticClass:\"interaction-designer interaction-designer-contents\"},[_c('header',{ref:\"interaction-designer-header\",staticClass:\"interaction-designer-header\"},[_vm._t(\"toolbar\",function(){return [_c('tree-builder-toolbar')]})],2),(_vm.isSimulatorActive)?_c('aside',{staticClass:\"tree-sidebar-container\",class:{ 'slide-out': !_vm.$route.meta.isSidebarShown,}},[_c('div',{staticClass:\"sidebar-cue\",class:{'sidebar-close': _vm.$route.meta.isSidebarShown},on:{\"click\":_vm.showOrHideSidebar}},[(_vm.$route.meta.isSidebarShown)?_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'minimize']}}):_c('font-awesome-icon',{staticClass:\"fa-btn\",attrs:{\"icon\":['fac', 'expand']}})],1),_c('div',{staticClass:\"tree-sidebar\"},[_c('clipboard-root')],1)]):_vm._e(),_c('main',{staticClass:\"interaction-designer-main\"},[(_vm.mainComponent === 'builder')?_c('builder-canvas',{attrs:{\"width-adjustment\":_vm.builderWidthAdjustment},nativeOn:{\"click\":function($event){return _vm.handleCanvasSelected.apply(null, arguments)}}}):(_vm.mainComponent === 'resource-viewer')?_c('resource-viewer'):_c('div',[_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\"ERROR: component '\"+_vm._s(_vm.mainComponent)+\"' is not supported\")])])],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionDesigner.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractionDesigner.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InteractionDesigner.vue?vue&type=template&id=6abec910&\"\nimport script from \"./InteractionDesigner.vue?vue&type=script&lang=ts&\"\nexport * from \"./InteractionDesigner.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InteractionDesigner.vue?vue&type=style&index=0&id=6abec910&prod&lang=scss&\"\nimport style1 from \"./InteractionDesigner.vue?vue&type=style&index=1&id=6abec910&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}